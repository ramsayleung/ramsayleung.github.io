<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>writing on 自由庄园</title>
    <link>https://ramsayleung.github.io/zh/categories/writing/</link>
    <description>Recent content in writing on 自由庄园</description>
    <image>
      <title>自由庄园</title>
      <url>https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>See this site&#39;s source code [here](https://github.com/ramsayleung/ramsayleung.github.io), licensed under GPLv3 ·</copyright>
    <lastBuildDate>Wed, 25 Jan 2023 14:25:00 +0800</lastBuildDate><atom:link href="https://ramsayleung.github.io/zh/categories/writing/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>我的写作流</title>
      <link>https://ramsayleung.github.io/zh/post/2023/%E6%88%91%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/</link>
      <pubDate>Wed, 25 Jan 2023 14:25:00 +0800</pubDate>
      
      <guid>https://ramsayleung.github.io/zh/post/2023/%E6%88%91%E7%9A%84%E5%86%99%E4%BD%9C%E6%B5%81/</guid>
      <description>1 前言 自大学起，已经写过好几年的东西，写作工具和流程也反复折腾过好多回. 目前的写作流程已经很流程顺手，所以想分享一下。 2 写作工具 我不倾向任何</description>
      <content:encoded><![CDATA[<h2 id="前言"><!-- raw HTML omitted -->1<!-- raw HTML omitted --> 前言</h2>
<p>自大学起，已经写过好几年的东西，写作工具和流程也反复折腾过好多回. 目前的写作流程已经很流程顺手，所以想分享一下。</p>
<h2 id="写作工具"><!-- raw HTML omitted -->2<!-- raw HTML omitted --> 写作工具</h2>
<p>我不倾向任何专用格式的写作软件（如Word）, 或者笔记云服务（EverNote，xx笔记等）。</p>
<p>因为前者只能使用专门的软件打开，和该软件绑定，会导致文本内容被专用的软件绑架。
可能过个10年，可能该软件不再流行，你甚至无法打开自己的文章。</p>
<p>对于笔记服务，你的文章数据甚至不掌握在你手里，该服务停用，你的数据就会全部丢失。</p>
<p>所以我倾向于「本地化储存」+「文本格式」 + 「易于同步」的写作方案</p>
<p>最后我选择的写作工具是 <code>Emacs</code> + <code>org-mode</code>，不熟悉<code>org-mode</code> 的读者可能不知道 <code>org-mode</code> 是什么，可能理解成类似是<code>markdown</code> 的标记语言，但是和<code>Emacs</code> 结合后，易用性与扩展性比<code>markdown</code> 提高了一个数量级。</p>
<p>这篇文章就是使用 <code>Emacs</code> + <code>org-mode</code> 写出来的:</p>
<figure><a href="/ox-hugo/emacs_org_mode.png">
    <img loading="lazy" src="/ox-hugo/emacs_org_mode.png"/> </a>
</figure>

<h2 id="写作平台"><!-- raw HTML omitted -->3<!-- raw HTML omitted --> 写作平台</h2>
<h3 id="博客"><!-- raw HTML omitted -->3.1<!-- raw HTML omitted --> 博客</h3>
<p>在大学时期，我使用的是 <a href="https://github.com/emacsorphanage/org-page"><code>org-page</code></a> + <code>org-mode</code> 来自建博客在 <a href="https://pages.github.com/"><code>Github Pages</code></a>, 写了大概一年的博客文章。</p>
<p>后来因为 <code>org-page</code> 总是存在各种奇怪的小bug，博客样式也只有那么几种，不能满足折腾欲望很强烈的我
（这种行为和年少时喜欢在QQ空间换皮肤差不多）。</p>
<p>大概是2018年，我当时学习了Rust，打算找个机会来练手，然后就使用Rust搭建了个人的博客，开源在<a href="https://github.com/ramsayleung/blog">Github</a>上，还有100+的star，就这样，在自己的博客上又写了几年文章。</p>
<p>直到2022年，因为工作太忙碌，没有太多时间来维护博客的代码以及运维博客的服务。
自建博客的初衷只是为了有个地方可以承载我写的内容，只是因为年轻，有精力折腾，就自己写代码，搭建服务。</p>
<p>但总体而言，写作的流程并不顺手: 因为我一直都是使用<code>org-mode</code> 来写作，而我自己的博客只支持<code>markdown</code> 格式，这就意味着我必须每次写作完成后，需要将<code>org-mode</code> 转换成<code>markdown</code> , 然后再在博客后台发布。</p>
<p>如果涉及到图片就更麻烦，需要将图片逐张上传到图床，然后再插入到<code>org-mode</code>中, 而博客使用的<code>markdown</code> 编辑器过了5年后，开发者已经不维护了，所以免不了又会有各种小问题。</p>
<p>我又尝试了<code>Emacs</code> + <code>org-mode</code> + <code>hugo</code> 的博客方案，发现使用起来非常舒心，发布文章几乎无成本。正好碰上博客服务器到期，就干脆切换回<code>Github Pages</code>.</p>
<p><code>hugo</code> 是使用<code>markdown</code> 来构建网站的框架，而我使用的<code>org-mode</code>，所以还需要一个工具将<code>org-mode</code> 转换为<code>hugo markdown</code>，这个就是<code>Emacs</code> 插件<a href="https://ox-hugo.scripter.co/"><code>ox-hugo</code></a>。当然， <code>hugo</code> 原生也支持<code>org-mode</code>, 只是功能支持不完整， 不及<code>ox-hugo</code>.</p>
<p><code>ox-hugo</code> 只需要将在<code>org-mode</code> 内容的最开始插入标记：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-org" data-lang="org"><span class="line"><span class="cl"><span class="cs">#+HUGO_BASE_DIR</span><span class="c">: ~/code/org/ramsayleung.github.io</span>
</span></span><span class="line"><span class="cl"><span class="cs">#+HUGO_SECTION</span><span class="c">: post/2023</span>
</span></span><span class="line"><span class="cl"><span class="cs">#+HUGO_CUSTOM_FRONT_MATTER</span><span class="c">: :toc true</span>
</span></span><span class="line"><span class="cl"><span class="cs">#+HUGO_AUTO_SET_LASTMOD</span><span class="c">: t</span>
</span></span><span class="line"><span class="cl"><span class="cs">#+HUGO_DRAFT</span><span class="c">: false</span>
</span></span><span class="line"><span class="cl"><span class="cs">#+DATE</span><span class="c">: [2023-01-25 Wed 14:25]</span>
</span></span><span class="line"><span class="cl"><span class="cs">#+TITLE</span><span class="c">: 我的写作流</span>
</span></span><span class="line"><span class="cl"><span class="cs">#+HUGO_TAGS</span><span class="c">: writing</span>
</span></span><span class="line"><span class="cl"><span class="cs">#+HUGO_CATEGORIES</span><span class="c">: writing</span>
</span></span></code></pre></div><p>Emacs一个快捷键 <code>C-c C-e H h</code> 就可以将<code>org-mode</code> 转换成<code>hugo</code> 格式的<code>markdown</code>:</p>
<figure><a href="/ox-hugo/one-post-per-subtree.png">
    <img loading="lazy" src="/ox-hugo/one-post-per-subtree.png"/> </a>
</figure>

<p>结合<a href="https://github.com/ramsayleung/ramsayleung.github.io/blob/master/.github/workflows/gh-pages.yml">Github Action</a>，就可以自动把导出的markdown 博文部署到Github Pages，称得上是一键部署。</p>
<p>不过，说出来有点心酸，我在博客写的文章，读者大多是我自己。</p>
<h3 id="公众号"><!-- raw HTML omitted -->3.2<!-- raw HTML omitted --> 公众号</h3>
<p>在过新年的时候，闲来无事，新开了一个公众号「宫孙说」，用来「一鱼多吃」，将自己文章也转到公众号。</p>
<p>因为Richard Stallman的影响，我一直是倾向于开放，自由的软件与生态，所以对于公众号这样仅限于「微信」封闭生态的平台不感冒。</p>
<p>另外，关于「公众号」的看法，我是与陈皓一致的，详见他的文章<a href="https://coolshell.cn/articles/17391.html">《为什么我不在微信公众号上写文章》</a></p>
<p>但不可否认的是，「公众号」是国内最完善的创作平台，有完整的分享，阅读生态。</p>
<p>毕竟我不只写技术文章，还会写一些历史，人文类的文章，我希望可以分享给朋友，但Github Pages会间歇性被墙，朋友们大多是在微信阅读文章，虽然博客支持移动端，但是体验终究不及「公众号」。</p>
<p>屈服于现实压力，我最终开了这个公众号。</p>
<h3 id="知乎"><!-- raw HTML omitted -->3.3<!-- raw HTML omitted --> 知乎</h3>
<p>知乎也是国内创作氛围相对自由和蓬勃的平台，本着「一鱼多吃」的心态，我也会把文章转载到知乎上。</p>
<h3 id="km"><!-- raw HTML omitted -->3.4<!-- raw HTML omitted --> KM</h3>
<p>这是公司内部的知识交流创作平台，算是私域流量。有点难以置信的是，在这个读者数量远不如外部的平台，我写的文章有最多的阅读与收藏.
或许是因为我写的内容贴近业务，是同事比较感兴趣的。</p>
<h3 id="一鱼多吃的问题"><!-- raw HTML omitted -->3.5<!-- raw HTML omitted --> 一鱼多吃的问题</h3>
<p>将同一篇文章分发到多个平台，就难免会有不同平台格式不通的问题。</p>
<p>上面这些平台，都是不支持 <code>org-mode</code> 这种相对小众的文本格式，所以 <code>markdown</code> 算是比较理想的中间格式，可以先把<code>org-mode</code> 转换成<code>hugo markdown</code>，再将<code>hugo markdown</code> 转换成<code>markdown</code>:</p>
<figure><a href="/ox-hugo/%e5%86%99%e4%bd%9c%e6%b5%81%e7%a8%8b.png">
    <img loading="lazy" src="/ox-hugo/%e5%86%99%e4%bd%9c%e6%b5%81%e7%a8%8b.png"/> </a>
</figure>

<p>使用 <code>ox-hugo</code>，可以将<code>org-mode</code> 转换成<code>hugo markdown</code> , 至于将<code>hugo markdown</code> 转换成<code>markdown</code>, 我写了个脚本 <a href="https://gist.github.com/ramsayleung/4b408dddc9ac1b4ef3464f5e9df1a9ef#file-hugomd2md-sh"><code>hugomd2md.sh</code></a>来处理：</p>
<p>除了将<code>hugo markdown</code> 转换成<code>markdown</code>，使用Github Pages 当作图床，还在最后插入一个公众号广告。</p>
<h2 id="写在最后"><!-- raw HTML omitted -->4<!-- raw HTML omitted --> 写在最后</h2>
<p>因为使用<code>Emacs</code> + <code>org-mode</code> 写文章非常顺手，所以我写下了很多的文稿，只是思绪杂乱，不方便都发布出来.</p>
<p>现在正逐步将存稿往公众号平台上迁移，只是公众号有诸多限制，其中一条是一天只能群发一篇文章，只能「小刀锯大树」，慢慢来了。</p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
