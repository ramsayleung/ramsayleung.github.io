<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>我的画图流：画图工具与技巧分享 | 自由庄园</title>
<meta name=keywords content="tool"><meta name=description content="1 前言 古人云：「一图胜千言」。 一幅合适的图片可以清晰地向读者表达我们的意图，又因为我们人脑的作用机制，阅读一张图片所耗费的脑力要远少于一段文"><meta name=author content="Ramsay Leung"><link rel=canonical href=https://ramsayleung.github.io/zh/post/2023/%E6%88%91%E7%9A%84%E7%94%BB%E5%9B%BE%E6%B5%81/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.6a3b6ec91bc56af74a0792ef121157f4d1cdb82f23aa512b8eb93759b0aa3123.css integrity="sha256-ajtuyRvFavdKB5LvEhFX9NHNuC8jqlErjrk3WbCqMSM=" rel="preload stylesheet" as=style><link rel=icon href=https://ramsayleung.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ramsayleung.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ramsayleung.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://ramsayleung.github.io/apple-touch-icon.png><link rel=mask-icon href=https://ramsayleung.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://ramsayleung.github.io/zh/post/2023/%E6%88%91%E7%9A%84%E7%94%BB%E5%9B%BE%E6%B5%81/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-9MG65HQHEL"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9MG65HQHEL",{anonymize_ip:!1})}</script><meta property="og:title" content="我的画图流：画图工具与技巧分享"><meta property="og:description" content="1 前言 古人云：「一图胜千言」。 一幅合适的图片可以清晰地向读者表达我们的意图，又因为我们人脑的作用机制，阅读一张图片所耗费的脑力要远少于一段文"><meta property="og:type" content="article"><meta property="og:url" content="https://ramsayleung.github.io/zh/post/2023/%E6%88%91%E7%9A%84%E7%94%BB%E5%9B%BE%E6%B5%81/"><meta property="og:image" content="https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-01-30T19:22:00-08:00"><meta property="article:modified_time" content="2025-01-09T17:44:07-08:00"><meta property="og:site_name" content="Ramsay's Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="我的画图流：画图工具与技巧分享"><meta name=twitter:description content="1 前言 古人云：「一图胜千言」。 一幅合适的图片可以清晰地向读者表达我们的意图，又因为我们人脑的作用机制，阅读一张图片所耗费的脑力要远少于一段文"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ramsayleung.github.io/zh/post/"},{"@type":"ListItem","position":2,"name":"我的画图流：画图工具与技巧分享","item":"https://ramsayleung.github.io/zh/post/2023/%E6%88%91%E7%9A%84%E7%94%BB%E5%9B%BE%E6%B5%81/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"我的画图流：画图工具与技巧分享","name":"我的画图流：画图工具与技巧分享","description":"1 前言 古人云：「一图胜千言」。 一幅合适的图片可以清晰地向读者表达我们的意图，又因为我们人脑的作用机制，阅读一张图片所耗费的脑力要远少于一段文","keywords":["tool"],"articleBody":"1 前言 古人云：「一图胜千言」。 一幅合适的图片可以清晰地向读者表达我们的意图，又因为我们人脑的作用机制，阅读一张图片所耗费的脑力要远少于一段文字，故而我们对图片更加深刻。\n古人又云，「工欲善其事，必先利其器」，那么我就来分享一下我使用得顺手的画图工具与画图技巧。\n2 excalidraw excalidraw 是我最常用的画图工具，是一款开源的手绘画风的画板工具，图形风格是简洁而精美，一经使用，便爱不释手。\n非常适合构建原型或阐述想法\n我见证它在Github上的star数从10k涨至现在的40k，表明众多用户对它的喜爱。\nexcalidraw提供了基本的图形，如矩形，图形，菱形，文本，箭头等，稍经组合，就可以绘制很精美，简洁的图画。\n2.1 涂鸦之作 Hadoop 词频计算:\n数据治理:\n数据未分层:\n数据分层:\n因为excalidraw 相当的灵活，甚至系统循环图我都是使用它来绘制的：\n系统循环图:\n2.2 素材库 如果基本的图形无法满足诉求的话，excalidraw 还提供了在线library，供设计师把他们的图形，图标分享给其他用户。例如系统架构图，AWS组件图，UML图，手绘人物图等等，应有尽有，不一而足。\n素材库:\n(商户系统的头像就是引用自 library)\n2.3 在线协作 excalidraw 还支持端对端加密的在线协作，只需要将一个链接发送给协议方，就能实现画图在线协作：\n1 https://excalidraw.com/#room=91bd46ae3aa84dff9d20,pfLqgEoY1c2ioq8LmGwsFA 在远程会议，需要多方画图协作沟通的时候非常有用。\n2.4 技巧分享 excalidraw 画曲线的技巧\n按住Control/Command, 然后双击线条，进入曲线编辑模式 然后拖动线条，使用Control/Command + D 在末尾增加一个端点，或者使用删除键删除一个端点（留意excalidraw 工具栏下方的操作提示） 绘制曲线:\n我在拙作《我的写作流》中提到过，我倾向「本地化」+ 「文本化」 + 「版本管理」 + 「云同步」的知识管理文案，对于图片管理，我也是类似的倾向。\n因为图片是二进制流，无法做版本管理，所以我一般会把excalidraw 文件保存到本地，保存成xxx.excalidraw 的文件，实际是Json 文本；然后再导出成png, svg 等各种形式的图片文件。\n如果需要修改图片或者复制，剪切，只需要导入xxx.excalidraw，修改保存成新的excalidraw 文件，即可以实现「版本管理」\n原来excalidraw 有个限制，就是一次只能编辑一个excalidraw 文件，经@qisdreamyan 提醒，Vscode的excalidraw 插件支持直接在Vscode 里面编辑excalidraw 文件，那么就可以同时编辑多个文件啦。\n目前excalidraw 美中不足的一点就是，不支持手绘风格的非拉丁文字体，如中文，日文字体等，很早之前就有issue在谈论了，目前还没有什么进展。\n3 graphviz 我主要是用graphviz 来绘制复杂的关系图，timeline图。 它系出名门，出自大名鼎鼎的的AT\u0026T实验室，类似微软出的「Visio」，但两者有个本质的差别。\n就是「Visio」是手动的，需要绘图者指定点线之间的布局，而graphviz 是自动布局的，只要将告知graphviz点与线的关系，graphviz 就能实现「自动布局」。\n如果是绘制简单的布局的图表，「自动布局」与「手动布局」差别不大。\n但如果是绘制复杂的图画，「手动布局」不仅繁琐，还不美观，而「自动布局」都能帮我们轻松搞定，为我们节省非常多的精力。\n不看广告，看疗效，来看下我使用graphviz 画出的图：\n土地财政时间线:\n西方哲学史演进历程:\nGraphviz 官方示例库：\nUnix 家谱:\n数据结构:\n更多更复杂的示例，可见官方的gallery\n3.1 快速入门 graphviz 使用所谓的「dot 语言(language)」这种标记语言来描述图形，然后再由命令行生成图片。\n程序员们可以把这个理解成，从源码编译到可执行文件。\n3.1.1 有向图 (digraph)与无向图 (graph) dot语言支持两种图形，分别是有向图 (digraph)与无向图(graph).\n定义一个无向图\n1 2 3 4 5 graph mygraph { 1 -- 2 -- 3; 2 -- 4; } // graph 标识来定义一个无向图 定义一个有向图：\n1 2 3 4 5 digraph mydigraph { 1 -\u003e 2 -\u003e 3; 2 -\u003e 4; } // digraph 标识来定义一个无向图 命名规范与C家族的编程语言类似：图形关系定义在花括号={}= 中；每条语句以 ; 结尾; // 表示单行注释, =/**/=表示多行注释\n3.1.2 节点(node) mydigraph 是图形名，=1=, 2 是节点名(node), 两个节点构成一条边(edge)。在图的定义中，相同的名称就代表同一个节点。\n当dot 编译器遇到一个新的名称，就认为是新的节点\n3.1.3 属性(property) 属性可以设置在节点和边上，通过「方括号 =[]=」来定义属性，属性之间用英文逗号分隔。\n属性的定义采用如下的格式：\n1 属性名 = 属性值 常见的属性有：\nlabel: 标题 color: 颜色 style: 样式 shape: 形状 1 2 3 4 5 6 7 8 9 strict graph { // 设置节点属性 1 [shape=box]; 3 [shape=triangle]; // 设置边属性 1 -- 2 [color=blue]; 1 -- 3 [style=dotted]; } 属性还可以作用于图(graph)上，常用的属性包括:\nlabel:标题 bgcolor:颜色 fontname:字体名称（【不】影响节点和连线） fontsize:字体大小（【不】影响节点和连线） fontcolor:字体颜色（【不】影响节点和连线） center:是否居中绘制 1 2 3 4 5 6 7 digraph graph_attr { graph[bgcolor=\"yellow\" label=\"标题\" fontsize=24 fontcolor=\"green\"]; 1 -\u003e 2; 1 -\u003e 3; } 更多的属性可见官网：Attributes\n3.1.4 子图(subgraph) subgraph 的作用主要有 3 个：\n表示图的结构，对节点和边进行分组 提供一个单独的上下文设置属性（类似操作系统里面不同的线程，有不同的线程变量） 针对特定引擎使用特殊的布局。比如下面的例子，如果 subgraph 的名字以 cluster 开头，所有属于这个子图的节点会用一个矩形和其他节点分开。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 digraph graphname{ a -\u003e {b c}; c -\u003e e; b -\u003e d; subgraph cluster_bc { bgcolor=red; b; c; } subgraph cluster_de { label=\"Block\" d; e; } } 3.1.5 图布局(layout) 默认情况下图是从上到下布局的(rankdir \"TB\")，通过设置 rankdir“LR” 可以让图从左到右布局。\n默认布局(From top to bottom)\n1 2 3 4 digraph { rankdir=\"TB\" a -\u003e b -\u003e c; } From Left to right:\n1 2 3 4 digraph { rankdir=\"LR\" a -\u003e b -\u003e c; } 该属性只针对图(graph)生效.\n3.1.6 示例 再回头看下，「土地财政时间线」这图的源代码：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 digraph 土地财政时间线 { size=\"7,8\"; node [fontsize=24, shape = plaintext]; 1976 -\u003e 1985; 1985 -\u003e 1994; 1994 -\u003e 1998; 1998 -\u003e 1999; 1999 -\u003e 2000; 2000 -\u003e 2001; 2001 -\u003e 2002; 2002 -\u003e 2008; 2008 -\u003e 2009; 2009 -\u003e 2014; 2014 -\u003e 2015; node [fontsize=20, shape = box]; { rank=same; 1976 \"改革开放\"; } { rank=same; 1985 \"财政包干\"; } { rank=same; 1994 \"分税制改革\"; } { rank=same; 1998 \"住房商品化改革\" \"《中华人民共和国土地管理法》实施\"; } { rank=same; 1999 \"土地财政兴起\"; } { rank=same; 2000 \"工业化\" \"城市化\" \"土地金融\"; } { rank=same; 2001 \"房价\"; } { rank=same; 2002 \"所得税改革\"; } { rank=same; 2008 \"金融危机\" \"四万亿刺激\"; } { rank=same; 2009 \"房地产与基建投资激增\"; } { rank=same; 2014 \"产能积压\" \"库存过剩\"; } { rank=same; 2015 \"棚改货币化\" \"涨价去库存\" ; } \"改革开放\" -\u003e \"财政包干\"; \"财政包干\" -\u003e \"分税制改革\"[label=\"地方政府收入下降\"]; \"分税制改革\" -\u003e \"所得税改革\"[label=\"地方政府占比下降\"]; \"所得税改革\" -\u003e \"土地金融\"[label=\"促进\"] \"分税制改革\" -\u003e \"土地财政兴起\"[label=\"推动\"] \"土地财政兴起\" -\u003e \"工业化\"; \"土地财政兴起\" -\u003e \"城市化\"; \"土地金融\" -\u003e \"城市化\"[label=\"促进\" color =\"red\"]; \"土地金融\" -\u003e \"房价\"[label =\"推高\"] \"城市化\" -\u003e \"房价\"[label =\"推高\"] \"土地财政兴起\" -\u003e \"土地金融\"[label=\"地方政府收入增加\"]; \"土地金融\" -\u003e \"工业化\"[label=\"促进\" color =\"red\"]; \"住房商品化改革\" -\u003e \"土地财政兴起\"[label=\"停止福利分房\"]; \"《中华人民共和国土地管理法》实施\" -\u003e \"土地财政兴起\"[label=\"限制农业用地非农用途\"]; \"金融危机\" -\u003e \"四万亿刺激\"; \"四万亿刺激\" -\u003e \"房地产与基建投资激增\"[label=\"宽松货币政策\"] \"房地产与基建投资激增\" -\u003e \"产能积压\"; \"房地产与基建投资激增\" -\u003e \"库存过剩\"; \"房地产与基建投资激增\" -\u003e \"土地金融\"[label=\"强化\"]; \"产能积压\" -\u003e \"涨价去库存\"; \"库存过剩\" -\u003e \"涨价去库存\"; \"棚改货币化\" -\u003e \"房价起飞\"; \"涨价去库存\" -\u003e \"房价起飞\"; \"房价\" -\u003e \"房价起飞\"[label =\"逐年上涨\"]; } 3.1.7 编辑器支持 如果是Emacs 用户，可以使用graphviz-dot-mode 来编辑并预览生成的图片，效果如下：\n虽然我是重度Emacs 用户，但是在Emacs上实时预览图片效果并不好。\nEmacs对查看图片功能支持不够强大，无法通过鼠标放大缩小，并实时预览图片。\n如果需要实时预览graphviz 生成的图片，我个人更加推荐使用Vscode + graphviz 插件 ：\n4 plantuml 身为程序员，免不了撰写各种设计方案，绘制各种序列图，类图，活动图，状态机图等等各种UML图。\n而plantuml 就是这样一个绘图组件，支持绘制各种程序开发需要用到的图。\nplantuml 依赖的底层组件就有前文提到的graphviz，所以plantuml的语法也类似graphviz, 通过自定义的标记语言，来描述不同图形之间的关系，「自动布局」并绘制。\n学过UML规范的同学应该都知道这些图应该怎么画，我就拿几个常见的图来举个例子。\n4.1 时序图 plantuml 提供不同的组件供时序图使用。不同的组件有不同的形状，默认情况下，组件的声明顺序就是他们的展示顺序。\n使用=-\u003e= 来表示在两个组件/参与者(participant) 之间传递消息，=\u003c–= 表示回包信息。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 @startuml participant Participant as Foo actor Actor as Foo1 boundary Boundary as Foo2 control Control as Foo3 entity Entity as Foo4 database Database as Foo5 collections Collections as Foo6 queue Queue as Foo7 Foo -\u003e Foo1 : To actor Foo -\u003e Foo2 : To boundary Foo -\u003e Foo3 : To control Foo -\u003e Foo4 : To entity Foo -\u003e Foo5 : To database Foo -\u003e Foo6 : To collections Foo -\u003e Foo7: To queue Foo \u003c-- Foo7: Response from queue @enduml 时序图的更多用法可见官网文档：Sequence-Diagram\n4.2 活动图 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @startuml start repeat :Test something; if (Something went wrong?) then (no) #palegreen:OK; break endif -\u003eNOK; :Alert \"Error with long text\"; repeat while (Something went wrong with long text?) is (yes) not (no) -\u003e//merged step//; :Alert \"Success\"; stop @enduml 4.3 编辑器 如果需要实时预览，个人推荐Vscode + plantuml插件来绘制plantuml 图，所见即所得，实时预览，并提供代码补全：\n5 matplotlib 这就是个绘图库了，主要是用来绘制各种图表，比如折线图，饼图，直方图等，通常是配合数据分析使用，还支持xkcd 风格。\n之前在上MIT 6.00网课的时候，John Guttag教授出了一个概率统计题，一个醉汉每次向四个方向中任意一个方向走一步，500步后，醉汉是离原点越来越近呢，还是越来越远？\n下面是Python代码实现，模拟醉汉行为：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 # 运行下面代码前，确保依赖已安装 # pip3 install matplotlib --user import math, random import matplotlib.pyplot as plt plt.xkcd() class Location(object): def __init__(self, x, y): self.x = float(x) self.y = float(y) def move(self, xc, yc): return Location(self.x + float(xc), self.y + float(yc)) def getCoords(self): return self.x, self.y def getDist(self, other): ox, oy = other.getCoords() xDist = self.x - ox yDist = self.y - oy return math.sqrt(xDist**2 + yDist **2) class CompassPt(object): possibles = ('N', 'S', 'E', 'W') def __init__(self, pt): if pt in self.possibles: self.pt = pt else: raise ValueError(\"in CompassPt.__init__\") def move(self, dist): if self.pt == \"N\": return (0, dist) elif self.pt == \"S\": return (0, -dist) elif self.pt == \"E\": return (dist, 0) elif self.pt == \"W\": return (-dist, 0) else: raise ValueError(\"in CompassPt.move\") class Field(object): def __init__(self, drunk, loc): self.drunk = drunk self.loc = loc def move(self, cp, dist): oldLoc = self.loc xc, yc = cp.move(dist) self.loc = oldLoc.move(xc,yc) def getLoc(self): return self.loc def getDrunk(self): return self.drunk class Drunk(object): def __init__(self, name): self.name = name def move(self, field, time = 1): if field.getDrunk() != self: raise ValueError(\"Drunk.move called with drunk not in field\") for i in range(time): pt = CompassPt(random.choice(CompassPt.possibles)) field.move(pt, 1) def performTrial(time,f ): start = f.getLoc() distances = [0.0] for t in range(1, time+1): f.getDrunk().move(f) newLoc = f.getLoc() distance = newLoc.getDist(start) distances.append(distance) return distances def firstTest(): drunk= Drunk(\"Homser Simpson\") for i in range(5): f = Field(drunk, Location(0, 0)) distances = performTrial(500, f) plt.plot(distances) plt.title(\"Homer's random Walk\") plt.xlabel(\"Time\") plt.ylabel(\"Distance from origin\") fname = \"images/mit6.00/simulation_random_walk_trail1.png\" plt.savefig(fname) return fname return firstTest() 模拟5次，生成出来的xkcd风格的图表：\n5.1 再话org-mode 在《我的写作流》里面，我有提到过，我使用Emacs + org-mode 来编写文章，对比markdown 或者其他的标记语言，=org-mode= 有一个巨大的优势，就是=org-mode= 借助内置的org-babel 组件，可以直接运行代码。\n在markdown 里面，下面的代码块的用处仅仅是语法高亮：\n1 2 3 ```python print(\"helloworld\") ``` 但在 org-mode, 下面的代码块是可运行的，我只要在Emacs中按下=C-c C-c=，就会运行代码，并输出=helloword=。\n1 2 3 #+begin_src python print(\"helloworld\") #+end_src 看起来作用不大，但是和 graphviz, plantuml, matplotlib 结合，就会产生无穷的威力：**只要我把绘图源码写好，然后再按下 =C-c C-c=，就能自动生成图片，并自动插入到当前这篇文章中(当然，如果代码写错了，是编译生成不出图片的)**。\n根本不需要手动编译，生成图片，然后再把图片以markdown格式手动插入: ![图片](链接) 。\n上面的概率统计模拟图也是这样生成出来的，写好Python 代码，然后按下 C-c C-c\n一切都浑然天成。\n6 那些年，我使用过的绘图工具 都是曾经使用过，现在也基本弃用的工具：\nWord：最开始时也不知道什么画图工具，就使用Word 来画图。 PPT：写技术方案基本不用了，画PPT做分享和述职，就还只能继续使用。 drawio: 功能丰富，但图形有种说不出的丑，并且绘制起来不顺手 processon: 在线绘图服务，免费版本有绘画张数限制（不记得是10张还是15张）;对于Saas服务而言，数据不属于用户。公司倒闭或限制用户，就有丢失数据风险。 图表与文章一样，都是资产。\n对于这样的重要资产，我还是倾向于「本地化」+ 「文本化」+ 「版本管理」+ 「云同步」的方案，保证图表既易于修改，又无丢失风险。\n7 结语 金庸笔下的「独孤求败」的用剑之道：「四十岁后，不滞于物，草木竹石均可为剑。自此精修，渐进于无剑胜有剑之境」\nexcalidraw, graphviz 也好， plantuml, org-mode 也罢，只是「器」，都只是用来表达想法与智慧的工具。\n所谓「飞花摘叶皆可伤人，草木竹石均可为剑」，真正的大牛，即使不使用画图工具，寥寥数语就会把一个复杂的概念解释得清楚明了。\n厚积而薄发，选择合适的「剑」很重要，但「内功」的修炼同样重要。\n8 参考 Graphviz Documentation Graphviz 入门指南 【自动】绘图工具 Graphviz ","wordCount":"6152","inLanguage":"zh","image":"https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2023-01-30T19:22:00-08:00","dateModified":"2025-01-09T17:44:07-08:00","author":{"@type":"Person","name":"Ramsay Leung"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ramsayleung.github.io/zh/post/2023/%E6%88%91%E7%9A%84%E7%94%BB%E5%9B%BE%E6%B5%81/"},"publisher":{"@type":"Organization","name":"自由庄园","logo":{"@type":"ImageObject","url":"https://ramsayleung.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ramsayleung.github.io/zh/ accesskey=h title="Home (Alt + H)"><img src=https://ramsayleung.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://ramsayleung.github.io/en/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li><a href=https://ramsayleung.github.io/zh/archives/ title=归档><span>归档</span></a></li><li class=dropdown><a href=https://ramsayleung.github.io/zh/categories/ title="系列 "><span>系列 ▾</span></a><div class="menu-more-content dropdown-content"><a href=https://ramsayleung.github.io/zh/categories/%E5%BE%97%E5%A4%B1%E6%84%9F%E6%82%9F/ title=得失感悟><span>得失感悟
</span></a><a href=https://ramsayleung.github.io/zh/categories/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6/ title=测试技能进阶><span>测试技能进阶
</span></a><a href=https://ramsayleung.github.io/zh/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E8%BD%AF%E6%8A%80%E8%83%BD%E6%8C%87%E5%8C%97/ title=软件工程师的软技能指北><span>软件工程师的软技能指北
</span></a><a href=https://ramsayleung.github.io/zh/categories/%E5%B7%A5%E4%BD%9C%E6%B5%81/ title=我的工作流><span>我的工作流
</span></a><a href=https://ramsayleung.github.io/zh/categories/emacs%E6%8A%80%E5%B7%A7 title=Emacs技巧><span>Emacs技巧</span></a></div></li><li><a href=https://ramsayleung.github.io/zh/search/ title=搜索><span>搜索</span></a></li><li><a href=https://ramsayleung.github.io/zh/tags/ title=标签><span>标签</span></a></li><li><a href=https://ramsayleung.github.io/zh/about_me_zh/ title=关于><span>关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ramsayleung.github.io/zh/>主页</a>&nbsp;»&nbsp;<a href=https://ramsayleung.github.io/zh/post/>Posts</a></div><h1 class="post-title entry-hint-parent">我的画图流：画图工具与技巧分享</h1><div class=post-meta><span title='2023-01-30 19:22:00 -0800 -0800'>一月 30, 2023</span>&nbsp;·&nbsp;13 分钟&nbsp;·&nbsp;6152 字&nbsp;·&nbsp;Ramsay Leung&nbsp;|&nbsp;<a href=https://github.com/ramsayleung/ramsayleung.github.io/blob/master/content/post/2023/%e6%88%91%e7%9a%84%e7%94%bb%e5%9b%be%e6%b5%81.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#前言><span class=section-num>1</span> 前言</a></li><li><a href=#excalidraw><span class=section-num>2</span> excalidraw</a><ul><li><a href=#涂鸦之作><span class=section-num>2.1</span> 涂鸦之作</a></li><li><a href=#素材库><span class=section-num>2.2</span> 素材库</a></li><li><a href=#在线协作><span class=section-num>2.3</span> 在线协作</a></li><li><a href=#技巧分享><span class=section-num>2.4</span> 技巧分享</a></li></ul></li><li><a href=#graphviz><span class=section-num>3</span> graphviz</a><ul><li><a href=#快速入门><span class=section-num>3.1</span> 快速入门</a></li></ul></li><li><a href=#plantuml><span class=section-num>4</span> plantuml</a><ul><li><a href=#时序图><span class=section-num>4.1</span> 时序图</a></li><li><a href=#活动图><span class=section-num>4.2</span> 活动图</a></li><li><a href=#编辑器><span class=section-num>4.3</span> 编辑器</a></li></ul></li><li><a href=#matplotlib><span class=section-num>5</span> matplotlib</a><ul><li><a href=#再话org-mode><span class=section-num>5.1</span> 再话org-mode</a></li></ul></li><li><a href=#那些年-我使用过的绘图工具><span class=section-num>6</span> 那些年，我使用过的绘图工具</a></li><li><a href=#结语><span class=section-num>7</span> 结语</a></li><li><a href=#参考><span class=section-num>8</span> 参考</a></li></ul></nav></div></details></div><div class=post-content><h2 id=前言><span class=section-num>1</span> 前言<a hidden class=anchor aria-hidden=true href=#前言>#</a></h2><p>古人云：「一图胜千言」。
一幅合适的图片可以清晰地向读者表达我们的意图，又因为我们人脑的作用机制，阅读一张图片所耗费的脑力要远少于一段文字，故而我们对图片更加深刻。</p><p>古人又云，「工欲善其事，必先利其器」，那么我就来分享一下我使用得顺手的画图工具与画图技巧。</p><h2 id=excalidraw><span class=section-num>2</span> excalidraw<a hidden class=anchor aria-hidden=true href=#excalidraw>#</a></h2><p><a href=https://excalidraw.com/>excalidraw</a> 是我最常用的画图工具，是一款开源的手绘画风的画板工具，图形风格是简洁而精美，一经使用，便爱不释手。</p><p>非常适合构建原型或阐述想法</p><p>我见证它在Github上的star数从10k涨至现在的40k，表明众多用户对它的喜爱。</p><p>excalidraw提供了基本的图形，如矩形，图形，菱形，文本，箭头等，稍经组合，就可以绘制很精美，简洁的图画。</p><h3 id=涂鸦之作><span class=section-num>2.1</span> 涂鸦之作<a hidden class=anchor aria-hidden=true href=#涂鸦之作>#</a></h3><p>Hadoop 词频计算:</p><figure><a href=/ox-hugo/word_freq_count.png><img loading=lazy src=/ox-hugo/word_freq_count.png></a></figure><p>数据治理:</p><figure><a href=/ox-hugo/%e6%95%b0%e6%8d%ae%e6%b2%bb%e7%90%86.png><img loading=lazy src=/ox-hugo/%e6%95%b0%e6%8d%ae%e6%b2%bb%e7%90%86.png></a></figure><p>数据未分层:</p><figure><a href=/ox-hugo/%e6%95%b0%e6%8d%ae%e6%9c%aa%e5%88%86%e5%b1%82.png><img loading=lazy src=/ox-hugo/%e6%95%b0%e6%8d%ae%e6%9c%aa%e5%88%86%e5%b1%82.png></a></figure><p>数据分层:</p><figure><a href=/ox-hugo/%e6%95%b0%e6%8d%ae%e5%88%86%e5%b1%82.png><img loading=lazy src=/ox-hugo/%e6%95%b0%e6%8d%ae%e5%88%86%e5%b1%82.png></a></figure><p>因为excalidraw 相当的灵活，甚至系统循环图我都是使用它来绘制的：</p><p>系统循环图:</p><figure><a href=/ox-hugo/%e4%ba%ba%e5%8f%a3%e4%b8%8e%e5%80%ba%e5%8a%a1%e9%a3%8e%e9%99%a93.png><img loading=lazy src=/ox-hugo/%e4%ba%ba%e5%8f%a3%e4%b8%8e%e5%80%ba%e5%8a%a1%e9%a3%8e%e9%99%a93.png></a></figure><h3 id=素材库><span class=section-num>2.2</span> 素材库<a hidden class=anchor aria-hidden=true href=#素材库>#</a></h3><p>如果基本的图形无法满足诉求的话，excalidraw 还提供了在线<a href="https://libraries.excalidraw.com/?theme=light&amp;sort=default">library</a>，供设计师把他们的图形，图标分享给其他用户。例如系统架构图，AWS组件图，UML图，手绘人物图等等，应有尽有，不一而足。</p><p>素材库:</p><figure><a href=/ox-hugo/library.png><img loading=lazy src=/ox-hugo/library.png></a></figure><p>(商户系统的头像就是引用自 library)</p><h3 id=在线协作><span class=section-num>2.3</span> 在线协作<a hidden class=anchor aria-hidden=true href=#在线协作>#</a></h3><p>excalidraw 还支持端对端加密的在线协作，只需要将一个链接发送给协议方，就能实现画图在线协作：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>https://excalidraw.com/#room=91bd46ae3aa84dff9d20,pfLqgEoY1c2ioq8LmGwsFA
</span></span></code></pre></td></tr></table></div></div><p>在远程会议，需要多方画图协作沟通的时候非常有用。</p><h3 id=技巧分享><span class=section-num>2.4</span> 技巧分享<a hidden class=anchor aria-hidden=true href=#技巧分享>#</a></h3><p>excalidraw 画曲线的技巧</p><ol><li>按住Control/Command, 然后双击线条，进入曲线编辑模式</li><li>然后拖动线条，使用Control/Command + D 在末尾增加一个端点，或者使用删除键删除一个端点（留意excalidraw 工具栏下方的操作提示）</li></ol><p>绘制曲线:</p><figure><a href=/ox-hugo/cursed_line.gif><img loading=lazy src=/ox-hugo/cursed_line.gif></a></figure><p>我在拙作<a href=https://mp.weixin.qq.com/s/mid3TpmXJMM7xWm5rfl7qg>《我的写作流》</a>中提到过，我倾向「本地化」+ 「文本化」 + 「版本管理」 + 「云同步」的知识管理文案，对于图片管理，我也是类似的倾向。</p><p>因为图片是二进制流，无法做版本管理，所以我一般会把excalidraw 文件保存到本地，保存成xxx.excalidraw 的文件，实际是Json 文本；然后再导出成png, svg 等各种形式的图片文件。</p><p>如果需要修改图片或者复制，剪切，只需要导入xxx.excalidraw，修改保存成新的excalidraw 文件，即可以实现「版本管理」</p><figure><a href=/ox-hugo/excalidraw%e7%ae%a1%e7%90%86.png><img loading=lazy src=/ox-hugo/excalidraw%e7%ae%a1%e7%90%86.png></a></figure><p>原来excalidraw 有个限制，就是一次只能编辑一个excalidraw 文件，经@qisdreamyan 提醒，Vscode的<a href="https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor">excalidraw 插件</a>支持直接在Vscode 里面编辑excalidraw 文件，那么就可以同时编辑多个文件啦。</p><figure><a href=/ox-hugo/vscode_excalidraw.gif><img loading=lazy src=/ox-hugo/vscode_excalidraw.gif></a></figure><p>目前excalidraw 美中不足的一点就是，不支持手绘风格的非拉丁文字体，如中文，日文字体等，很早之前就有<a href=https://github.com/excalidraw/excalidraw/pull/5604>issue</a>在谈论了，目前还没有什么进展。</p><h2 id=graphviz><span class=section-num>3</span> graphviz<a hidden class=anchor aria-hidden=true href=#graphviz>#</a></h2><p>我主要是用graphviz 来绘制复杂的关系图，timeline图。
它系出名门，出自大名鼎鼎的的AT&amp;T实验室，类似微软出的「Visio」，但两者有个本质的差别。</p><p>就是「Visio」是手动的，需要绘图者指定点线之间的布局，而graphviz 是自动布局的，只要将告知graphviz点与线的关系，graphviz 就能实现「自动布局」。</p><p>如果是绘制简单的布局的图表，「自动布局」与「手动布局」差别不大。</p><p>但如果是绘制复杂的图画，「手动布局」不仅繁琐，还不美观，而「自动布局」都能帮我们轻松搞定，为我们节省非常多的精力。</p><p>不看广告，看疗效，来看下我使用graphviz 画出的图：</p><p>土地财政时间线:</p><figure><a href=/ox-hugo/%e5%9c%9f%e5%9c%b0%e8%b4%a2%e6%94%bf%e6%97%b6%e9%97%b4%e7%ba%bf.png><img loading=lazy src=/ox-hugo/%e5%9c%9f%e5%9c%b0%e8%b4%a2%e6%94%bf%e6%97%b6%e9%97%b4%e7%ba%bf.png></a></figure><p>西方哲学史演进历程:</p><figure><a href=/ox-hugo/%e8%a5%bf%e6%96%b9%e5%93%b2%e5%ad%a6%e5%8f%b2.png><img loading=lazy src=/ox-hugo/%e8%a5%bf%e6%96%b9%e5%93%b2%e5%ad%a6%e5%8f%b2.png></a></figure><p>Graphviz 官方示例库：</p><p>Unix 家谱:</p><figure><a href=/ox-hugo/unix.png><img loading=lazy src=/ox-hugo/unix.png></a></figure><p>数据结构:</p><figure><a href=/ox-hugo/datastruct.png><img loading=lazy src=/ox-hugo/datastruct.png></a></figure><p>更多更复杂的示例，可见官方的<a href=http://www.graphviz.org/gallery/>gallery</a></p><h3 id=快速入门><span class=section-num>3.1</span> 快速入门<a hidden class=anchor aria-hidden=true href=#快速入门>#</a></h3><p>graphviz 使用所谓的「dot 语言(language)」这种标记语言来描述图形，然后再由命令行生成图片。</p><p>程序员们可以把这个理解成，从源码编译到可执行文件。</p><h4 id=有向图--digraph--与无向图--graph><span class=section-num>3.1.1</span> 有向图 (digraph)与无向图 (graph)<a hidden class=anchor aria-hidden=true href=#有向图--digraph--与无向图--graph>#</a></h4><p>dot语言支持两种图形，分别是有向图 (digraph)与无向图(graph).</p><p>定义一个无向图</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>graph mygraph {
</span></span><span class=line><span class=cl>1 -- 2 -- 3;
</span></span><span class=line><span class=cl>2 -- 4;
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>// graph 标识来定义一个无向图
</span></span></code></pre></td></tr></table></div></div><figure><img loading=lazy src=/ox-hugo/graph.png></figure><p>定义一个有向图：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>digraph mydigraph {
</span></span><span class=line><span class=cl>1 -&gt; 2 -&gt; 3;
</span></span><span class=line><span class=cl>2 -&gt; 4;
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>// digraph 标识来定义一个无向图
</span></span></code></pre></td></tr></table></div></div><figure><img loading=lazy src=/ox-hugo/digraph.png></figure><p>命名规范与C家族的编程语言类似：图形关系定义在花括号={}= 中；每条语句以 <code>;</code> 结尾; <code>//</code> 表示单行注释, =/**/=表示多行注释</p><h4 id=节点--node><span class=section-num>3.1.2</span> 节点(node)<a hidden class=anchor aria-hidden=true href=#节点--node>#</a></h4><p><code>mydigraph</code> 是图形名，=1=, <code>2</code> 是节点名(node), 两个节点构成一条边(edge)。在图的定义中，相同的名称就代表同一个节点。</p><p>当dot 编译器遇到一个新的名称，就认为是新的节点</p><h4 id=属性--property><span class=section-num>3.1.3</span> 属性(property)<a hidden class=anchor aria-hidden=true href=#属性--property>#</a></h4><p>属性可以设置在节点和边上，通过「方括号 =[]=」来定义属性，属性之间用英文逗号分隔。</p><p>属性的定义采用如下的格式：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>属性名 = 属性值
</span></span></code></pre></td></tr></table></div></div><p>常见的属性有：</p><ul><li>label: 标题</li><li>color: 颜色</li><li>style: 样式</li><li>shape: 形状</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>strict graph {
</span></span><span class=line><span class=cl>// 设置节点属性
</span></span><span class=line><span class=cl>1 [shape=box];
</span></span><span class=line><span class=cl>3 [shape=triangle];
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// 设置边属性
</span></span><span class=line><span class=cl>1 -- 2 [color=blue];
</span></span><span class=line><span class=cl>1 -- 3 [style=dotted];
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><figure><img loading=lazy src=/ox-hugo/attr.png></figure><p>属性还可以作用于图(graph)上，常用的属性包括:</p><ul><li>label:标题</li><li>bgcolor:颜色</li><li>fontname:字体名称（【不】影响节点和连线）</li><li>fontsize:字体大小（【不】影响节点和连线）</li><li>fontcolor:字体颜色（【不】影响节点和连线）</li><li>center:是否居中绘制</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>digraph graph_attr
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>graph[bgcolor=&#34;yellow&#34; label=&#34;标题&#34; fontsize=24 fontcolor=&#34;green&#34;];
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>1 -&gt; 2;
</span></span><span class=line><span class=cl>1 -&gt; 3;
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><figure><img loading=lazy src=/ox-hugo/graph_attr.png></figure><p>更多的属性可见官网：<a href=http://www.graphviz.org/doc/info/attrs.html>Attributes</a></p><h4 id=子图--subgraph><span class=section-num>3.1.4</span> 子图(subgraph)<a hidden class=anchor aria-hidden=true href=#子图--subgraph>#</a></h4><p>subgraph 的作用主要有 3 个：</p><ul><li>表示图的结构，对节点和边进行分组</li><li>提供一个单独的上下文设置属性（类似操作系统里面不同的线程，有不同的线程变量）</li><li>针对特定引擎使用特殊的布局。比如下面的例子，如果 subgraph 的名字以 cluster 开头，所有属于这个子图的节点会用一个矩形和其他节点分开。<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>digraph graphname{
</span></span><span class=line><span class=cl>a -&gt; {b c};
</span></span><span class=line><span class=cl>c -&gt; e;
</span></span><span class=line><span class=cl>b -&gt; d;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>subgraph cluster_bc {
</span></span><span class=line><span class=cl>bgcolor=red;
</span></span><span class=line><span class=cl>b;
</span></span><span class=line><span class=cl>c;
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>subgraph cluster_de {
</span></span><span class=line><span class=cl>label=&#34;Block&#34;
</span></span><span class=line><span class=cl>d;
</span></span><span class=line><span class=cl>e;
</span></span><span class=line><span class=cl>}
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><figure><img loading=lazy src=/ox-hugo/subgraph.png></figure></li></ul><h4 id=图布局--layout><span class=section-num>3.1.5</span> 图布局(layout)<a hidden class=anchor aria-hidden=true href=#图布局--layout>#</a></h4><p>默认情况下图是从上到下布局的(rankdir <code>"TB")，通过设置 rankdir</code>&ldquo;LR&rdquo; 可以让图从左到右布局。</p><p>默认布局(From top to bottom)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>digraph {
</span></span><span class=line><span class=cl>rankdir=&#34;TB&#34;
</span></span><span class=line><span class=cl>a -&gt; b -&gt; c;
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><figure><img loading=lazy src=/ox-hugo/rankdir_tb.png></figure><p>From Left to right:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>digraph {
</span></span><span class=line><span class=cl>rankdir=&#34;LR&#34;
</span></span><span class=line><span class=cl>a -&gt; b -&gt; c;
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><figure><img loading=lazy src=/ox-hugo/rankdir_lr.png></figure><p>该属性只针对图(graph)生效.</p><h4 id=示例><span class=section-num>3.1.6</span> 示例<a hidden class=anchor aria-hidden=true href=#示例>#</a></h4><p>再回头看下，「土地财政时间线」这图的源代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>digraph 土地财政时间线 {
</span></span><span class=line><span class=cl>size=&#34;7,8&#34;;
</span></span><span class=line><span class=cl>node [fontsize=24, shape = plaintext];
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>1976 -&gt; 1985;
</span></span><span class=line><span class=cl>1985 -&gt; 1994;
</span></span><span class=line><span class=cl>1994 -&gt; 1998;
</span></span><span class=line><span class=cl>1998 -&gt; 1999;
</span></span><span class=line><span class=cl>1999 -&gt; 2000;
</span></span><span class=line><span class=cl>2000 -&gt; 2001;
</span></span><span class=line><span class=cl>2001 -&gt; 2002;
</span></span><span class=line><span class=cl>2002 -&gt; 2008;
</span></span><span class=line><span class=cl>2008 -&gt; 2009;
</span></span><span class=line><span class=cl>2009 -&gt; 2014;
</span></span><span class=line><span class=cl>2014 -&gt; 2015;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>node [fontsize=20, shape = box];
</span></span><span class=line><span class=cl>{ rank=same;  1976 &#34;改革开放&#34;; }
</span></span><span class=line><span class=cl>{ rank=same;  1985 &#34;财政包干&#34;; }
</span></span><span class=line><span class=cl>{ rank=same;  1994 &#34;分税制改革&#34;; }
</span></span><span class=line><span class=cl>{ rank=same;  1998 &#34;住房商品化改革&#34; &#34;《中华人民共和国土地管理法》实施&#34;; }
</span></span><span class=line><span class=cl>{ rank=same;  1999 &#34;土地财政兴起&#34;; }
</span></span><span class=line><span class=cl>{ rank=same;  2000 &#34;工业化&#34; &#34;城市化&#34; &#34;土地金融&#34;; }
</span></span><span class=line><span class=cl>{ rank=same;  2001 &#34;房价&#34;; }
</span></span><span class=line><span class=cl>{ rank=same;  2002 &#34;所得税改革&#34;; }
</span></span><span class=line><span class=cl>{ rank=same;  2008 &#34;金融危机&#34; &#34;四万亿刺激&#34;; }
</span></span><span class=line><span class=cl>{ rank=same;  2009 &#34;房地产与基建投资激增&#34;; }
</span></span><span class=line><span class=cl>{ rank=same;  2014 &#34;产能积压&#34; &#34;库存过剩&#34;; }
</span></span><span class=line><span class=cl>{ rank=same;  2015 &#34;棚改货币化&#34; &#34;涨价去库存&#34; ; }
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&#34;改革开放&#34; -&gt; &#34;财政包干&#34;;
</span></span><span class=line><span class=cl>&#34;财政包干&#34; -&gt; &#34;分税制改革&#34;[label=&#34;地方政府收入下降&#34;];
</span></span><span class=line><span class=cl>&#34;分税制改革&#34; -&gt; &#34;所得税改革&#34;[label=&#34;地方政府占比下降&#34;];
</span></span><span class=line><span class=cl>&#34;所得税改革&#34; -&gt; &#34;土地金融&#34;[label=&#34;促进&#34;]
</span></span><span class=line><span class=cl>&#34;分税制改革&#34; -&gt; &#34;土地财政兴起&#34;[label=&#34;推动&#34;]
</span></span><span class=line><span class=cl>&#34;土地财政兴起&#34; -&gt; &#34;工业化&#34;;
</span></span><span class=line><span class=cl>&#34;土地财政兴起&#34; -&gt; &#34;城市化&#34;;
</span></span><span class=line><span class=cl>&#34;土地金融&#34; -&gt; &#34;城市化&#34;[label=&#34;促进&#34; color =&#34;red&#34;];
</span></span><span class=line><span class=cl>&#34;土地金融&#34; -&gt; &#34;房价&#34;[label =&#34;推高&#34;]
</span></span><span class=line><span class=cl>&#34;城市化&#34; -&gt; &#34;房价&#34;[label =&#34;推高&#34;]
</span></span><span class=line><span class=cl>&#34;土地财政兴起&#34; -&gt; &#34;土地金融&#34;[label=&#34;地方政府收入增加&#34;];
</span></span><span class=line><span class=cl>&#34;土地金融&#34; -&gt; &#34;工业化&#34;[label=&#34;促进&#34; color =&#34;red&#34;];
</span></span><span class=line><span class=cl>&#34;住房商品化改革&#34; -&gt; &#34;土地财政兴起&#34;[label=&#34;停止福利分房&#34;];
</span></span><span class=line><span class=cl>&#34;《中华人民共和国土地管理法》实施&#34; -&gt; &#34;土地财政兴起&#34;[label=&#34;限制农业用地非农用途&#34;];
</span></span><span class=line><span class=cl>&#34;金融危机&#34; -&gt; &#34;四万亿刺激&#34;;
</span></span><span class=line><span class=cl>&#34;四万亿刺激&#34; -&gt; &#34;房地产与基建投资激增&#34;[label=&#34;宽松货币政策&#34;]
</span></span><span class=line><span class=cl>&#34;房地产与基建投资激增&#34; -&gt; &#34;产能积压&#34;;
</span></span><span class=line><span class=cl>&#34;房地产与基建投资激增&#34; -&gt; &#34;库存过剩&#34;;
</span></span><span class=line><span class=cl>&#34;房地产与基建投资激增&#34; -&gt; &#34;土地金融&#34;[label=&#34;强化&#34;];
</span></span><span class=line><span class=cl>&#34;产能积压&#34; -&gt; &#34;涨价去库存&#34;;
</span></span><span class=line><span class=cl>&#34;库存过剩&#34; -&gt; &#34;涨价去库存&#34;;
</span></span><span class=line><span class=cl>&#34;棚改货币化&#34; -&gt; &#34;房价起飞&#34;;
</span></span><span class=line><span class=cl>&#34;涨价去库存&#34; -&gt; &#34;房价起飞&#34;;
</span></span><span class=line><span class=cl>&#34;房价&#34; -&gt; &#34;房价起飞&#34;[label =&#34;逐年上涨&#34;];
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><h4 id=编辑器支持><span class=section-num>3.1.7</span> 编辑器支持<a hidden class=anchor aria-hidden=true href=#编辑器支持>#</a></h4><p>如果是Emacs 用户，可以使用<a href=https://github.com/ppareit/graphviz-dot-mode>graphviz-dot-mode</a> 来编辑并预览生成的图片，效果如下：</p><figure><a href=/ox-hugo/graphviz-dot-mode.png><img loading=lazy src=/ox-hugo/graphviz-dot-mode.png></a></figure><p>虽然我是重度Emacs 用户，但是在Emacs上实时预览图片效果并不好。</p><p>Emacs对查看图片功能支持不够强大，无法通过鼠标放大缩小，并实时预览图片。</p><p>如果需要实时预览graphviz 生成的图片，我个人更加推荐使用Vscode + <a href="https://marketplace.visualstudio.com/items?itemName=joaompinto.vscode-graphviz">graphviz 插件</a> ：</p><figure><a href=/ox-hugo/graph_snippet.gif><img loading=lazy src=/ox-hugo/graph_snippet.gif></a></figure><h2 id=plantuml><span class=section-num>4</span> plantuml<a hidden class=anchor aria-hidden=true href=#plantuml>#</a></h2><p>身为程序员，免不了撰写各种设计方案，绘制各种序列图，类图，活动图，状态机图等等各种UML图。</p><p>而<a href=https://plantuml.com/>plantuml</a> 就是这样一个绘图组件，支持绘制各种程序开发需要用到的图。</p><p>plantuml 依赖的底层组件就有前文提到的graphviz，所以plantuml的语法也类似graphviz, 通过自定义的标记语言，来描述不同图形之间的关系，「自动布局」并绘制。</p><p>学过UML规范的同学应该都知道这些图应该怎么画，我就拿几个常见的图来举个例子。</p><h3 id=时序图><span class=section-num>4.1</span> 时序图<a hidden class=anchor aria-hidden=true href=#时序图>#</a></h3><p>plantuml 提供不同的组件供时序图使用。不同的组件有不同的形状，默认情况下，组件的声明顺序就是他们的展示顺序。</p><p>使用=->= 来表示在两个组件/参与者(participant) 之间传递消息，=&lt;&ndash;= 表示回包信息。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>@startuml
</span></span><span class=line><span class=cl>participant Participant as Foo
</span></span><span class=line><span class=cl>actor       Actor       as Foo1
</span></span><span class=line><span class=cl>boundary    Boundary    as Foo2
</span></span><span class=line><span class=cl>control     Control     as Foo3
</span></span><span class=line><span class=cl>entity      Entity      as Foo4
</span></span><span class=line><span class=cl>database    Database    as Foo5
</span></span><span class=line><span class=cl>collections Collections as Foo6
</span></span><span class=line><span class=cl>queue       Queue       as Foo7
</span></span><span class=line><span class=cl>Foo -&gt; Foo1 : To actor
</span></span><span class=line><span class=cl>Foo -&gt; Foo2 : To boundary
</span></span><span class=line><span class=cl>Foo -&gt; Foo3 : To control
</span></span><span class=line><span class=cl>Foo -&gt; Foo4 : To entity
</span></span><span class=line><span class=cl>Foo -&gt; Foo5 : To database
</span></span><span class=line><span class=cl>Foo -&gt; Foo6 : To collections
</span></span><span class=line><span class=cl>Foo -&gt; Foo7: To queue
</span></span><span class=line><span class=cl>Foo &lt;-- Foo7: Response from queue
</span></span><span class=line><span class=cl>@enduml
</span></span></code></pre></td></tr></table></div></div><figure><img loading=lazy src=/ox-hugo/sequence.png></figure><p>时序图的更多用法可见官网文档：<a href=https://plantuml.com/sequence-diagram>Sequence-Diagram</a></p><h3 id=活动图><span class=section-num>4.2</span> 活动图<a hidden class=anchor aria-hidden=true href=#活动图>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>@startuml
</span></span><span class=line><span class=cl>start
</span></span><span class=line><span class=cl>repeat
</span></span><span class=line><span class=cl>        :Test something;
</span></span><span class=line><span class=cl>        if (Something went wrong?) then (no)
</span></span><span class=line><span class=cl>        #palegreen:OK;
</span></span><span class=line><span class=cl>        break
</span></span><span class=line><span class=cl>endif
</span></span><span class=line><span class=cl>-&gt;NOK;
</span></span><span class=line><span class=cl>:Alert &#34;Error with long text&#34;;
</span></span><span class=line><span class=cl>repeat while (Something went wrong with long text?) is (yes) not (no)
</span></span><span class=line><span class=cl>-&gt;//merged step//;
</span></span><span class=line><span class=cl>:Alert &#34;Success&#34;;
</span></span><span class=line><span class=cl>stop
</span></span><span class=line><span class=cl>@enduml
</span></span></code></pre></td></tr></table></div></div><figure><img loading=lazy src=/ox-hugo/activity-digram.png></figure><h3 id=编辑器><span class=section-num>4.3</span> 编辑器<a hidden class=anchor aria-hidden=true href=#编辑器>#</a></h3><p>如果需要实时预览，个人推荐Vscode + <a href="https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml">plantuml插件</a>来绘制plantuml 图，所见即所得，实时预览，并提供代码补全：</p><figure><a href=/ox-hugo/auto_update_demo.gif><img loading=lazy src=/ox-hugo/auto_update_demo.gif></a></figure><h2 id=matplotlib><span class=section-num>5</span> matplotlib<a hidden class=anchor aria-hidden=true href=#matplotlib>#</a></h2><p>这就是个绘图库了，主要是用来绘制各种图表，比如折线图，饼图，直方图等，通常是配合数据分析使用，还支持xkcd 风格。</p><p>之前在上MIT 6.00网课的时候，John Guttag教授出了一个概率统计题，一个醉汉每次向四个方向中任意一个方向走一步，500步后，醉汉是离原点越来越近呢，还是越来越远？</p><p>下面是Python代码实现，模拟醉汉行为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span><span class=lnt>92
</span><span class=lnt>93
</span><span class=lnt>94
</span><span class=lnt>95
</span><span class=lnt>96
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># 运行下面代码前，确保依赖已安装</span>
</span></span><span class=line><span class=cl><span class=c1># pip3 install matplotlib --user</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span><span class=o>,</span> <span class=nn>random</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>xkcd</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Location</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>move</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>xc</span><span class=p>,</span> <span class=n>yc</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Location</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>+</span> <span class=nb>float</span><span class=p>(</span><span class=n>xc</span><span class=p>),</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>+</span> <span class=nb>float</span><span class=p>(</span><span class=n>yc</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getCoords</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>x</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getDist</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>ox</span><span class=p>,</span> <span class=n>oy</span> <span class=o>=</span> <span class=n>other</span><span class=o>.</span><span class=n>getCoords</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>xDist</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>-</span> <span class=n>ox</span>
</span></span><span class=line><span class=cl>        <span class=n>yDist</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>y</span> <span class=o>-</span> <span class=n>oy</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>math</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>xDist</span><span class=o>**</span><span class=mi>2</span> <span class=o>+</span> <span class=n>yDist</span> <span class=o>**</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CompassPt</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>possibles</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;N&#39;</span><span class=p>,</span> <span class=s1>&#39;S&#39;</span><span class=p>,</span> <span class=s1>&#39;E&#39;</span><span class=p>,</span> <span class=s1>&#39;W&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>pt</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>pt</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>possibles</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>pt</span> <span class=o>=</span> <span class=n>pt</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;in CompassPt.__init__&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>move</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>dist</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>pt</span> <span class=o>==</span> <span class=s2>&#34;N&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>dist</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>pt</span> <span class=o>==</span> <span class=s2>&#34;S&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=n>dist</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>pt</span> <span class=o>==</span>  <span class=s2>&#34;E&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>(</span><span class=n>dist</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>pt</span> <span class=o>==</span> <span class=s2>&#34;W&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=p>(</span><span class=o>-</span><span class=n>dist</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;in CompassPt.move&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Field</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>drunk</span><span class=p>,</span> <span class=n>loc</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>drunk</span> <span class=o>=</span> <span class=n>drunk</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>loc</span> <span class=o>=</span> <span class=n>loc</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>move</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>cp</span><span class=p>,</span> <span class=n>dist</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>oldLoc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>loc</span>
</span></span><span class=line><span class=cl>        <span class=n>xc</span><span class=p>,</span> <span class=n>yc</span> <span class=o>=</span> <span class=n>cp</span><span class=o>.</span><span class=n>move</span><span class=p>(</span><span class=n>dist</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>loc</span> <span class=o>=</span> <span class=n>oldLoc</span><span class=o>.</span><span class=n>move</span><span class=p>(</span><span class=n>xc</span><span class=p>,</span><span class=n>yc</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getLoc</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>loc</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>getDrunk</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>drunk</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Drunk</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>move</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>field</span><span class=p>,</span> <span class=n>time</span> <span class=o>=</span> <span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>field</span><span class=o>.</span><span class=n>getDrunk</span><span class=p>()</span> <span class=o>!=</span> <span class=bp>self</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;Drunk.move called with drunk not in field&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>time</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>pt</span> <span class=o>=</span> <span class=n>CompassPt</span><span class=p>(</span><span class=n>random</span><span class=o>.</span><span class=n>choice</span><span class=p>(</span><span class=n>CompassPt</span><span class=o>.</span><span class=n>possibles</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=n>field</span><span class=o>.</span><span class=n>move</span><span class=p>(</span><span class=n>pt</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>performTrial</span><span class=p>(</span><span class=n>time</span><span class=p>,</span><span class=n>f</span> <span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>start</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>getLoc</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>distances</span> <span class=o>=</span> <span class=p>[</span><span class=mf>0.0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>time</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>f</span><span class=o>.</span><span class=n>getDrunk</span><span class=p>()</span><span class=o>.</span><span class=n>move</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>newLoc</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>getLoc</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>distance</span> <span class=o>=</span> <span class=n>newLoc</span><span class=o>.</span><span class=n>getDist</span><span class=p>(</span><span class=n>start</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>distances</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>distance</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>distances</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>firstTest</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>drunk</span><span class=o>=</span> <span class=n>Drunk</span><span class=p>(</span><span class=s2>&#34;Homser Simpson&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>f</span> <span class=o>=</span> <span class=n>Field</span><span class=p>(</span><span class=n>drunk</span><span class=p>,</span> <span class=n>Location</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>distances</span> <span class=o>=</span> <span class=n>performTrial</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>distances</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>plt</span><span class=o>.</span><span class=n>title</span><span class=p>(</span><span class=s2>&#34;Homer&#39;s random Walk&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>plt</span><span class=o>.</span><span class=n>xlabel</span><span class=p>(</span><span class=s2>&#34;Time&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>plt</span><span class=o>.</span><span class=n>ylabel</span><span class=p>(</span><span class=s2>&#34;Distance from origin&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>fname</span> <span class=o>=</span> <span class=s2>&#34;images/mit6.00/simulation_random_walk_trail1.png&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>plt</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=n>fname</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>fname</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=n>firstTest</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>模拟5次，生成出来的<a href=https://xkcd.com/>xkcd</a>风格的图表：</p><figure><a href=/ox-hugo/simulation_random_walk_trail1.png><img loading=lazy src=/ox-hugo/simulation_random_walk_trail1.png></a></figure><h3 id=再话org-mode><span class=section-num>5.1</span> 再话org-mode<a hidden class=anchor aria-hidden=true href=#再话org-mode>#</a></h3><p>在<a href=https://mp.weixin.qq.com/s/mid3TpmXJMM7xWm5rfl7qg>《我的写作流》</a>里面，我有提到过，我使用Emacs + org-mode 来编写文章，对比markdown 或者其他的标记语言，=org-mode= 有一个巨大的优势，就是=org-mode= 借助内置的<a href=https://orgmode.org/worg/org-contrib/babel/><code>org-babel</code></a> 组件，可以直接运行代码。</p><p>在markdown 里面，下面的代码块的用处仅仅是语法高亮：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl><span class=s>```python
</span></span></span><span class=line><span class=cl><span class=s></span><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;helloworld&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s>```</span>
</span></span></code></pre></td></tr></table></div></div><p>但在 <code>org-mode</code>, 下面的代码块是可运行的，我只要在Emacs中按下=C-c C-c=，就会运行代码，并输出=helloword=。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-org data-lang=org><span class=line><span class=cl><span class=c>#+begin_src </span><span class=cs>python</span><span class=c>
</span></span></span><span class=line><span class=cl><span class=c></span>  <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;helloworld&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c>#+end_src</span>
</span></span></code></pre></td></tr></table></div></div><p>看起来作用不大，但是和 <code>graphviz</code>, <code>plantuml</code>, <code>matplotlib</code> 结合，就会产生无穷的威力：**只要我把绘图源码写好，然后再按下 =C-c C-c=，就能自动生成图片，并自动插入到当前这篇文章中(当然，如果代码写错了，是编译生成不出图片的)**。</p><p>根本不需要手动编译，生成图片，然后再把图片以markdown格式手动插入: <code>![图片](链接)</code> 。</p><p>上面的概率统计模拟图也是这样生成出来的，写好Python 代码，然后按下 <code>C-c C-c</code></p><p>一切都浑然天成。</p><h2 id=那些年-我使用过的绘图工具><span class=section-num>6</span> 那些年，我使用过的绘图工具<a hidden class=anchor aria-hidden=true href=#那些年-我使用过的绘图工具>#</a></h2><p>都是曾经使用过，现在也基本弃用的工具：</p><ul><li>Word：最开始时也不知道什么画图工具，就使用Word 来画图。</li><li>PPT：写技术方案基本不用了，画PPT做分享和述职，就还只能继续使用。</li><li>drawio: 功能丰富，但图形有种说不出的丑，并且绘制起来不顺手</li><li>processon: 在线绘图服务，免费版本有绘画张数限制（不记得是10张还是15张）;对于Saas服务而言，数据不属于用户。公司倒闭或限制用户，就有丢失数据风险。</li></ul><p>图表与文章一样，都是资产。</p><p>对于这样的重要资产，我还是倾向于「本地化」+ 「文本化」+ 「版本管理」+ 「云同步」的方案，保证图表既易于修改，又无丢失风险。</p><h2 id=结语><span class=section-num>7</span> 结语<a hidden class=anchor aria-hidden=true href=#结语>#</a></h2><p>金庸笔下的「独孤求败」的用剑之道：「四十岁后，不滞于物，草木竹石均可为剑。自此精修，渐进于无剑胜有剑之境」</p><p>excalidraw, graphviz 也好， plantuml, org-mode 也罢，只是「器」，都只是用来表达想法与智慧的工具。</p><p>所谓「飞花摘叶皆可伤人，草木竹石均可为剑」，真正的大牛，即使不使用画图工具，寥寥数语就会把一个复杂的概念解释得清楚明了。</p><p>厚积而薄发，选择合适的「剑」很重要，但「内功」的修炼同样重要。</p><h2 id=参考><span class=section-num>8</span> 参考<a hidden class=anchor aria-hidden=true href=#参考>#</a></h2><ul><li><a href=https://graphviz.org/documentation/>Graphviz Documentation</a></li><li><a href=https://zhuanlan.zhihu.com/p/21993254>Graphviz 入门指南</a></li><li><a href=https://program-think.blogspot.com/2016/02/opensource-review-graphviz.html>【自动】绘图工具 Graphviz</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://ramsayleung.github.io/zh/tags/tool/>tool</a></li></ul><nav class=paginav><a class=prev href=https://ramsayleung.github.io/zh/post/2023/%E6%80%9D%E8%80%83_%E5%85%AC%E4%BC%97%E5%8F%B7%E8%83%8C%E5%90%8E%E7%9A%84%E4%BA%A7%E5%93%81%E9%80%BB%E8%BE%91/><span class=title>« 上一页</span><br><span>思考：公众号背后的产品逻辑</span>
</a><a class=next href=https://ramsayleung.github.io/zh/post/2023/%E7%9A%87%E5%B8%9D%E4%B8%8E%E5%AE%98%E5%83%9A/><span class=title>下一页 »</span><br><span>皇帝与官僚：「上面」与「下面」</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share 我的画图流：画图工具与技巧分享 on x" href="https://x.com/intent/tweet/?text=%e6%88%91%e7%9a%84%e7%94%bb%e5%9b%be%e6%b5%81%ef%bc%9a%e7%94%bb%e5%9b%be%e5%b7%a5%e5%85%b7%e4%b8%8e%e6%8a%80%e5%b7%a7%e5%88%86%e4%ba%ab&amp;url=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2023%2f%25E6%2588%2591%25E7%259A%2584%25E7%2594%25BB%25E5%259B%25BE%25E6%25B5%2581%2f&amp;hashtags=tool"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 我的画图流：画图工具与技巧分享 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2023%2f%25E6%2588%2591%25E7%259A%2584%25E7%2594%25BB%25E5%259B%25BE%25E6%25B5%2581%2f&amp;title=%e6%88%91%e7%9a%84%e7%94%bb%e5%9b%be%e6%b5%81%ef%bc%9a%e7%94%bb%e5%9b%be%e5%b7%a5%e5%85%b7%e4%b8%8e%e6%8a%80%e5%b7%a7%e5%88%86%e4%ba%ab&amp;summary=%e6%88%91%e7%9a%84%e7%94%bb%e5%9b%be%e6%b5%81%ef%bc%9a%e7%94%bb%e5%9b%be%e5%b7%a5%e5%85%b7%e4%b8%8e%e6%8a%80%e5%b7%a7%e5%88%86%e4%ba%ab&amp;source=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2023%2f%25E6%2588%2591%25E7%259A%2584%25E7%2594%25BB%25E5%259B%25BE%25E6%25B5%2581%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 我的画图流：画图工具与技巧分享 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2023%2f%25E6%2588%2591%25E7%259A%2584%25E7%2594%25BB%25E5%259B%25BE%25E6%25B5%2581%2f&title=%e6%88%91%e7%9a%84%e7%94%bb%e5%9b%be%e6%b5%81%ef%bc%9a%e7%94%bb%e5%9b%be%e5%b7%a5%e5%85%b7%e4%b8%8e%e6%8a%80%e5%b7%a7%e5%88%86%e4%ba%ab"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 我的画图流：画图工具与技巧分享 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2023%2f%25E6%2588%2591%25E7%259A%2584%25E7%2594%25BB%25E5%259B%25BE%25E6%25B5%2581%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 我的画图流：画图工具与技巧分享 on whatsapp" href="https://api.whatsapp.com/send?text=%e6%88%91%e7%9a%84%e7%94%bb%e5%9b%be%e6%b5%81%ef%bc%9a%e7%94%bb%e5%9b%be%e5%b7%a5%e5%85%b7%e4%b8%8e%e6%8a%80%e5%b7%a7%e5%88%86%e4%ba%ab%20-%20https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2023%2f%25E6%2588%2591%25E7%259A%2584%25E7%2594%25BB%25E5%259B%25BE%25E6%25B5%2581%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 我的画图流：画图工具与技巧分享 on telegram" href="https://telegram.me/share/url?text=%e6%88%91%e7%9a%84%e7%94%bb%e5%9b%be%e6%b5%81%ef%bc%9a%e7%94%bb%e5%9b%be%e5%b7%a5%e5%85%b7%e4%b8%8e%e6%8a%80%e5%b7%a7%e5%88%86%e4%ba%ab&amp;url=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2023%2f%25E6%2588%2591%25E7%259A%2584%25E7%2594%25BB%25E5%259B%25BE%25E6%25B5%2581%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 我的画图流：画图工具与技巧分享 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%e6%88%91%e7%9a%84%e7%94%bb%e5%9b%be%e6%b5%81%ef%bc%9a%e7%94%bb%e5%9b%be%e5%b7%a5%e5%85%b7%e4%b8%8e%e6%8a%80%e5%b7%a7%e5%88%86%e4%ba%ab&u=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2023%2f%25E6%2588%2591%25E7%259A%2584%25E7%2594%25BB%25E5%259B%25BE%25E6%25B5%2581%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><section><h2>Comments</h2><div id=comments-giscus></div></section><script type=text/javascript>function getCurrentTheme(){return document.documentElement.getAttribute("data-theme")||document.body.classList.contains("dark")?"dark":"light"}function loadComment(e=!1){const s=URL.parse(window.location.href),n=s.pathname.split("/").filter(e=>e!=""),o=n.length>0&&n[0]=="zh",t=document.getElementById("comments-giscus");if(t!==null){t.innerHTML="";const n=document.createElement("script");n.setAttribute("src","https://giscus.app/client.js"),n.setAttribute("data-repo","ramsayleung/comment"),n.setAttribute("data-repo-id","MDEwOlJlcG9zaXRvcnkzMDk2NjQ1NDk="),n.setAttribute("data-category","General"),n.setAttribute("data-category-id","DIC_kwDOEnUbJc4Cltnz"),n.setAttribute("data-mapping","pathname"),n.setAttribute("data-strict","0"),n.setAttribute("data-reactions-enabled","1"),n.setAttribute("data-emit-metadata","0"),n.setAttribute("data-input-position","bottom"),n.setAttribute("data-theme",e?"dark":"light"),n.setAttribute("crossorigin","anonymous"),n.setAttribute("data-lang",o?"zh-CN":"en"),n.setAttribute("async","true"),t.appendChild(n)}}const isDarkMode=getCurrentTheme()==="dark";loadComment(isDarkMode);const themeObserver=new MutationObserver(e=>{e.forEach(e=>{if(e.type==="attributes"&&e.attributeName==="class"){const e=getCurrentTheme()==="dark";loadComment(e),console.log(`changing theme`)}})});themeObserver.observe(document.body,{attributes:!0,attributeFilter:["class"]})</script></article></main><footer class=footer><span>See this site&rsquo;s source code <a href=https://github.com/ramsayleung/ramsayleung.github.io>here</a>, licensed under GPLv3 ·</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,scrollOffset:40,container:null,template:null})})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>