<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Posts on è‡ªç”±åº„å›­</title>
    <link>https://ramsayleung.github.io/zh/post/</link>
    <description>Recent content in Posts on è‡ªç”±åº„å›­</description>
    <image>
      <title>è‡ªç”±åº„å›­</title>
      <url>https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- 0.120.4</generator>
    <language>zh</language>
    <copyright>See this site&amp;rsquo;s source code here, licensed under GPLv3 Â·</copyright>
    <lastBuildDate>Mon, 14 Oct 2024 15:28:08 -0700</lastBuildDate>
    <atom:link href="https://ramsayleung.github.io/zh/post/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>æµ‹è¯•æŠ€èƒ½è¿›é˜¶(ä¸‰): Property Based Testing</title>
      <link>https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%B8%89_property_based_testing/</link>
      <pubDate>Mon, 14 Oct 2024 09:37:00 -0700</pubDate>
      <guid>https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%B8%89_property_based_testing/</guid>
      <description>1 å‰è¨€ 1.1 test caseçš„å±€é™ æƒ³è¦æ›´å¥½åœ°ç†è§£ä»€ä¹ˆæ˜¯ Property based testing, å°±æ¥å…ˆçœ‹ä¸‹å·²æœ‰ test case çš„å±€é™ï¼Œå†æ¥è§‚å¯Ÿå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ã€‚ ç”¨ä¹‹å‰ã€Šæµ‹è¯•æŠ€èƒ½è¿›é˜¶(äºŒ): Parameterized Test</description>
      <content:encoded><![CDATA[<h2 id="å‰è¨€"><span class="section-num">1</span> å‰è¨€</h2>
<h3 id="test-caseçš„å±€é™"><span class="section-num">1.1</span> test caseçš„å±€é™</h3>
<p>æƒ³è¦æ›´å¥½åœ°ç†è§£ä»€ä¹ˆæ˜¯ Property based testing, å°±æ¥å…ˆçœ‹ä¸‹å·²æœ‰ test case çš„å±€é™ï¼Œå†æ¥è§‚å¯Ÿå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ã€‚</p>
<p>ç”¨ä¹‹å‰<a href="https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%BA%8C_parameterized_tests/">ã€Šæµ‹è¯•æŠ€èƒ½è¿›é˜¶(äºŒ): Parameterized Testsã€‹</a>ä¸­è®¡ç®—æŠ˜æ‰£çš„å‡½æ•°ä¸ºä¾‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">calculate_discount</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">discount_percentage</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">price</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Price must be greater than zero: </span><span class="si">{</span><span class="n">price</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">discount_percentage</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Discount_percentage must be greater than zero: </span><span class="si">{</span><span class="n">discount_percentage</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">price</span> <span class="o">&gt;</span> <span class="mi">50000</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">price</span> <span class="o">-</span> <span class="p">(</span><span class="n">price</span> <span class="o">*</span> <span class="p">(</span><span class="n">discount_percentage</span> <span class="o">*</span> <span class="mf">1.15</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="n">price</span> <span class="o">&gt;</span> <span class="mi">100000</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">price</span> <span class="o">-</span> <span class="p">(</span><span class="n">price</span> <span class="o">*</span> <span class="p">(</span><span class="n">discount_percentage</span> <span class="o">*</span> <span class="mf">1.18</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">price</span> <span class="o">-</span> <span class="p">(</span><span class="n">price</span> <span class="o">*</span> <span class="n">discount_percentage</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å³ä½¿æˆ‘ä»¬ä½¿ç”¨äº† Parameterized Test, æŠŠæµ‹è¯•é€»è¾‘å’Œæµ‹è¯•æ•°æ®é›†ä½œäº†åˆ†ç¦»ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼š</p>
<ol>
<li>æˆ‘ä»¬çš„æµ‹è¯•æ•°æ®é›†è¿˜æ˜¯è¦æ‰‹å·¥æ„é€ ï¼Œå³ä½¿ç°åœ¨ä¸éœ€è¦å†™æ–°çš„ test case, æ‰‹å·¥æ„é€ æ•°æ®é›†è¿˜æ˜¯å¾ˆéº»çƒ¦</li>
<li>ç¬¬äºŒä¸ªé—®é¢˜æ›´ä¸¥é‡ï¼Œå°±æ˜¯æˆ‘ä»¬çš„æ„å»ºçš„æ•°æ®é›†å¯èƒ½ä¸æ˜¯å®Œå¤‡çš„ï¼Œå¦‚æœæ•°æ®é›†æ²¡æœ‰åŠæ³•è¦†ç›–æ‰€æœ‰çš„æ¡ä»¶åˆ†æ”¯ï¼Œé‚£æˆ‘ä»¬ä»ç„¶å¯èƒ½å‘ç°ä¸äº†ä»£ç ä¸­çš„Bug</li>
</ol>
<h2 id="property-based-testing"><span class="section-num">2</span> Property Based Testing</h2>
<p>è€Œ Property Based Testing å°±æ˜¯æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®ƒå¸Œæœ›å¯ä»¥ç»“åˆäººè„‘å¯¹ç‰¹å®šé—®é¢˜åŸŸçš„ç†è§£å’Œæœºå™¨çš„è¿ç®—èƒ½åŠ›ï¼Œä½¿ç”¨æ›´å°‘çš„æ—¶é—´æ¥ç”Ÿæˆæ›´ä¼˜çš„æµ‹è¯•case.</p>
<p>Property Based Testing è¿™ä¸ªæ¦‚å¿µæ˜¯ç”± Haskell é¡¹ç›® <a href="https://en.wikipedia.org/wiki/QuickCheck">QuickCheck</a>Â <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>åœ¨1999å¹´å¼•å…¥çš„ï¼Œå®ƒçš„ç†å¿µæ˜¯ï¼Œç¨‹åºå‘˜åº”è¯¥åªå®šä¹‰æŸä¸ªæµ‹è¯•case, å‚æ•°éœ€è¦æ»¡è¶³çš„æ ‡å‡†(specification), ç„¶åç¨‹åºå°±ä¼šè‡ªåŠ¨ç”Ÿæˆå¤§é‡æ»¡è¶³è¿™ä¸ªæ ‡å‡†çš„éšæœºæ•°ï¼Œç”¨è¿™äº›éšæœºæ•°æ¥æµ‹è¯•è¿™ä¸ª test caseã€‚</p>
<p>è€Œå› ä¸ºæµ‹è¯•æ•°æ®æ˜¯éšæœºç”Ÿæˆçš„ï¼Œæ‰€ä»¥ä½ æ„æ–™ä¹‹å†…çš„æ•°æ®ï¼Œæˆ–è€…æ„æ–™ä¹‹å¤–çš„æ•°æ®éƒ½ä¼šè¢«ç”¨æ¥æµ‹è¯•ï¼Œ
æ—¢çœå»äº†è´¹æ—¶è´¹åŠ›æ„é€ ä¸åŒæ•°æ®ä½œæ•°æ®é›†æ¥æµ‹è¯•çš„çƒ¦æ¼ï¼Œåˆèƒ½ä¿è¯æ•°æ®é›†çš„å®Œå¤‡æ€§, ç»å¸¸å¯ä»¥å¸®åŠ©ä½ å‘ç°æ„æƒ³ä¸åˆ°çš„bug.</p>
<p>è¿™å°±æ˜¯å£°æ˜å¼å®šä¹‰çš„ä¸€ç§ï¼Œä½ åªéœ€è¦å£°æ˜ä½ æƒ³å¹²ä»€ä¹ˆ(ç”¨ä»€ä¹ˆæ ·çš„æ•°æ®æµ‹è¯•ä»€ä¹ˆå‡½æ•°)ï¼Œè€Œéå‘½ä»¤å¼å®šä¹‰ï¼ˆä½ éœ€è¦å®šä¹‰ä½ è¦æ€ä¹ˆåšï¼‰.</p>
<p>äººåŠ›åº”è¯¥æ˜¯å¾ˆçè´µï¼Œè€Œæœºå™¨çš„è®¡ç®—èµ„æºå´æ˜¯å¾ˆä¾¿å®œï¼Œåº”è¯¥è®©æœºå™¨ä»£æ›¿äººå»åšç”Ÿæˆæ•°æ®çš„äº‹ã€‚</p>
<p>ä¸¾ä¾‹æ¥è¯´, ä»¥ä¸Šé¢çš„ <code>calculate_discount</code> å‡½æ•°ä¸ºä¾‹ï¼Œå¦‚æœæˆ‘ä»¬å‘Šè¯‰ç¨‹åº, <code>price</code> å’Œ <code>discount_percentage</code> åº”è¯¥æ˜¯æ•´æ•°ï¼ˆspecificationï¼‰, é‚£ä¹ˆ Quickcheck å°±ä¼šç”Ÿæˆå„ç§æ•´æ•°, ä» Integer.Min åˆ° Integer.Max ä¸ç­‰ï¼Œç”¨æ¥æµ‹è¯•æˆ‘ä»¬çš„ç¨‹åº.</p>
<p>å¦‚æœè¿˜æ˜¯è§‰å¾—è¿™ä¸ªæ¦‚å¿µæ¯”è¾ƒæŠ½è±¡ï¼Œå¯ä»¥æ¥çœ‹ä¸‹å…·ä½“çš„ä¾‹å­ï¼š</p>
<h2 id="hypothesis"><span class="section-num">3</span> Hypothesis</h2>
<p>Python Property Based Testingçš„æµ‹è¯•æ¡†æ¶å« <a href="https://hypothesis.works/">Hypothesis </a><sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>(å‡æƒ³)ï¼Œè¿™ä¸ªé¡¹ç›®åå­—ä¹Ÿæ˜¯èµ·å¾—éå¸¸æœ‰æ°´å¹³ï¼Œç»“åˆProperty Based Testingçš„å“²å­¦ï¼Œå¯è°“ä¿¡é›…è¾¾.</p>
<p>å‡è®¾æˆ‘ä»¬ç°åœ¨è¦å®ç°ä¸€ä¸ªç®€å•çš„æ•°æ®å‹ç¼©çš„ç®—æ³•ï¼š <a href="https://en.wikipedia.org/wiki/Run-length_encoding">Run-length Encoding</a>Â <sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>(RLE)ï¼Œé€šå¸¸ç”¨äºå‹ç¼©åŒ…å«è¿ç»­é‡å¤æ•°æ®çš„åºåˆ—, è¿™ç§ç¼–ç æ–¹æ³•ç‰¹åˆ«é€‚ç”¨äºé‚£äº›æœ‰å¤§é‡é‡å¤å­—ç¬¦æˆ–å€¼çš„æ•°æ®.</p>
<p>å®ƒçš„åŸºæœ¬åŸç†æ˜¯ï¼š</p>
<ol>
<li>ç»Ÿè®¡è¿ç»­é‡å¤çš„æ•°æ®å…ƒç´ çš„æ•°é‡ã€‚</li>
<li>ç”¨ä¸€ä¸ªè®¡æ•°å€¼å’Œæ•°æ®å€¼çš„ç»„åˆæ¥æ›¿ä»£è¿™äº›é‡å¤çš„æ•°æ®ã€‚</li>
</ol>
<p>æ¯”å¦‚å­—ç¬¦ä¸²: <code>AABBBCCCC</code>, RLE ç¼–ç å: <code>2A3B4C</code>. <code>2A</code> è¡¨ç¤ºä¸¤ä¸ªè¿ç»­çš„ <code>A</code>, <code>3B</code> è¡¨ç¤ºä¸‰ä¸ªè¿ç»­çš„ <code>B</code>, <code>4C</code> è¡¨ç¤ºå››ä¸ªè¿ç»­çš„ <code>C</code> ã€‚</p>
<p>Pythonå®ç°å¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="n">input_string</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="n">prev</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">lst</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">input_string</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">character</span> <span class="o">!=</span> <span class="n">prev</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">prev</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">entry</span> <span class="o">=</span> <span class="p">(</span><span class="n">prev</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="n">prev</span> <span class="o">=</span> <span class="n">character</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="n">entry</span> <span class="o">=</span> <span class="p">(</span><span class="n">character</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">lst</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="n">lst</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">q</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">character</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">q</span> <span class="o">+=</span> <span class="n">character</span> <span class="o">*</span> <span class="n">count</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">q</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœæˆ‘ä»¬çš„ä»£ç å®ç°æ²¡æœ‰é—®é¢˜çš„è¯ï¼Œå¯¹äºä»»æ„çš„å­—ç¬¦ä¸²ï¼Œç¼–ç åçš„å­—ç¬¦ä¸²ï¼Œè§£ç åçš„ç»“æœåº”è¯¥å’ŒåŸæ¥çš„å­—ç¬¦ä¸²ä¸€è‡´çš„ï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬çš„æµ‹è¯•é€»è¾‘:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">given</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">hypothesis.strategies</span> <span class="kn">import</span> <span class="n">text</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@given</span><span class="p">(</span><span class="n">text</span><span class="p">())</span> <span class="c1"># å…¥å‚çš„æ ‡å‡†æ˜¯ï¼šä»»æ„çš„å­—ç¬¦ä¸²ï¼Œhypothesis æ¡†æ¶å°±ä¼šè‡ªåŠ¨ç”Ÿæˆéšæœºæ•°ï¼Œå¹¶è°ƒç”¨test_decode_inverts_encode</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_decode_inverts_encode</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">decode</span><span class="p">(</span><span class="n">encode</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="o">==</span> <span class="n">s</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨ <code>pytest</code> è¿è¡Œä¸Šé¢çš„ç”¨ä¾‹ï¼Œç»“æœå¦‚ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">&gt; pytest property_based_testing.py
</span></span><span class="line"><span class="cl"><span class="o">===================================</span> <span class="nb">test</span> session <span class="nv">starts</span> <span class="o">====================================</span>
</span></span><span class="line"><span class="cl">platform darwin -- Python 3.12.6, pytest-8.3.3, pluggy-1.5.0
</span></span><span class="line"><span class="cl">rootdir: /Users/ramsayleung/code/python/test_technique
</span></span><span class="line"><span class="cl">plugins: hypothesis-6.115.0
</span></span><span class="line"><span class="cl">collected <span class="m">1</span> item
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">property_based_testing.py F                                                          <span class="o">[</span>100%<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">=========================================</span> <span class="nv">FAILURES</span> <span class="o">=========================================</span>
</span></span><span class="line"><span class="cl">________________________________ test_decode_inverts_encode ________________________________
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">@given<span class="o">(</span>text<span class="o">())</span>
</span></span><span class="line"><span class="cl">&gt;   def test_decode_inverts_encode<span class="o">(</span>s<span class="o">)</span>:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">property_based_testing.py:29:
</span></span><span class="line"><span class="cl">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
</span></span><span class="line"><span class="cl">property_based_testing.py:30: in test_decode_inverts_encode
</span></span><span class="line"><span class="cl">assert decode<span class="o">(</span>encode<span class="o">(</span>s<span class="o">))</span> <span class="o">==</span> s
</span></span><span class="line"><span class="cl">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">input_string</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">def encode<span class="o">(</span>input_string<span class="o">)</span>:
</span></span><span class="line"><span class="cl"><span class="nv">count</span> <span class="o">=</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="nv">prev</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">lst</span> <span class="o">=</span> <span class="o">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> character in input_string:
</span></span><span class="line"><span class="cl">                 <span class="k">if</span> character !<span class="o">=</span> prev:
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> prev:
</span></span><span class="line"><span class="cl">                       <span class="nv">entry</span> <span class="o">=</span> <span class="o">(</span>prev, count<span class="o">)</span>
</span></span><span class="line"><span class="cl">                       lst.append<span class="o">(</span>entry<span class="o">)</span>
</span></span><span class="line"><span class="cl">                       <span class="nv">count</span> <span class="o">=</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">                       <span class="nv">prev</span> <span class="o">=</span> character
</span></span><span class="line"><span class="cl">                       <span class="k">else</span>:
</span></span><span class="line"><span class="cl">                       <span class="nv">count</span> <span class="o">+=</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">                       &gt;       <span class="nv">entry</span> <span class="o">=</span> <span class="o">(</span>character, count<span class="o">)</span>
</span></span><span class="line"><span class="cl">                       E       UnboundLocalError: cannot access <span class="nb">local</span> variable <span class="s1">&#39;character&#39;</span> where it is not associated with a value
</span></span><span class="line"><span class="cl">                       E       Falsifying example: test_decode_inverts_encode<span class="o">(</span>
</span></span><span class="line"><span class="cl">                           E           <span class="nv">s</span><span class="o">=</span><span class="s1">&#39;&#39;</span>,
</span></span><span class="line"><span class="cl">                           E       <span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                       property_based_testing.py:17: <span class="nv">UnboundLocalError</span>
</span></span><span class="line"><span class="cl">                       <span class="o">=================================</span> short <span class="nb">test</span> summary <span class="nv">info</span> <span class="o">==================================</span>
</span></span><span class="line"><span class="cl">                       FAILED property_based_testing.py::test_decode_inverts_encode - UnboundLocalError: cannot access <span class="nb">local</span> variable <span class="s1">&#39;character&#39;</span> where it is not associated ...
</span></span><span class="line"><span class="cl">                       <span class="o">====================================</span> <span class="m">1</span> failed in 0.14s <span class="o">=====================================</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“ <code>input_string =''</code> æ˜¯ç©ºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œ <code>encode</code> å‡½æ•°æŠ›å‡ºå¼‚å¸¸äº†ï¼Œè¯´ <code>character</code> å˜é‡æœªå®šä¹‰ã€‚åŸæ¥æ˜¯ <code>encode</code> å‡½æ•°æ²¡æœ‰å¯¹ç©ºå­—ç¬¦ä¸²è¿™ä¸ª corner case ä½œå¤„ç†ï¼Œé‚£ä¹ˆå°±åŠ ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œä¿®å¤ä¸€ä¸‹:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">encode</span><span class="p">(</span><span class="n">input_string</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="n">input_string</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="n">prev</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">lst</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">input_string</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">character</span> <span class="o">!=</span> <span class="n">prev</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">prev</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">entry</span> <span class="o">=</span> <span class="p">(</span><span class="n">prev</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="n">prev</span> <span class="o">=</span> <span class="n">character</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="n">entry</span> <span class="o">=</span> <span class="p">(</span><span class="n">character</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">lst</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ—¢ç„¶æˆ‘ä»¬çŸ¥é“ç©ºå­—ç¬¦ä¸²æ˜¯ä¸ªç‰¹æ®Šçš„ case, å› ä¸º hypothesis ç”Ÿæˆçš„éƒ½æ˜¯ä»»æ„çš„éšæœºæ•°ï¼Œä¸ä¸€å®šæ¯æ¬¡éƒ½ä¼šæµ‹åˆ°ç©ºå­—ç¬¦ä¸²ï¼Œé‚£æˆ‘ä»¬å°±è‡ªå·±æŒ‡å®šä¸€ä¸ª case:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">hypothesis</span> <span class="kn">import</span> <span class="n">example</span><span class="p">,</span> <span class="n">given</span><span class="p">,</span> <span class="n">strategies</span> <span class="k">as</span> <span class="n">st</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@given</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="nd">@example</span><span class="p">(</span><span class="s2">&#34;&#34;</span><span class="p">)</span> <span class="c1"># æ‰‹å·¥æŒ‡å®šç©ºå­—ç¬¦ä¸²è¿™ä¸ª corner case</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_decode_inverts_encode</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">decode</span><span class="p">(</span><span class="n">encode</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="o">==</span> <span class="n">s</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>pytest</code> é‡æ–°è¿è¡Œï¼Œæµ‹è¯•å°±é€šè¿‡äº†ã€‚ä½†æ˜¯ï¼Œå¯¹ <code>hypothesis</code> æ¡†æ¶è¿˜æ²¡æœ‰å»ºç«‹ä¿¡å¿ƒçš„ä½ æˆ‘å°±ä¸ç¡®å®šï¼Œå®ƒæ˜¯å¦çœŸçš„ç”Ÿæˆå¾ˆå¤šéšæœºæ¥è¿è¡Œè¿™ä¸ª test case å‘¢ï¼Ÿ</p>
<p>æœ‰ä¸¤ä¸ªæ–¹æ³•å¯ä»¥éªŒè¯ï¼š</p>
<p>æ–¹æ³•ä¸€ï¼šæœ€ç®€å•ç²—æš´çš„æ–¹å¼ï¼ŒæŠŠ <code>s</code> å˜é‡ç»™æ‰“å°å‡ºæ¥ï¼Œæ¯•ç«Ÿçœ¼è§ä¸ºå®:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nd">@given</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="nd">@example</span><span class="p">(</span><span class="s2">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_decode_inverts_encode</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">decode</span><span class="p">(</span><span class="n">encode</span><span class="p">(</span><span class="n">s</span><span class="p">))</span> <span class="o">==</span> <span class="n">s</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åé€šè¿‡ <code>pytest -s</code> å‚æ•°è¦æ±‚ <code>pytest</code> å°†å†™å…¥åˆ° <code>stdout</code> çš„å†…å®¹ç»™æ‰“å°å‡ºæ¥</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">&gt; pytest property_based_testing.py -s
</span></span><span class="line"><span class="cl"><span class="o">=======================================</span> <span class="nb">test</span> session <span class="nv">starts</span> <span class="o">=======================================</span>
</span></span><span class="line"><span class="cl">platform darwin -- Python 3.12.6, pytest-8.3.3, pluggy-1.5.0
</span></span><span class="line"><span class="cl">rootdir: /Users/ramsayleung/code/python/test_technique
</span></span><span class="line"><span class="cl">plugins: hypothesis-6.115.0
</span></span><span class="line"><span class="cl">collected <span class="m">1</span> item
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">property_based_testing.py
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">O
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Â¶
</span></span><span class="line"><span class="cl"><span class="se">\Ã¥</span>ñ¢„Â«
</span></span><span class="line"><span class="cl">ğ¥›—ÃbÃ³
</span></span><span class="line"><span class="cl">ğœ†®Ã¥
</span></span><span class="line"><span class="cl">ñ°˜°9
</span></span><span class="line"><span class="cl">gahó­¾”ğ›§
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">iò¼¯œ+Ã³Â»ò®©¸bñ•¨
</span></span><span class="line"><span class="cl">S!Ã•TÃ¥<span class="p">&amp;</span>ğ°µ©Ã­Â¤Ã½Ã¤Ã³Ã·F
</span></span><span class="line"><span class="cl">Ã¸Ã´yÂµ
</span></span><span class="line"><span class="cl">Ã„Âª
</span></span><span class="line"><span class="cl">sLz$Ã¯
</span></span><span class="line"><span class="cl">_ğ µˆ
</span></span><span class="line"><span class="cl">Ãœ
</span></span><span class="line"><span class="cl">A
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Róƒ·<span class="o">{</span>Â©Â¾
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   Ã¬Ãµ
</span></span><span class="line"><span class="cl">   Ã¦ô‚›BÃ1*ô…„¢Ã«Ã³gğ®ˆÂ¼ ?ğ©“
</span></span><span class="line"><span class="cl">   Ã’Ã¶r @PPô¾‚Ã¶ñ³±ŠÃ»ÃÂ½Â¬HÃˆ6#
</span></span><span class="line"><span class="cl">   ağ£½—Â¶ó¿…Œğ§‘x~ó—œ¬éŸ¹Ã»Ã°ó´¯®#Zó…–«<span class="se">\Â©</span>ğ³–…Ã»f&gt;
</span></span><span class="line"><span class="cl">   i
</span></span><span class="line"><span class="cl">   ....
</span></span><span class="line"><span class="cl">   <span class="o">========================================</span> <span class="m">1</span> passed in 0.15s <span class="o">========================================</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸€å †éƒ½æ˜¯ä»€ä¹ˆå­—ç¬¦å‘¢, éƒ½ä¹±ç äº†ã€‚</p>
<p>æ¯•ç«Ÿæˆ‘ä»¬å‘Šè¯‰ <code>hypothesis</code> æ¡†æ¶çš„æ˜¯ï¼Œæˆ‘ä»¬å‚æ•°æ¥å—çš„æ ‡å‡†æ˜¯ä»»æ„çš„å­—ç¬¦ä¸²ï¼Œ <code>hypothesis</code> å°±éå¸¸å°½èŒåœ°å¸®æˆ‘ä»¬ç”Ÿæˆäº†å„ç§å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªæµ‹è¯•æ•°æ®é›†å¯æ¯”æˆ‘ä»¬è‡ªå·±æ‰‹å·¥æ„å»ºçš„èŒƒå›´å¤§å¾—å¤šï¼Œè¿™å°±æ˜¯ property based testing çš„ä¼˜åŠ¿æ‰€åœ¨.</p>
<p>ç¬¬äºŒç§æ–¹æ³•æ˜¯ä½¿ç”¨ <code>hypothesis</code> æ¡†æ¶æä¾›çš„å‘½ä»¤è¡Œå‚æ•° =&ndash;hypothesis-show-statistics=ï¼Œç”¨äºæ‰“å°ç»Ÿè®¡ä¿¡æ¯:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">&gt; pytest property_based_testing.py --hypothesis-show-statistics
</span></span><span class="line"><span class="cl"><span class="o">=======================================</span> <span class="nb">test</span> session <span class="nv">starts</span> <span class="o">=======================================</span>
</span></span><span class="line"><span class="cl">platform darwin -- Python 3.12.6, pytest-8.3.3, pluggy-1.5.0
</span></span><span class="line"><span class="cl">rootdir: /Users/ramsayleung/code/python/test_technique
</span></span><span class="line"><span class="cl">plugins: hypothesis-6.115.0
</span></span><span class="line"><span class="cl">collected <span class="m">1</span> item
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">property_based_testing.py .                                                                 <span class="o">[</span>100%<span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="o">======================================</span> Hypothesis <span class="nv">Statistics</span> <span class="o">======================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">property_based_testing.py::test_decode_inverts_encode:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- during generate phase <span class="o">(</span>0.03 seconds<span class="o">)</span>:
</span></span><span class="line"><span class="cl">- Typical runtimes: &lt; 1ms, of which &lt; 1ms in data generation
</span></span><span class="line"><span class="cl">- <span class="m">100</span> passing examples, <span class="m">0</span> failing examples, <span class="m">0</span> invalid examples
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- Stopped because settings.max_examples<span class="o">=</span><span class="nv">100</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">========================================</span> <span class="m">1</span> passed in 0.05s <span class="o">========================================</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šé¢è¿è¡Œäº† 100 æ¡æ•°æ®ï¼Œå¦‚æœä½ è§‰å¾—è¿˜æƒ³è·‘æ›´å¤šï¼Œå¯ä»¥é€šè¿‡ <code>settings</code> è£…é¥°å™¨æŒ‡å®šæ›´å¤š:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nd">@settings</span><span class="p">(</span><span class="n">max_examples</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="quickcheck-and-proptest"><span class="section-num">4</span> Quickcheck &amp; Proptest</h2>
<p>è€Œåœ¨Rustç”Ÿæ€ï¼Œå°±æœ‰ä¸¤ä¸ª Property Based Testing çš„åº“ï¼Œä¸€ä¸ªæ˜¯ç”±Rustç¤¾åŒºçŸ¥åå¼€å‘è€…ï¼Œ<a href="https://github.com/BurntSushi/ripgrep">ripgrep</a>Â <sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>å’Œ regex åº“ä½œè€…ç§»æ¤è‡ª Haskell Quickcheck åº“çš„ <a href="https://github.com/BurntSushi/quickcheck">quickcheck</a>Â <sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup>(åå­—ä¹Ÿä¸€å¹¶ç§»æ¤äº†), å¦å¤–ä¸€ä¸ªæ˜¯æ€è·¯ç»§æ‰¿è‡ª Python Hypothesis çš„ <a href="https://github.com/proptest-rs/proptest">Proptest</a>Â <sup id="fnref:6"><a href="#fn:6" class="footnote-ref" role="doc-noteref">6</a></sup>(è¿™ä½ç›´æ¥ç”¨property based testingæŠ€æœ¯æ¥å‘½åäº†ï¼Œä¸å¾—ä¸è¯´ï¼Œå‘½åçœŸçš„æ˜¯é—¨è‰ºæœ¯)</p>
<p>ä¸¤è€…çš„ç¤¾åŒºæ¥å—åº¦éƒ½ç›¸å·®æ— å‡ (star, ä½¿ç”¨è€…æ•°é‡), è€Œåœ¨å…¬å¸å†…éƒ¨ï¼Œæˆ‘ä¹Ÿå‘ç° quickcheck å’Œ proptest éƒ½æœ‰äººç”¨ï¼Œåæˆ‘æ—è¾¹çš„Principle Engineer ç”¨çš„æ˜¯ proptest, è€Œå¦å¤–ä¸€ä¸ªç°åœ¨å’Œæˆ‘å…±äº‹çš„åŒäº‹ï¼Œå¥¹çš„ä¹‹å‰å›¢é˜Ÿç”¨çš„å°±æ˜¯ quickcheckï¼Œçœ‹åˆ°éƒ½åŠ¿å‡åŠ›æ•Œå˜›ã€‚</p>
<p>ç¿»å¼€ quickcheck å’Œ proptest çš„API æ–‡æ¡£ä¹‹åï¼Œæˆ‘å‘ç°æˆ‘æ›´å–œæ¬¢ quickcheck çš„æ¥å£é£æ ¼ï¼Œè™½è¯´å®ƒçš„æ´»è·ƒåº¦æ›´ä½ä¸€äº›ï¼Œæˆ‘æœ€åè¿˜æ˜¯é€‰æ‹©äº†ä½¿ç”¨ quickcheck.</p>
<p>ä¸‹é¢å°±æ¥ä»‹ç»ä¸€ä¸‹æˆ‘åœ¨Rustä¸Šä½¿ç”¨ quickcheck çš„å¿ƒå¾—:</p>
<p>å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªå¯ä»¥åè½¬åˆ—è¡¨çš„å‡½æ•° <code>reverse</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">fn</span> <span class="nf">reverse</span><span class="o">&lt;</span><span class="n">T</span>: <span class="nb">Clone</span><span class="o">&gt;</span><span class="p">(</span><span class="n">xs</span>: <span class="kp">&amp;</span><span class="p">[</span><span class="n">T</span><span class="p">])</span><span class="w"> </span>-&gt; <span class="nb">Vec</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">rev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="fm">vec!</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">rev</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">.</span><span class="n">clone</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">rev</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹äºä»»æ„ç±»å‹çš„åˆ—è¡¨ï¼Œåè½¬ä¹‹åå†åè½¬çš„ç»“æœï¼Œè‚¯å®šæ˜¯å’ŒåŸç»“æœä¸€æ ·çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å£°æ˜æˆ‘ä»¬çš„æ ‡å‡†(specification), é‚£å°±æ˜¯ä»»æ„çš„åˆ—è¡¨ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œæ•´å‹åˆ—è¡¨æˆ–è€…æ˜¯å…¶ä»–çš„ç»“æ„ä½“åˆ—è¡¨:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="cp">#[cfg(test)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">mod</span> <span class="nn">tests</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">use</span><span class="w"> </span><span class="n">quickcheck_macros</span>::<span class="n">quickcheck</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">use</span><span class="w"> </span><span class="k">crate</span>::<span class="n">reverse</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cp">#[quickcheck]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">double_reversal_is_identity_isize</span><span class="p">(</span><span class="n">xs</span>: <span class="nb">Vec</span><span class="o">&lt;</span><span class="kt">isize</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">bool</span> <span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">xs</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">reverse</span><span class="p">(</span><span class="o">&amp;</span><span class="n">reverse</span><span class="p">(</span><span class="o">&amp;</span><span class="n">xs</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cp">#[quickcheck]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">double_reversal_is_identity_string</span><span class="p">(</span><span class="n">xs</span>: <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">bool</span> <span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">xs</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">reverse</span><span class="p">(</span><span class="o">&amp;</span><span class="n">reverse</span><span class="p">(</span><span class="o">&amp;</span><span class="n">xs</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Rust çš„unit test æ˜¯ä¸æ”¯æŒå¸¦å‚æ•°çš„ï¼Œ=#[quickcheck]= è¿™ä¸ªå®å°±ä¼šè‡ªåŠ¨å°† <code>double_reversal_is_identity_isize</code> è½¬æ¢æˆ property based test case, è€Œå¾—ç›ŠäºRustçš„ç±»å‹ç³»ç»Ÿ, <code>quickcheck</code> å°±èƒ½æ¨æ–­å‡ºå…¥å‚å°±æ˜¯æˆ‘ä»¬å£°æ˜çš„æ ‡å‡† <code>Vec&lt;isze&gt;</code>, ä»»æ„ <code>isize</code> ç±»å‹çš„æ•°ç»„.</p>
<h3 id="struct-with-quickcheck"><span class="section-num">4.1</span> Struct with quickcheck</h3>
<p>å¦‚æœä¸Šé¢çš„ä¾‹å­è§‰å¾—è¿‡äºç®€å•çš„è¯ï¼Œç°åœ¨å°±è®©æˆ‘ä»¬çœ‹ä¸ªå¤æ‚ä¸€ç‚¹çš„ä¾‹å­, ä¸€ä¸ªç®€å•çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒä¼šå‘˜ï¼Œå€Ÿä¹¦ï¼Œè¿˜ä¹¦åŠŸèƒ½ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">chrono</span>::<span class="p">{</span><span class="n">Duration</span><span class="p">,</span><span class="w"> </span><span class="n">NaiveDate</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">collections</span>::<span class="n">HashMap</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cp">#[derive(Debug, Clone, PartialEq)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">struct</span> <span class="nc">Book</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">isbn</span>: <span class="nb">String</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">title</span>: <span class="nb">String</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">author</span>: <span class="nb">String</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">publication_year</span>: <span class="kt">u16</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cp">#[derive(Debug, Clone, PartialEq)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">struct</span> <span class="nc">Member</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">id</span>: <span class="kt">u32</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">name</span>: <span class="nb">String</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">email</span>: <span class="nb">String</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cp">#[derive(Debug, Clone)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">struct</span> <span class="nc">Loan</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">book_isbn</span>: <span class="nb">String</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">member_id</span>: <span class="kt">u32</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">due_date</span>: <span class="nc">NaiveDate</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cp">#[derive(Debug, Clone)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">struct</span> <span class="nc">Library</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">books</span>: <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nb">String</span><span class="p">,</span><span class="w"> </span><span class="n">Book</span><span class="o">&gt;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">members</span>: <span class="nc">HashMap</span><span class="o">&lt;</span><span class="kt">u32</span><span class="p">,</span><span class="w"> </span><span class="n">Member</span><span class="o">&gt;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">loans</span>: <span class="nb">Vec</span><span class="o">&lt;</span><span class="n">Loan</span><span class="o">&gt;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">current_date</span>: <span class="nc">NaiveDate</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">impl</span><span class="w"> </span><span class="n">Library</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">new</span><span class="p">(</span><span class="n">current_date</span>: <span class="nc">NaiveDate</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Library</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">books</span>: <span class="nc">HashMap</span>::<span class="n">new</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">members</span>: <span class="nc">HashMap</span>::<span class="n">new</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">loans</span>: <span class="nb">Vec</span>::<span class="n">new</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">current_date</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">add_book</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">book</span>: <span class="nc">Book</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="nb">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">books</span><span class="p">.</span><span class="n">contains_key</span><span class="p">(</span><span class="o">&amp;</span><span class="n">book</span><span class="p">.</span><span class="n">isbn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nb">Err</span><span class="p">(</span><span class="s">&#34;Book with this ISBN already exists&#34;</span><span class="p">.</span><span class="n">to_string</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="n">books</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">book</span><span class="p">.</span><span class="n">isbn</span><span class="p">.</span><span class="n">clone</span><span class="p">(),</span><span class="w"> </span><span class="n">book</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nb">Ok</span><span class="p">(())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">add_member</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">member</span>: <span class="nc">Member</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="nb">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">members</span><span class="p">.</span><span class="n">contains_key</span><span class="p">(</span><span class="o">&amp;</span><span class="n">member</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nb">Err</span><span class="p">(</span><span class="s">&#34;Member with this ID already exists&#34;</span><span class="p">.</span><span class="n">to_string</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="n">members</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">member</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">member</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nb">Ok</span><span class="p">(())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">loan_book</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">book_isbn</span>: <span class="kp">&amp;</span><span class="kt">str</span><span class="p">,</span><span class="w"> </span><span class="n">member_id</span>: <span class="kt">u32</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="nb">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="bp">self</span><span class="p">.</span><span class="n">books</span><span class="p">.</span><span class="n">contains_key</span><span class="p">(</span><span class="n">book_isbn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">Err</span><span class="p">(</span><span class="s">&#34;Book not found&#34;</span><span class="p">.</span><span class="n">to_string</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="bp">self</span><span class="p">.</span><span class="n">members</span><span class="p">.</span><span class="n">contains_key</span><span class="p">(</span><span class="o">&amp;</span><span class="n">member_id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">Err</span><span class="p">(</span><span class="s">&#34;Member not found&#34;</span><span class="p">.</span><span class="n">to_string</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">loans</span><span class="p">.</span><span class="n">iter</span><span class="p">().</span><span class="n">any</span><span class="p">(</span><span class="o">|</span><span class="n">loan</span><span class="o">|</span><span class="w"> </span><span class="n">loan</span><span class="p">.</span><span class="n">book_isbn</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">book_isbn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">Err</span><span class="p">(</span><span class="s">&#34;Book is already on loan&#34;</span><span class="p">.</span><span class="n">to_string</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">due_date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">current_date</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Duration</span>::<span class="n">days</span><span class="p">(</span><span class="mi">14</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="bp">self</span><span class="p">.</span><span class="n">loans</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">Loan</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">book_isbn</span>: <span class="nc">book_isbn</span><span class="p">.</span><span class="n">to_string</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">member_id</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">due_date</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nb">Ok</span><span class="p">(())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">return_book</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">book_isbn</span>: <span class="kp">&amp;</span><span class="kt">str</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="nb">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">loans</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">iter</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">position</span><span class="p">(</span><span class="o">|</span><span class="n">loan</span><span class="o">|</span><span class="w"> </span><span class="n">loan</span><span class="p">.</span><span class="n">book_isbn</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">book_isbn</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="bp">self</span><span class="p">.</span><span class="n">loans</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">index</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nb">Ok</span><span class="p">(())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nb">Err</span><span class="p">(</span><span class="s">&#34;Book is not currently on loan&#34;</span><span class="p">.</span><span class="n">to_string</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡ä¸Šé¢çš„ç®€å•ä»£ç ï¼Œå°±å®ç°äº†æ–°å¢å›¾ä¹¦ï¼Œæ–°å¢ä¼šå‘˜ï¼Œå€Ÿä¹¦ï¼Œå’Œè¿˜ä¹¦åŠŸèƒ½ã€‚ç°åœ¨å°±è®©æˆ‘ä»¬æ¥ç»“åˆ <code>quickcheck</code> çš„ <code>Arbitrary</code> æ¥å£ï¼Œå®ç°ç”Ÿæˆä»»æ„çš„å›¾ä¹¦å’Œä¼šå‘˜ï¼Œä»¥ä¾¿ç”¨äºæµ‹è¯•:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">quickcheck</span>::<span class="p">{</span><span class="n">Arbitrary</span><span class="p">,</span><span class="w"> </span><span class="n">Gen</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">impl</span><span class="w"> </span><span class="n">Arbitrary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">arbitrary</span><span class="p">(</span><span class="n">g</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">Gen</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Book</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// isbnå¿…é¡»ä»¥`ISBN` å¼€å¤´ï¼Œåæ¥ä»»æ„çš„å¤§äºç­‰äº0ï¼Œå°äºuint32.max_value
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">            </span><span class="c1">// çš„æ•´å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">            </span><span class="n">isbn</span>: <span class="nc">format</span><span class="o">!</span><span class="p">(</span><span class="s">&#34;ISBN-{}&#34;</span><span class="p">,</span><span class="w"> </span><span class="kt">u32</span>::<span class="n">arbitrary</span><span class="p">(</span><span class="n">g</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">title</span>: <span class="nb">String</span>::<span class="n">arbitrary</span><span class="p">(</span><span class="n">g</span><span class="p">),</span><span class="w"> </span><span class="c1">// ä»»æ„çš„å­—ç¬¦ä¸²
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">            </span><span class="n">author</span>: <span class="nb">String</span>::<span class="n">arbitrary</span><span class="p">(</span><span class="n">g</span><span class="p">),</span><span class="w"> </span><span class="c1">// ä»»æ„çš„å­—ç¬¦ä¸²
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">            </span><span class="n">publication_year</span>: <span class="o">*</span><span class="n">g</span><span class="p">.</span><span class="n">choose</span><span class="p">(</span><span class="o">&amp;</span><span class="p">[</span><span class="mi">2014_</span><span class="k">u16</span><span class="p">,</span><span class="w"> </span><span class="mi">2022_</span><span class="k">u16</span><span class="p">,</span><span class="w"> </span><span class="mi">2025_</span><span class="k">u16</span><span class="p">]).</span><span class="n">unwrap</span><span class="p">(),</span><span class="w"> </span><span class="c1">// 2014,2022æˆ–2025å¹´å‡ºç‰ˆçš„ä¹¦
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">impl</span><span class="w"> </span><span class="n">Arbitrary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Member</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">arbitrary</span><span class="p">(</span><span class="n">g</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">Gen</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Member</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">id</span>: <span class="kt">u32</span>::<span class="n">arbitrary</span><span class="p">(</span><span class="n">g</span><span class="p">),</span><span class="w"> </span><span class="c1">// ä»»æ„å¤§äº0ï¼Œå°äºuint32.max_valueçš„æ•´å‹
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">            </span><span class="n">name</span>: <span class="nb">String</span>::<span class="n">arbitrary</span><span class="p">(</span><span class="n">g</span><span class="p">),</span><span class="w"> </span><span class="c1">// ä»»æ„å­—ç¬¦ä¸²
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">            </span><span class="c1">// ä»»æ„å­—ç¬¦å¼€å¤´, ä»¥@example.com ç»“å°¾çš„å­—ç¬¦
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">            </span><span class="n">email</span>: <span class="nc">format</span><span class="o">!</span><span class="p">(</span><span class="s">&#34;{}@example.com&#34;</span><span class="p">,</span><span class="w"> </span><span class="nb">String</span>::<span class="n">arbitrary</span><span class="p">(</span><span class="n">g</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ç°åœ¨å°±è®©æˆ‘ä»¬æ¥çœ‹ä¸‹å€ŸåŠ© quickcheck ç¼–å†™çš„ test case, æ³¨æ„å‚æ•°ä¸º <code>Book</code> å’Œ <code>Member</code> ç±»å‹çš„ case, quickcheck å°±ä¼šä»¥æˆ‘ä»¬ä¸Šé¢å®šä¹‰çš„æ ‡å‡†ï¼Œè‡ªåŠ¨ç»™æˆ‘ä»¬ç”Ÿæˆç¬¦åˆè§„å®šçš„ <code>Book</code> å’Œ <code>Member</code> å‚æ•°.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="cp">#[cfg(test)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">mod</span> <span class="nn">tests</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">use</span><span class="w"> </span><span class="n">chrono</span>::<span class="n">NaiveDate</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">use</span><span class="w"> </span><span class="n">quickcheck_macros</span>::<span class="n">quickcheck</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">use</span><span class="w"> </span><span class="k">crate</span>::<span class="n">book</span>::<span class="n">Member</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">use</span><span class="w"> </span><span class="k">super</span>::<span class="p">{</span><span class="n">Book</span><span class="p">,</span><span class="w"> </span><span class="n">Library</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cp">#[quickcheck]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">adding_book_increases_book_count</span><span class="p">(</span><span class="n">book</span>: <span class="nc">Book</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">bool</span> <span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Library</span>::<span class="n">new</span><span class="p">(</span><span class="n">NaiveDate</span>::<span class="n">from_ymd_opt</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">).</span><span class="n">unwrap</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">initial_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">library</span><span class="p">.</span><span class="n">books</span><span class="p">.</span><span class="n">len</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">library</span><span class="p">.</span><span class="n">add_book</span><span class="p">(</span><span class="n">book</span><span class="p">.</span><span class="n">clone</span><span class="p">()).</span><span class="n">unwrap</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">library</span><span class="p">.</span><span class="n">books</span><span class="p">.</span><span class="n">len</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">initial_count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">library</span><span class="p">.</span><span class="n">books</span><span class="p">.</span><span class="n">contains_key</span><span class="p">(</span><span class="o">&amp;</span><span class="n">book</span><span class="p">.</span><span class="n">isbn</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cp">#[quickcheck]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">cannot_loan_nonexistent_book</span><span class="p">(</span><span class="n">book_isbn</span>: <span class="nb">String</span><span class="p">,</span><span class="w"> </span><span class="n">member_id</span>: <span class="kt">u32</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">bool</span> <span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Library</span>::<span class="n">new</span><span class="p">(</span><span class="n">NaiveDate</span>::<span class="n">from_ymd_opt</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">).</span><span class="n">unwrap</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">library</span><span class="p">.</span><span class="n">loan_book</span><span class="p">(</span><span class="o">&amp;</span><span class="n">book_isbn</span><span class="p">,</span><span class="w"> </span><span class="n">member_id</span><span class="p">).</span><span class="n">is_err</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="cp">#[quickcheck]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">fn</span> <span class="nf">can_return_loaned_book</span><span class="p">(</span><span class="n">book</span>: <span class="nc">Book</span><span class="p">,</span><span class="w"> </span><span class="n">member</span>: <span class="nc">Member</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">bool</span> <span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Library</span>::<span class="n">new</span><span class="p">(</span><span class="n">NaiveDate</span>::<span class="n">from_ymd_opt</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">).</span><span class="n">unwrap</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">library</span><span class="p">.</span><span class="n">add_book</span><span class="p">(</span><span class="n">book</span><span class="p">.</span><span class="n">clone</span><span class="p">()).</span><span class="n">unwrap</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">library</span><span class="p">.</span><span class="n">add_member</span><span class="p">(</span><span class="n">member</span><span class="p">.</span><span class="n">clone</span><span class="p">()).</span><span class="n">unwrap</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">library</span><span class="p">.</span><span class="n">loan_book</span><span class="p">(</span><span class="o">&amp;</span><span class="n">book</span><span class="p">.</span><span class="n">isbn</span><span class="p">,</span><span class="w"> </span><span class="n">member</span><span class="p">.</span><span class="n">id</span><span class="p">).</span><span class="n">unwrap</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">library</span><span class="p">.</span><span class="n">return_book</span><span class="p">(</span><span class="o">&amp;</span><span class="n">book</span><span class="p">.</span><span class="n">isbn</span><span class="p">).</span><span class="n">is_ok</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡ <code>quickcheck</code> æˆ‘ä»¬å°±å¯ä»¥åªä¸“æ³¨æµ‹è¯•é€»è¾‘ï¼Œå¯ä»¥å‡å®šæµ‹è¯•æ•°æ®é›†æ˜¯å®Œå¤‡çš„äº†ã€‚å¯èƒ½çœ‹åˆ° <code>Book</code> å’Œ <code>Member</code>, ä½ ä¼šè§‰å¾— quickcheck å¹¶æ²¡æœ‰åšå¤ªå¤šäº‹æƒ…ï¼Œä½ æ‰‹å·¥ä¹Ÿå¯ä»¥æ„é€ ã€‚</p>
<p>ä½†æ˜¯æˆ‘åœ¨çš„å®é™…å·¥ä½œä¸­ï¼Œæˆ‘å°±éœ€è¦æ„é€ ä¸€ä¸ªè¶…è¿‡23ä¸ªæˆå‘˜å˜é‡çš„ struct, å¤§éƒ¨åˆ†è¿˜æ˜¯ optional, ç„¶åéœ€è¦å°†è¿™ä¸ª struct å†™å…¥åˆ° parquet æ–‡ä»¶ï¼Œç„¶åå†æµ‹è¯•è¯»å–é€»è¾‘ã€‚
ä¸åŒæˆå‘˜å˜é‡çš„å€¼å¯å–çš„èŒƒå›´å®åœ¨å¤ªå¤šäº†ï¼Œå†å åŠ ä¸Š optional çš„å¯èƒ½æ€§ï¼Œæ„é€ æ•°æ®çš„ä»£ç å†™å¾—ç›¸å½“æ¶å¿ƒ.</p>
<p>æ‰€ä»¥æœ‰äº† quickcheck ä¹‹åï¼Œæˆ‘åªéœ€è¦ä¸ºè¿™ä¸ª struct å®ç° <code>Arbitrary</code> æ¥å£ï¼Œå‰©ä¸‹çš„å°±ç”± <code>quickcheck</code> æ›¿æˆ‘ç”Ÿæˆï¼Œæ‰€ä»¥æˆ‘ç›´æ¥å’ŒPEå¤§ä½¬è¯´:</p>
<blockquote>
<p>property test saves me life, now I couldn&rsquo;t live without it.</p>
</blockquote>
<h2 id="æ€»ç»“"><span class="section-num">5</span> æ€»ç»“</h2>
<p>æœ¬æ¥æƒ³æŠ’å‘æ„Ÿæƒ³å†™ç‚¹ç»“è¯­ï¼Œä½†æ˜¯çœ‹åˆ° Hypothesis ä½œè€…å†™çš„ <a href="https://hypothesis.readthedocs.io/en/latest/manifesto.html">The purpose of Hypothesis</a><sup id="fnref:7"><a href="#fn:7" class="footnote-ref" role="doc-noteref">7</a></sup> æ¥è¯´æ˜ä»–å¼€å‘çš„ Hypothesis çš„åŠ¨æœºï¼Œä»–çš„æ–‡ç« ç”šè‡³ç”¨æ¥ç»™è¿™ä¸ªã€Šæµ‹è¯•æŠ€èƒ½è¿›é˜¶ã€‹ç³»åˆ—æ€»ç»“éƒ½ç›¸å½“å¦¥å½“ã€‚</p>
<p>æˆ‘å°±è¯•ç¿»è¯‘ä¸‹ä»–æ–‡ç« çš„éƒ¨åˆ†æ®µè½, æ›´æ¨èé˜…è¯»åŸæ–‡ï¼Œå¯è°“æ˜¯ç”¨å¿ƒè‰¯è‹¦ï¼Œå­—å­—ç ç‘:</p>
<blockquote>
<p>è¯·å®¹æˆ‘ç‹‚å¦„ä¸€ä¸‹ï¼ŒHypothesis çš„ç›®æ ‡æ˜¯å¸Œæœ›å¯ä»¥è®©è¿™ä¸ªä¸–ç•Œè¿ˆè¿›åˆ°ä¸€ä¸ªå…¨æ–°ï¼Œç”±é«˜è´¨é‡è½¯ä»¶æ‰“é€ çš„æ–°ä¸–ä»£ã€‚</p>
<p>æ­£å¦‚äººä»¬æ‰€è¯´ï¼Œè½¯ä»¶æ­£åœ¨åå™¬æ•´ä¸ªä¸–ç•Œã€‚ä½†è½¯ä»¶æœ¬èº«å´å¾ˆçƒ‚ï¼Œå®ƒå……æ»¡bugï¼Œåˆä¸å®‰å…¨ï¼Œè¿˜ç»å¸¸è¢«è®¾è®¡å¾—å¾ˆçƒ‚ï¼Œè¿™æ ·çš„è½¯ä»¶å¯è°“æ˜¯ä¸‡æ¶ä¹‹æº.</p>
<p>è€Œè½¯ä»¶æµ‹è¯•çš„çŠ¶å†µç”šè‡³æ›´ç³Ÿç³•ï¼Œè™½ç„¶å¤§å®¶éƒ½è®¤åŒåº”è¯¥å¯¹ä»£ç è¿›è¡Œæµ‹è¯•ï¼Œä½†æ˜¯ä½ èƒ½é—®å¿ƒæ— æ„§åœ°è¯´ï¼Œä½ ç»æ‰‹è¿‡çš„ä»£ç éƒ½æœ‰è¢«å……åˆ†æµ‹è¯•ä¹ˆï¼Ÿ</p>
<p>é—®é¢˜åœ¨äºï¼Œå®åœ¨æ˜¯å¤ªéš¾å†™å‡ºå¥½çš„æµ‹è¯•äº†ï¼Œ
<strong><strong>ä½ å†™æµ‹è¯•ç”¨ä¾‹çš„æ—¶å€™ï¼Œé€šå¸¸æŒæœ‰å’Œä½ å†™ä»£ç æ—¶ä¸€æ ·çš„å‡è®¾ä¸è¯¯åŒºï¼Œä½ å†™çš„æµ‹è¯•ç”¨ä¾‹è‡ªç„¶æ— æ³•å‘ç°ä½ å½“åˆåŸ‹ä¸‹çš„bug</strong></strong> (ç²¾è¾Ÿ)</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œæœ‰å„ç§å„æ ·è®©æµ‹è¯•å˜æˆæ›´å¥½çš„å·¥å…·å´åŸºæœ¬æ— äººä½¿ç”¨ï¼Œæœ€åˆçš„ Quickcheck æ˜¯1999å¹´æ¨å‡ºçš„ï¼Œä½†æ˜¯å¤§å¤šæ•°å¼€å‘è€…ç”šè‡³ä»æœªå¬è¯´è¿‡å®ƒï¼Œæ›´åˆ«æä½¿ç”¨äº†ï¼ˆå¼€å±±å§‹ç¥–çš„Quickcheckåœ¨GitHubåªæœ‰700å¤šä¸ªStarï¼Œå°±çŸ¥é“ä½œè€…æ‰€è¨€ä¸è™šï¼‰ã€‚
è™½ç„¶å…¶ä»–è¯­è¨€æœ‰äº›åŠæˆå“çš„å®ç°ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†éƒ½ä¸å€¼å¾—ä¸€è¯•ã€‚</p>
<p>è€Œ Hypothesis çš„ç›®æ ‡æ­£æ˜¯æ­£æœ¬æ¸…æºï¼ŒæŠŠå…ˆè¿›çš„æµ‹è¯•æŠ€æœ¯ä¼ é€’ç»™å¤§ä¼—ï¼Œå¹¶æä¾›ä¸€ä¸ªé«˜è´¨é‡çš„å®ç°ï¼Œè®©äººä»¬å¯ä»¥æ¥çº³å®ƒã€‚</p>
<p>å¸Œæœ›å¯ä»¥é›†ç™¾å®¶ä¹‹æ‰€é•¿ï¼Œé™„ä»¥ä¸ªäººå¾®è–„ä¹‹åŠ›ï¼Œè®©è½¯ä»¶æµ‹è¯•å˜å¾—æ›´å¥½ã€‚</p>
</blockquote>
<p>ç³»åˆ—æ–‡ç« :</p>
<ul>
<li><a href="https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%B8%80_%E8%BD%AF%E4%BB%B6%E8%B4%A8%E9%87%8F%E8%AE%A4%E7%9F%A5/">æµ‹è¯•æŠ€èƒ½è¿›é˜¶(ä¸€): è½¯ä»¶è´¨é‡è®¤çŸ¥</a></li>
<li><a href="https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%BA%8C_parameterized_tests/">æµ‹è¯•æŠ€èƒ½è¿›é˜¶(äºŒ): Parameterized Tests</a></li>
<li><a href="https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%B8%89_property_based_testing/">æµ‹è¯•æŠ€èƒ½è¿›é˜¶(ä¸‰): Property Based Testing</a></li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://en.wikipedia.org/wiki/QuickCheck">https://en.wikipedia.org/wiki/QuickCheck</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p><a href="https://hypothesis.works/">https://hypothesis.works/</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p><a href="https://en.wikipedia.org/wiki/Run-length_encoding">https://en.wikipedia.org/wiki/Run-length_encoding</a>&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p><a href="https://github.com/BurntSushi/ripgrep">https://github.com/BurntSushi/ripgrep</a>&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:5">
<p><a href="https://github.com/BurntSushi/quickcheck">https://github.com/BurntSushi/quickcheck</a>&#160;<a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:6">
<p><a href="https://github.com/proptest-rs/proptest">https://github.com/proptest-rs/proptest</a>&#160;<a href="#fnref:6" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:7">
<p><a href="https://hypothesis.readthedocs.io/en/latest/manifesto.html">https://hypothesis.readthedocs.io/en/latest/manifesto.html</a>&#160;<a href="#fnref:7" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
]]></content:encoded>
    </item>
    <item>
      <title>æµ‹è¯•æŠ€èƒ½è¿›é˜¶(äºŒ): Parameterized Tests</title>
      <link>https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%BA%8C_parameterized_tests/</link>
      <pubDate>Sun, 13 Oct 2024 09:35:00 -0700</pubDate>
      <guid>https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%BA%8C_parameterized_tests/</guid>
      <description>1 å‰è¨€ æµ‹è¯•æŠ€å·§å…·æœ‰æ™®é€‚æ€§ï¼Œå¤§å¤šæ˜¯ä¸è¯­è¨€æ— å…³çš„ï¼Œåªæ˜¯ä¸åŒè¯­è¨€çš„ç”Ÿæ€å¯èƒ½å¯¹æµ‹è¯•æŠ€æœ¯çš„æ”¯æŒå„ä¸ä¸€æ ·ï¼Œ æ¯”å¦‚Pythonå’ŒJavaï¼ŒåŸºæœ¬ä»€ä¹ˆåº“éƒ½æœ‰ï¼Œè€Œ</description>
      <content:encoded><![CDATA[<h2 id="å‰è¨€"><span class="section-num">1</span> å‰è¨€</h2>
<p>æµ‹è¯•æŠ€å·§å…·æœ‰æ™®é€‚æ€§ï¼Œå¤§å¤šæ˜¯ä¸è¯­è¨€æ— å…³çš„ï¼Œåªæ˜¯ä¸åŒè¯­è¨€çš„ç”Ÿæ€å¯èƒ½å¯¹æµ‹è¯•æŠ€æœ¯çš„æ”¯æŒå„ä¸ä¸€æ ·ï¼Œ
æ¯”å¦‚Pythonå’ŒJavaï¼ŒåŸºæœ¬ä»€ä¹ˆåº“éƒ½æœ‰ï¼Œè€ŒåƒC++ï¼Œæœ‰é¡ºæ‰‹çš„å•å…ƒæµ‹è¯•å’ŒMockåº“èƒ½ç”¨å°±å¾ˆä¸é”™äº†ã€‚</p>
<p>å› ä¸ºPythonæ¯”è¾ƒé€‚åˆå†™POC(proof of concept), è€Œæˆ‘æ—¥å¸¸å·¥ä½œçš„è¯­è¨€æ˜¯Java+Rustï¼Œæ‰€ä»¥æˆ‘ä¼šç©¿æ’ç€å¼•ç”¨è¿™ä¸‰ç§è¯­è¨€ã€‚</p>
<h2 id="parameterized-test"><span class="section-num">2</span> Parameterized Test</h2>
<p>åœ¨ä»‹ç» Parameterized Test ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥çœ‹ä¸ªç®€å•çš„è®¡ç®—ä»·æ ¼ä¸æŠ˜æ‰£çš„å‡½æ•°ï¼ˆå®é™…çš„ç”Ÿäº§ä»£ç è‚¯å®šä¼šæ›´å¤æ‚ï¼Œä½†æ˜¯èƒŒåçš„æ€è·¯æ˜¯ç›¸é€šçš„ï¼‰ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">calculate_discount</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">discount_percentage</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">price</span> <span class="o">-</span> <span class="p">(</span><span class="n">price</span> <span class="o">*</span> <span class="n">discount_percentage</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>é’ˆå¯¹è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç¼–å†™å¤šä¸ª test case, æ¯”å¦‚ä»·æ ¼æ˜¯ 100, ç»™10%çš„æŠ˜æ‰£; ä»·æ ¼æ˜¯200, ç»™20%çš„æŠ˜æ‰£; ä»·æ ¼æ˜¯50, ç»™0çš„æŠ˜æ‰£ï¼›è¿˜æœ‰å¼‚å¸¸caseï¼Œæ¯”å¦‚ä»·æ ¼ä¸ºè´Ÿæ•°çš„æ—¶å€™ï¼Œæˆ–è€…æŠ˜æ‰£ä¸ºè´Ÿæ•°çš„æ—¶å€™.</p>
<h3 id="å•ä¸ª-test-case"><span class="section-num">2.1</span> å•ä¸ª test case</h3>
<p>å¯¹äºè¿™ä¹ˆå¤šçš„ case, ä¸€ä¸ªç®€å•ç²—æš´çš„æ–¹å¼å°±æ˜¯æŠŠæ‰€æœ‰çš„ case éƒ½å†™åœ¨ä¸€ä¸ª test case é‡Œï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pytest</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_calculate_discount</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># happy path</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">calculate_discount</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">==</span> <span class="mi">90</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">calculate_discount</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="o">==</span> <span class="mi">160</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">calculate_discount</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">50</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># unhappy path</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># assert calculate_discount(-2, 10)</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># assert calculate_discount(10, -2)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½†æ˜¯è¿™æ ·çš„åšæ³•ä¸€èˆ¬æ˜¯ä¸æ¨èçš„ï¼ŒBest Practiceæ˜¯ä¸€ä¸ª test case åªæµ‹ä¸€ç§æƒ…å†µï¼Œå› ä¸ºå¦‚æœä¸€ä¸ª test case åŒ…å«å¤šä¸ªæµ‹è¯•æ¡ä»¶ï¼Œå¦‚æœ test case fail äº†ï¼Œé‚£ä¹ˆä¸çœ‹æºç æˆ–è€…å †æ ˆï¼Œä¸€èˆ¬è¿˜çœ‹ä¸å‡ºæ˜¯ä»€ä¹ˆ case å¤±è´¥äº†ï¼Œä¸å¥½æ’æŸ¥ã€‚</p>
<h3 id="å¤šä¸ª-test-case"><span class="section-num">2.2</span> å¤šä¸ª test case</h3>
<p>æ¨èåšæ³•å°±æ˜¯æ¯ä¸ªæµ‹è¯•æ¡ä»¶å®šä¸ªå•ç‹¬çš„ test caseã€‚</p>
<p>å¦å¤–æˆ‘ä»¬é€šè¿‡test caseå‘ç°ä¸Šé¢çš„ä»£ç æ²¡æœ‰å¤„ç†å¼‚å¸¸æƒ…å†µï¼Œæˆ‘ä»¬ç°åœ¨è¦ä¼˜åŒ–ä¸‹æˆ‘ä»¬çš„ä»£ç ï¼Œå¢åŠ å¼‚å¸¸å¤„ç†é€»è¾‘(è¿™ä¸ªå°±æ˜¯TDDæ‰€æ¨å´‡çš„å¼€å‘å“²å­¦, test case å…ˆè¡Œï¼Œé€šè¿‡test caseå‘ç°é—®é¢˜ï¼Œè®©test case failæ‰ï¼Œç„¶åä¿®æ­£ä¸šåŠ¡é€»è¾‘ï¼Œtest caseå†è¿è¡Œé€šè¿‡).</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pytest</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">calculate_discount</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">discount_percentage</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">price</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Price must be greater than zero: </span><span class="si">{</span><span class="n">price</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">discount_percentage</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Discount_percentage must be greater than zero: </span><span class="si">{</span><span class="n">discount_percentage</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">price</span> <span class="o">-</span> <span class="p">(</span><span class="n">price</span> <span class="o">*</span> <span class="n">discount_percentage</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">TestClassCalculateDiscount</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># happy path</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">test_calculate_discount_with_10_discount_percentage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">calculate_discount</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="o">==</span> <span class="mi">90</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">test_calculate_discount_with_20_discount_percentage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">calculate_discount</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="o">==</span> <span class="mi">160</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">test_calculate_discount_with_0_discount_percentage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">calculate_discount</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">50</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># unhappy path</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">test_calculate_discount_with_negative_price</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">assert</span> <span class="n">calculate_discount</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">test_calculate_discount_with_negative_discount</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">assert</span> <span class="n">calculate_discount</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä»£ç çš„ç¡®æ˜¯æ•´æ´æ˜“è¯»äº†ï¼Œä½†è¯è™½å¦‚æ­¤ï¼Œæˆ‘ä»¬è¦å¤šå†™äº†å¾ˆå¤šçš„ test case.</p>
<p>å¦‚æœ <code>calculate_discount</code> å˜å¾—æ›´å¤æ‚ï¼Œæˆ‘ä»¬è¦å†™çš„ test case è‚¯å®šæ˜¯æ›´å¤šæ›´å¤æ‚ï¼Œæ€»ä¸èƒ½éƒ½ copy-paste test caseå§ã€‚</p>
<h3 id="parameterized-test"><span class="section-num">2.3</span> Parameterized Test</h3>
<p>è¯é¢˜å°±å›åˆ° Parameterized Test äº†, å®ƒå°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œå®ƒå¯ä»¥è®©ä½ ç”¨ä¸åŒçš„æµ‹è¯•æ•°æ®é›†ä¼šè¿è¡Œç›¸åŒçš„æµ‹è¯•é€»è¾‘.
è¿˜æ˜¯ä»¥ä¸Šé¢çš„ä»£ç ä¸ºä¾‹å­ï¼Œä½ ä¼šå‘ç° <code>test_calculate_discount_with_10_discount_percentage</code> å’Œ <code>test_calculate_discount_with_20_discount_percentage</code> çš„æµ‹è¯•é€»è¾‘æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œä½†åªæ˜¯æ•°æ®é›†ä¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ Parameterized Test æ¥ä¼˜åŒ–ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pytest</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">TestClassCalculateDiscount</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Parameterized test for valid cases (happy path)</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@pytest.mark.parametrize</span><span class="p">(</span><span class="s2">&#34;price, discount, expected&#34;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">90</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">160</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">test_calculate_discount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">discount</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">calculate_discount</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">discount</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Parameterized test for invalid cases (unhappy path)</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@pytest.mark.parametrize</span><span class="p">(</span><span class="s2">&#34;price, discount&#34;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>   <span class="c1"># Invalid price</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>    <span class="c1"># Invalid discount percentage</span>
</span></span><span class="line"><span class="cl">    <span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">test_calculate_discount_invalid_cases</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">discount</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">calculate_discount</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">discount</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¶å®å°±æ˜¯æŠŠæµ‹è¯•é€»è¾‘å’Œæ•°æ®è¿›è¡Œäº†åˆ†ç¦»ï¼Œåé¢éœ€è¦æµ‹è¯•æ–°çš„æ•°æ®é›†ï¼Œåªéœ€è¦å‘æ•°æ®é›†é‡Œé¢æ·»åŠ æ•°æ®å³å¯ã€‚</p>
<p>ç”±æ­¤å¯è§ï¼Œä½¿ç”¨ Parameterized Test æœ‰å‡ ä¸ªæ˜¾è€Œæ˜“è§çš„å¥½å¤„ï¼š</p>
<p>é¦–å…ˆæ˜¯å‡å°‘ä»£ç å†—ä½™ï¼Œä¸éœ€è¦ç±»ä¼¼çš„ä»£ç  copy-paste å¾ˆå¤šæ¬¡ï¼›å…¶æ¬¡æ˜¯æ–¹ä¾¿æåˆ°æµ‹è¯•è¦†ç›–ç‡ï¼Œè¿™ä¸ªåœ¨ä¸Šé¢çš„ä¾‹å­å¯èƒ½ä¸æ˜æ˜¾ï¼Œæˆ‘ä»¬å¯ä»¥å†ä¿®æ”¹ä¸€ä¸‹ <code>calculate_discount</code> å‡½æ•°ï¼Œå¢åŠ ä¸¤ä¸ªåˆ†æ”¯ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">calculate_discount</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">discount_percentage</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">price</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Price must be greater than zero: </span><span class="si">{</span><span class="n">price</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">discount_percentage</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Discount_percentage must be greater than zero: </span><span class="si">{</span><span class="n">discount_percentage</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">price</span> <span class="o">&gt;</span> <span class="mi">50000</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">price</span> <span class="o">-</span> <span class="p">(</span><span class="n">price</span> <span class="o">*</span> <span class="p">(</span><span class="n">discount_percentage</span> <span class="o">*</span> <span class="mf">1.15</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="n">price</span> <span class="o">&gt;</span> <span class="mi">100000</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">price</span> <span class="o">-</span> <span class="p">(</span><span class="n">price</span> <span class="o">*</span> <span class="p">(</span><span class="n">discount_percentage</span> <span class="o">*</span> <span class="mf">1.18</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">price</span> <span class="o">-</span> <span class="p">(</span><span class="n">price</span> <span class="o">*</span> <span class="n">discount_percentage</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä»·æ ¼è¶…è¿‡50000, åœ¨å·²æœ‰æŠ˜æ‰£åŸºç¡€ä¸Šï¼Œå†é¢å¤–ç»™æŠ˜æ‰£çš„15%ä½œä¸ºæŠ˜æ‰£ï¼›ä»·æ ¼è¶…è¿‡100000ï¼Œåœ¨å·²æœ‰æŠ˜æ‰£çš„åŸºç¡€ä¸Šï¼Œå†é¢å¤–ç»™æŠ˜æ‰£çš„18%ä½œä¸ºæŠ˜æ‰£. å¦‚æœè¦è¦†ç›–è¿™ä¸¤ä¸ªæ–°çš„åˆ†æ”¯ï¼Œåªéœ€è¦åœ¨æ•°æ®é›†ä¸Šæ·»åŠ å¤§äº50000 å’Œå¤§äº100000çš„æ•°æ®é›†ï¼Œå°±å¯ä»¥ç›´æ¥è¦†ç›–åˆ°äº†.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nd">@pytest.mark.parametrize</span><span class="p">(</span><span class="s2">&#34;price, discount, expected&#34;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">90</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">160</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="mi">50001</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">44250.885</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="mi">100001</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">88500.885</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_calculate_discount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">discount</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">calculate_discount</span><span class="p">(</span><span class="n">price</span><span class="p">,</span> <span class="n">discount</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åæµ‹è¯•è¿™æ®µä»£ç çš„æ—¶å€™ï¼Œæˆ‘åˆå‘ç°ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œè¿™é‡Œçš„ä»·æ ¼å˜æˆæµ®ç‚¹æ•°åï¼Œæ²¡æœ‰ä½œå°æ•°ç‚¹åå‡ ä½çš„å–æ•´ã€‚</p>
<p>ï¼ˆå¯¹äºè¿™æ ·ç®€å•çš„å‡½æ•°ï¼Œä¹Ÿèƒ½ä¸æ–­åœ°é€šè¿‡å†™ test case å‘ç°æ–°é—®é¢˜ï¼Œè¿™æ— ç–‘å°±æ˜¯ test case æœ€å¤§çš„ä»·å€¼æ‰€åœ¨äº†ï¼‰</p>
<p>ä½¿ç”¨ Parameterized Test è¿˜å¯ä»¥æé«˜æµ‹è¯•ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œè¿™éƒ¨åˆ†å†…å®¹è¿˜æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå°±ä¸å±•å¼€äº†ã€‚</p>
<h3 id="junit"><span class="section-num">2.4</span> Junit</h3>
<p>åœ¨Javaçš„æµ‹è¯•ç”Ÿæ€ä¸­ï¼ŒJunitæ˜¯æ¯«æ— ç–‘é—®çš„é¾™å¤´å¤§å“¥ï¼Œè€Œåœ¨Junit5 ï¼ŒJunitä¹Ÿå¼•å…¥äº†å¯¹ Parameterized Test çš„æ”¯æŒï¼Œé€šè¿‡ <code>@ParameterizedTest</code> è¿™ä¸ªæšä¸¾å°±å¯ä»¥å°†æŸä¸ª test case æ ‡æ³¨æˆ Parameterized Test, é€šè¿‡ <code>@ValueSource</code> ä¼ å…¥å¾…æµ‹è¯•æ•°æ®é›†ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Numbers</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isOdd</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">2</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@ParameterizedTest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@ValueSource</span><span class="p">(</span><span class="n">ints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">1</span><span class="p">,</span><span class="w"> </span><span class="n">3</span><span class="p">,</span><span class="w"> </span><span class="n">5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">3</span><span class="p">,</span><span class="w"> </span><span class="n">15</span><span class="p">,</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">MAX_VALUE</span><span class="p">})</span><span class="w"> </span><span class="c1">// six numbers</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">void</span><span class="w"> </span><span class="nf">isOdd_ShouldReturnTrueForOddNumbers</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">Numbers</span><span class="p">.</span><span class="na">isOdd</span><span class="p">(</span><span class="n">number</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™åªæ˜¯æœ€åŸºæœ¬çš„ç”¨æ³•ï¼ŒJunitè¿˜æ”¯æŒé€šè¿‡å‡½æ•°ï¼Œæšä¸¾ï¼ŒCSVæ ¼å¼ç”šè‡³æ–‡ä»¶æ¥ä¼ å…¥å¾…æµ‹è¯•æ•°æ®é›†ï¼Œå¯è°“æ˜¯åŒ…ç½—ä¸‡æœ‰ï¼Œå…·ä½“çš„ç”¨æ³•å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="https://www.baeldung.com/parameterized-tests-junit-5">Guide to JUnit 5 Parameterized Tests</a><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> å’Œ <a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests">Junitå®˜æ–¹æ–‡æ¡£</a>Â <sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
<h3 id="rstest-and-test-case"><span class="section-num">2.5</span> rstest &amp; test_case</h3>
<p>Rust ä¹Ÿæœ‰å¯¹Parameterized Testæ”¯æŒçš„åº“ï¼Œä¸€ä¸ªå°±æ˜¯ <a href="https://github.com/la10736/rstest"><code>rstest</code></a><sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>, å¦å¤–ä¸€ä¸ªå°±æ˜¯ <a href="https://github.com/frondeus/test-case"><code>test_case</code></a>Â <sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>, ä¸¤è€…éƒ½å¯¹ Parameterized Test æœ‰è¾ƒå¥½çš„æ”¯æŒï¼Œåœ¨å…¬å¸çš„ä»£ç åº“ä¸­ï¼Œä¸¤è€…æˆ‘éƒ½è§è¿‡æœ‰é¡¹ç›®åœ¨ä½¿ç”¨ï¼Œè€Œæˆ‘åœ¨å·¥ä½œä¸­ä½¿ç”¨çš„æ˜¯ <code>rstest</code>, å› ä¸ºå®ƒçš„åŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œç»´æŠ¤è€…ä¹Ÿæ›´åŠ æ´»è·ƒ.</p>
<h2 id="æ€»ç»“"><span class="section-num">3</span> æ€»ç»“</h2>
<p>åœ¨äº†è§£ Parameterized Test ä¹‹å‰ï¼Œæˆ‘çš„æ¯ä¸ªCRåŸºæœ¬éƒ½æœ‰ test case è¦†ç›–ï¼Œä½†æ˜¯åæˆ‘æ—è¾¹ Principle Engineer å·¨ä½¬ review æˆ‘ä»£ç çš„æ—¶å€™ï¼Œæ€»ä¼šè¯´æˆ‘çš„ test case å¤ª verbose å’Œ heavy, æˆ‘åœ¨æƒ³test caseå¤šè¿˜ä¸å¥½å˜›ï¼Œæˆ‘çš„ code coverage éƒ½è¶…è¿‡80%äº†.</p>
<p>ç„¶è€Œä»–çš„æ„æ€æ˜¯ï¼Œä¸æ˜¯è¯´æˆ‘çš„ test case æ²¡æœ‰è¦†ç›–åˆ°ä»£ç ï¼Œæˆ‘100è¡Œçš„å˜æ›´ï¼Œé™„ä¸Š200è¡Œçš„ test case ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œåªä¸è¿‡æˆ‘çš„test caseå¤§å¤šåªæ˜¯æ•°æ®ä¸ä¸€æ ·ï¼Œæµ‹è¯•é€»è¾‘åŸºæœ¬ç›¸åŒï¼Œèƒ½å¦æŠ½è±¡ä¸‹ï¼Œå‡å°‘ä¸‹code redundancy, ç„¶åå°±å¼ºçƒˆå»ºè®®æˆ‘å»çœ‹ä¸‹ <code>Parameterized Test</code> ä»¥åŠ <code>Property Based Test</code>.</p>
<p>å¤§ä½¬çš„ç¡®ä¸€é’ˆè§è¡€ï¼Œæˆ‘çš„ test case å¤§å¤šæ˜¯å¤åˆ¶å·²æœ‰çš„ test case, ä¿®æ”¹ä¸‹å‡½æ•°åï¼Œå†åŠ åŠ å‡å‡æ”¹ä¸‹æ•°æ®é›†ã€‚</p>
<p>ç»ä»–æŒ‡ç‚¹ï¼Œåœ¨äº†è§£ <code>Parameterized Test</code> ä¹‹åï¼Œæˆ‘çš„ç¡®å†ä¹Ÿæ²¡æœ‰å¤åˆ¶ test caseï¼Œæ¯æ¬¡CRçš„test caseä¹Ÿæ›´ç²¾ç®€äº†ï¼ŒCRä¹Ÿæ›´å®¹æ˜“é€šè¿‡äº†.</p>
<p>è€Œä»–æåˆ°çš„ <code>Property Based Test</code> åˆ™æ˜¯ä¸€é¡¹æ›´å¼ºå¤§çš„æµ‹è¯•æŠ€æœ¯ï¼Œä¸‹å›å†åˆ†è§£äº†ã€‚</p>
<p>ç³»åˆ—æ–‡ç« :</p>
<ul>
<li><a href="https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%B8%80_%E8%BD%AF%E4%BB%B6%E8%B4%A8%E9%87%8F%E8%AE%A4%E7%9F%A5/">æµ‹è¯•æŠ€èƒ½è¿›é˜¶(ä¸€): è½¯ä»¶è´¨é‡è®¤çŸ¥</a></li>
<li><a href="https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%BA%8C_parameterized_tests/">æµ‹è¯•æŠ€èƒ½è¿›é˜¶(äºŒ): Parameterized Tests</a></li>
<li><a href="https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%B8%89_property_based_testing/">æµ‹è¯•æŠ€èƒ½è¿›é˜¶(ä¸‰): Property Based Testing</a></li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://www.baeldung.com/parameterized-tests-junit-5">https://www.baeldung.com/parameterized-tests-junit-5</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p><a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests">https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p><a href="https://github.com/la10736/rstest">https://github.com/la10736/rstest</a>&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p><a href="https://github.com/frondeus/test-case">https://github.com/frondeus/test-case</a>&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
]]></content:encoded>
    </item>
    <item>
      <title>åŒºå—é“¾çš„å®Œæ•´æ€§æ ¡éªŒæ–¹æ¡ˆ: Merkle Tree</title>
      <link>https://ramsayleung.github.io/zh/post/2024/%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7%E6%A0%A1%E9%AA%8C%E6%96%B9%E6%A1%88_merkle_tree/</link>
      <pubDate>Sat, 12 Oct 2024 18:22:00 -0700</pubDate>
      <guid>https://ramsayleung.github.io/zh/post/2024/%E5%8C%BA%E5%9D%97%E9%93%BE%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7%E6%A0%A1%E9%AA%8C%E6%96%B9%E6%A1%88_merkle_tree/</guid>
      <description>1 å‰è¨€ æœ€è¿‘é€šè¿‡ Solidity-103 è¯¾ç¨‹åœ¨å­¦ä¹  Solidity, çœ‹åˆ°ç¬¬36è¯¾ Merkle Tree çš„æ—¶å€™ç€å®å¤´ç–¼, å³ä½¿æˆ‘å·²ç»äº†è§£ Merkle Tree è¿™æ•°æ®ç»“æ„ï¼Œä½†æ˜¯è¯¾ç¨‹è¿˜æ˜¯çœ‹å¾—ä¸æ˜æ‰€ä»¥ã€‚ æ‰€ä»¥å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œæ¢³ç†æˆ‘</description>
      <content:encoded><![CDATA[<h2 id="å‰è¨€"><span class="section-num">1</span> å‰è¨€</h2>
<p>æœ€è¿‘é€šè¿‡ <a href="https://www.wtf.academy/docs/solidity-103">Solidity-103</a> è¯¾ç¨‹åœ¨å­¦ä¹  Solidity, çœ‹åˆ°<a href="https://www.wtf.academy/docs/solidity-103/MerkleTree/">ç¬¬36è¯¾</a> Merkle Tree çš„æ—¶å€™ç€å®å¤´ç–¼, å³ä½¿æˆ‘å·²ç»äº†è§£ Merkle Tree è¿™æ•°æ®ç»“æ„ï¼Œä½†æ˜¯è¯¾ç¨‹è¿˜æ˜¯çœ‹å¾—ä¸æ˜æ‰€ä»¥ã€‚ <br/></p>
<p>æ‰€ä»¥å†™ä¸‹è¿™ç¯‡æ–‡ç« ï¼Œæ¢³ç†æˆ‘æ‰€ç†è§£çš„ Merkle Tree åŠå…¶ç”¨é€”ï¼Œæ—¢åŠ æ·±è‡ªå·±çš„ç†è§£ï¼Œåˆè·µè¡Œäº†<a href="https://ramsayleung.github.io/zh/post/2022/feynman_technique/">è´¹æ›¼å­¦ä¹ æ³•</a> <br/></p>
<h2 id="åŒºå—é“¾ä¸äº¤æ˜“"><span class="section-num">2</span> åŒºå—é“¾ä¸äº¤æ˜“</h2>
<p>å…³äºåŒºå—é“¾çš„èµ„æ–™æœ‰éå¸¸å¤šï¼Œæˆ‘ä¹Ÿä¸èµ˜è¿°äº†. <br/></p>
<p>ç®€å•ç†è§£ï¼ŒåŒºå—é“¾æ˜¯ç”±ä¸€ä¸ªä¸€ä¸ªåŒºå—æ„æˆçš„æœ‰åºé“¾è¡¨ï¼Œæ¯ä¸€ä¸ªåŒºå—éƒ½è®°å½•äº†ä¸€ç³»åˆ—äº¤æ˜“ï¼Œå¹¶ä¸”ï¼Œæ¯ä¸ªåŒºå—éƒ½æŒ‡å‘å‰ä¸€ä¸ªåŒºå—ï¼Œä»è€Œå½¢æˆä¸€ä¸ªé“¾æ¡ã€‚åŒºå—é“¾å¬èµ·æ¥å¾ˆé«˜çº§ï¼Œå…¶å®å°±æ˜¯ä¸ªå•é“¾è¡¨ã€‚ <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/blockchain.jpg"/> 
</figure>
 <br/></p>
<p>æ¯ä¸ªåŒºå—éƒ½ä¼šä¿å­˜å¯¹åº”çš„äº¤æ˜“ä¿¡æ¯ï¼Œä¹Ÿä¼šåŒ…å«å…ƒæ•°æ®ä¿¡æ¯åœ¨å¤´éƒ¨ï¼ŒåŒ…æ‹¬å‰ä¸€ä¸ªåŒºå—çš„ hash, åŒ…å«çš„äº¤æ˜“æ•°ï¼Œmerkle tree çš„æ ¹èŠ‚ç‚¹ hash,æ—¶é—´æˆ³ç­‰ä¿¡æ¯. <br/>
<img loading="lazy" src="/ox-hugo/block_detail.jpg" alt=""  />
 <br/></p>
<p>æˆ‘ä»¬æ€»è¯´åŒºå—é“¾æ˜¯ä¸å¯çªœæ”¹ï¼Œé‚£ä¹ˆå®ƒç©¶ç«Ÿæ˜¯æ€ä¹ˆä¸å¯çªœæ”¹çš„? <br/></p>
<p>å¦‚æœç”¨æˆ·æƒ³è¦éªŒè¯æŸä¸ªåŒºå—çš„æŸç¬”äº¤æ˜“æ˜¯å¦è¢«çªœæ”¹ï¼Œä»–è¦æ€ä¹ˆåšï¼Ÿ <br/>
æœ€ç®€å•çš„æ–¹å¼è‡ªç„¶æ˜¯æŠŠæ•´ä¸ªåŒºå—çš„äº¤æ˜“éƒ½ä¸‹è½½ä¸‹æ¥ï¼Œå¹³å‡æ¯ä¸ªåŒºå—æœ‰1Mçš„æ•°æ®ï¼ŒéªŒè¯èµ·æ¥è‚¯å®šå¾ˆè´¹æ—¶é—´. <br/></p>
<p>æ˜¯å¦æœ‰ä¸€ä¸ªéªŒè¯æ–¹æ¡ˆï¼Œå¯ä»¥ä½¿ç”¨å¾ˆå°çš„æ•°æ®é›†å°±å®ŒæˆéªŒè¯? <br/></p>
<p>æœ‰çš„ï¼Œé‚£å°±æ˜¯ Merkle Tree. <br/></p>
<h2 id="merkle-tree"><span class="section-num">3</span> Merkle Tree</h2>
<p>é‚£ä»€ä¹ˆæ˜¯ Merkle Tree? <br/></p>
<p>å‡å¦‚æˆ‘ä»¬æœ‰8ç¬”äº¤æ˜“è¢«åŒ…å«åœ¨åŒºå—ä¸­, æ¯ç¬”äº¤æ˜“éƒ½å¯ä»¥é€šè¿‡ hash å‡½æ•°è®¡ç®—å‡ºä¸€ä¸ª hash å€¼: <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/8transactions.jpg"/> 
</figure>
 <br/></p>
<p>å“ˆå¸Œå€¼ä¹Ÿå¯ä»¥çœ‹åšæ•°æ®ï¼Œæ‰€ä»¥å¯ä»¥æŠŠ <code>h1</code> å’Œ <code>h2</code> æ‹¼èµ·æ¥ï¼Œ <code>h3</code> å’Œ <code>h4</code> æ‹¼èµ·æ¥, ä¾æ­¤ç±»æ¨ï¼Œå†è®¡ç®—å‡ºå“ˆå¸Œå€¼ <code>b1</code> å’Œ <code>b2</code> <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/merkle_tree_layer_two.jpg"/> 
</figure>
 <br/></p>
<p>é€’å½’è®¡ç®—ä¸‹å»ï¼Œç›´åˆ°è®¡ç®—ç»“æœåªæœ‰ä¸€ä¸ª hash å€¼ï¼Œè¿™ä¸ªå°±æ˜¯æ‰€è°“çš„ merkle root, è€Œ h1-h8 å°±æ˜¯æ‰€è°“çš„ <code>leaf node</code>, ä¸¤è€…ä¹‹é—´çš„å°±æ˜¯ <code>non-leaf node</code>. <br/></p>
<p>äº¤æ˜“æ•°é‡æ°å¥½æ˜¯å¶æ•°èƒ½è¿™ä¹ˆç®—ï¼Œå¦‚æœæ˜¯å¥‡æ•°ï¼Œé‚£è¦æ€ä¹ˆç®—å‘¢ï¼Ÿè¿™ä¸ªæ—¶ä¾¯ï¼Œåªéœ€è¦æŠŠæœ€åä¸€ä¸ª hash å€¼å¤åˆ¶ä¸€ä»½ï¼Œä¹Ÿèƒ½ç®—å‡ºæœ€ç»ˆçš„ merkle rootï¼š <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/odd_leaf_merkle_tree.jpg"/> 
</figure>
 <br/></p>
<h2 id="merkle-tree-validation"><span class="section-num">4</span> Merkle tree validation</h2>
<p>ç°åœ¨æœ‰äº† Merkle Tree, å¦‚æœæˆ‘ä»¬è¦éªŒè¯åŒºå—ä¸­çš„äº¤æ˜“æ˜¯å¦è¢«ä¿®æ”¹ï¼Œè¦æ€ä¹ˆç®—å‘¢ï¼Ÿ <br/></p>
<p>æœ€ç®€å•ç²—æš´çš„æ–¹å¼è‚¯å®šæ˜¯æŠŠåŒºå—æ‰€æœ‰çš„äº¤æ˜“ä¸‹è½½ä¸‹æ¥ï¼Œä»å¤´é‡ç»„æ•´æ£µ Merkle Tree, 8ç¬”äº¤æ˜“è®¡ç®—èµ·æ¥è¿˜å¯ä»¥ï¼Œå¦‚æœæ˜¯å‡ åƒç¬”å‘¢ï¼Ÿå‡ ç™¾ä¸‡ç¬”å‘¢ï¼Ÿç”šè‡³å‡ äº¿ç¬”äº¤æ˜“å‘¢ï¼Ÿ <br/></p>
<p>é‡ç»„ Merkle Tree çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N), å¦‚æœæ˜¯1äº¿ç¬”äº¤æ˜“ï¼Œè¿™æ„å‘³ç€ä½ è¦è®¡ç®—1äº¿æ¬¡ï¼Œå¤ªæ…¢äº†ã€‚ <br/></p>
<p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬åˆ©ç”¨ Merkle Tree çš„ç‰¹æ€§ï¼Œä»æ•°å­¦çš„è§’åº¦ï¼Œæˆ‘ä»¬åªéœ€è¦å°‘é‡çš„Merkle Proof(ä½ å¯ä»¥ç†è§£æˆéœ€è¦æä¾›çš„éªŒè¯æ•°æ®é›†), å°±å¯ä»¥å®ŒæˆéªŒè¯. <br/></p>
<p>å›åˆ°ä¸Šæ–‡çš„ Merkle Tree, å‡å¦‚æˆ‘ä»¬è¦éªŒè¯ <code>tx2</code> æ˜¯å¦è¢«çªœæ”¹ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ Merkle Tree Root å’Œ Merkle Proof: <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/merkle_proof.jpg"/> 
</figure>
 <br/></p>
<p>å‡è®¾ç°åœ¨æˆ‘ä»¬æœ‰ <code>tx2</code> çš„äº¤æ˜“æ•°æ®ï¼Œæˆ‘ä»¬åªéœ€è¦ Merkle Proof æä¾›3ä¸ªhash å€¼(å›¾ä¸­çš„ç»¿è‰²éƒ¨åˆ†)ï¼Œç„¶åæˆ‘ä»¬åªè®¡ç®—4æ¬¡ï¼ˆæ©™è‰²éƒ¨åˆ†ï¼‰ï¼Œå°±ä¼šç®—å‡º Merkle Root Tree çš„å€¼ï¼Œç”¨æ¥å’ŒåŒºå—å¤´éƒ¨çš„ Merkle root å€¼è¿›è¡Œæ¯”å¯¹ã€‚ <br/></p>
<p>é€šè¿‡ Merkle Proof æä¾›çš„æ•°æ®é›†ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠä¸‹è½½8ç¬”äº¤æ˜“ï¼Œè®¡ç®—15æ¬¡hashï¼Œä¼˜åŒ–æˆåªéœ€3ä¸ª hash å€¼ï¼Œä»¥åŠè®¡ç®—4æ¬¡hashï¼Œæ—¶é—´å¤æ‚åº¦ä»O(N)é™ä½æˆO(logN). <br/></p>
<p>è¿™ä¸ªæ¯”å¯¹ä¼¼ä¹ä¸æ˜æ˜¾ï¼Œä½†æ˜¯ä»¥1äº¿äº¤æ˜“ä¸ºä¾‹çš„è¯ï¼Œlog(1_000_000_000) ~= 27, ä¹Ÿå°±æ˜¯åªéœ€è¦ Merkle Proof æä¾›27ä¸ª hash å€¼å³å¯, å·¨å¤§çš„æ€§èƒ½æå‡. <br/></p>
<h2 id="åŒºå—é“¾çš„ä¸å¯çªœæ”¹æ€§"><span class="section-num">5</span> åŒºå—é“¾çš„ä¸å¯çªœæ”¹æ€§</h2>
<p>é€šè¿‡Merkle tree rootå¯ä»¥ä¿è¯äº¤æ˜“çš„ä¸å¯çªœæ”¹æ€§ï¼Œè€ŒåŒºå— hash åˆèƒ½ä¿è¯åŒºå—å¤´éƒ¨çš„å…ƒæ•°æ®ä¸è¢«çªœæ”¹. <br/></p>
<p>å› ä¸ºæ¯ä¸ªåŒºå—éƒ½æœ‰åŒºå— hash, åŒºå—hashæ˜¯é€šè¿‡è®¡ç®—å¤´éƒ¨å…ƒæ•°æ®ä¿¡æ¯è®¡ç®—å‡ºæ¥çš„: <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/block_hash.jpg"/> 
</figure>
 <br/></p>
<p>åªè¦ä¿®æ”¹äº†å…¶ä¸­ä¸€ä¸ªå…ƒæ•°æ®å€¼ï¼Œé‚£ä¹ˆ block hash å°±ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè€ŒåŒºå—é“¾å°±æ˜¯ä¸€ä¸ªå•é“¾è¡¨ï¼Œé€šè¿‡åä¸€ä¸ªåŒºå—é€šè¿‡ <code>prev_hash</code> æŒ‡å‘å‰ä¸€ä¸ªåŒºå—ï¼Œå¦‚æœ block hash å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆåä¸€ä¸ªåŒºå—å°±æ— æ³•æ­£ç¡®æŒ‡å‘å‰ä¸€ä¸ªåŒºå—äº†ï¼Œè¿™ä¸ªé“¾å°±æ–­äº†. <br/></p>
<p>å¦‚æœä¸€ä¸ªæ¶æ„çš„æ”»å‡»è€…ä¿®æ”¹äº†ä¸€ä¸ªåŒºå—ä¸­çš„æŸä¸ªäº¤æ˜“ï¼Œé‚£ä¹ˆMerkle HashéªŒè¯å°±ä¸ä¼šé€šè¿‡ã€‚ <br/></p>
<p>æ‰€ä»¥ï¼Œä»–åªèƒ½é‡æ–°è®¡ç®—Merkle Hashï¼Œç„¶åæŠŠåŒºå—å¤´çš„Merkle Hashä¹Ÿä¿®æ”¹äº†ã€‚ <br/></p>
<p>è¿™æ—¶ï¼Œæˆ‘ä»¬å°±ä¼šå‘ç°ï¼Œè¿™ä¸ªåŒºå—æœ¬èº«çš„Block Hashå°±å˜äº†ï¼Œæ‰€ä»¥ï¼Œä¸‹ä¸€ä¸ªåŒºå—æŒ‡å‘å®ƒçš„é“¾æ¥å°±æ–­æ‰äº†, ä»–å°±è¦æŠŠåç»­æ‰€æœ‰åŒºå—å…¨éƒ¨é‡æ–°è®¡ç®—å¹¶ä¸”ä¼ªé€ å‡ºæ¥ï¼Œæ‰èƒ½å¤Ÿä¿®æ”¹æ•´ä¸ªåŒºå—é“¾ï¼› <br/></p>
<p>è€Œè¦ä¿®æ”¹åç»­æ‰€æœ‰åŒºå—ï¼Œè¿™ä¸ªæ”»å‡»è€…å¿…é¡»æŒæ¡å…¨ç½‘51%ä»¥ä¸Šçš„ç®—åŠ›æ‰è¡Œã€‚ <br/></p>
<p>ç†è®ºä¸Šå¯è¡Œï¼Œä½†æ˜¯å®æ“éš¾åº¦éå¸¸éå¸¸éå¸¸å¤§. <br/></p>
<h2 id="merkle-tree-ç‰ˆæœ¬ç®¡ç†ä¸­çš„åº”ç”¨"><span class="section-num">6</span> Merkle Tree ç‰ˆæœ¬ç®¡ç†ä¸­çš„åº”ç”¨</h2>
<p>é™¤å»åŒºå—é“¾ï¼ŒMerkle Treeè¿˜è¢«åº”ç”¨äºç±»ä¼¼ Git å’Œ Mercurial è¿™æ ·çš„ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿä¸­ï¼Œä»¥Gitä¸ºä¾‹, å‡å¦‚æˆ‘ä»¬Gité¡¹ç›®å†…æœ‰4ä¸ªæ–‡ä»¶: <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/git_merkle_tree.jpg"/> 
</figure>
 <br/></p>
<p>å½“ä½ push ä»£ç åˆ°è¿œç¨‹åˆ†æ”¯æˆ–è€…ä»è¿œç¨‹åˆ†æ”¯ pull ä»£ç çš„æ—¶å€™ï¼ŒGitå°±è®¡ç®—ä½ çš„Merkle Tree Root çš„å€¼, æ¯”è¾ƒè¿œç¨‹åˆ†æ”¯çš„Merkle Tree Rootå’Œæœ¬åœ°åˆ†æ”¯çš„Merkle Tree Root æ˜¯å¦ç›¸åŒ: <br/></p>
<p>å¦‚æœç›¸åŒï¼Œé‚£å°±ä¸ç”¨æ›´æ–°äº†ï¼›å¦‚æœä¸åŒçš„è¯å®ƒå°±ä¼šæ£€æŸ¥å·¦èŠ‚ç‚¹æˆ–è€…å³èŠ‚ç‚¹ï¼Œå¹¶ä¸”é€’å½’ä¸‹å»ï¼Œ <br/>
ç›´åˆ°æ‰¾åˆ°æ˜¯å“ªäº›æ–‡ä»¶å‘ç”Ÿäº†ä¿®æ”¹ï¼Œåªé€šè¿‡ç½‘ç»œä¼ è¾“ä¿®æ”¹éƒ¨åˆ†çš„å†…å®¹, ä»¥æé«˜ä¼ è¾“æ•ˆç‡. <br/></p>
<p>ä¸è¿‡Gitå®é™…ç”¨çš„æ˜¯Merkle Treeçš„å˜ä½“ï¼Œå¹¶ä¸æ˜¯ç›´æ¥ä½¿ç”¨Merkle Tree. <br/></p>
<p>é™¤äº›ä¹‹å¤–, Merkle Tree è¿˜åœ¨ Cassandra, DynamoDB è¿™æ ·çš„NoSQLæ•°æ®åº“ä¸­è¢«ç”¨äºæ£€æŸ¥ä¸åŒèŠ‚ç‚¹æ•°æ®çš„ä¸€è‡´æ€§, ç»†èŠ‚å¯ä»¥çœ‹ä¸‹è¿™ä¸ª <a href="https://stackoverflow.com/questions/5486304/explain-merkle-trees-for-use-in-eventual-consistency">Stackoverflow é—®é¢˜</a>ã€‚ <br/></p>
<h2 id="å‚è€ƒ"><span class="section-num">7</span> å‚è€ƒ</h2>
<ul>
<li><a href="https://alexromanov.github.io/2022/06/19/bchain-test-7-merkle-tree/">Blockchain for Test Engineers: Merkle Trees</a> <br/></li>
<li><a href="https://medium.com/geekculture/understanding-merkle-trees-f48732772199">Understanding Merkle Trees</a> <br/></li>
<li><a href="https://stackoverflow.com/questions/5486304/explain-merkle-trees-for-use-in-eventual-consistency">Explain Merkle Trees for use in Eventual Consistency</a> <br/></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>æµ‹è¯•æŠ€èƒ½è¿›é˜¶(ä¸€): è½¯ä»¶è´¨é‡è®¤çŸ¥</title>
      <link>https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%B8%80_%E8%BD%AF%E4%BB%B6%E8%B4%A8%E9%87%8F%E8%AE%A4%E7%9F%A5/</link>
      <pubDate>Sat, 12 Oct 2024 10:30:00 -0700</pubDate>
      <guid>https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%B8%80_%E8%BD%AF%E4%BB%B6%E8%B4%A8%E9%87%8F%E8%AE%A4%E7%9F%A5/</guid>
      <description>1 å‰è¨€ æœ€è¿‘å‡ ä¸ªæœˆéƒ½åœ¨èµ¶ä¸ªéå¸¸é‡è¦é¡¹ç›®ï¼ŒåŸºæœ¬æ¯å¤©æˆ–æ¯å‡ å¤©éƒ½è¦æäº¤CRï¼Œè€Œå› ä¸ºæ¯ä¸ªCRéƒ½è¦é™„ä¸Šå¯¹åº”çš„ test case, æ‰€ä»¥è¿™æ®µæ—¶é—´å†™äº†éå¸¸å¤šçš„ test case, åˆåœ¨åæˆ‘æ—è¾¹</description>
      <content:encoded><![CDATA[<h2 id="å‰è¨€"><span class="section-num">1</span> å‰è¨€</h2>
<p>æœ€è¿‘å‡ ä¸ªæœˆéƒ½åœ¨èµ¶ä¸ªéå¸¸é‡è¦é¡¹ç›®ï¼ŒåŸºæœ¬æ¯å¤©æˆ–æ¯å‡ å¤©éƒ½è¦æäº¤CRï¼Œè€Œå› ä¸ºæ¯ä¸ªCRéƒ½è¦é™„ä¸Šå¯¹åº”çš„ test case, æ‰€ä»¥è¿™æ®µæ—¶é—´å†™äº†éå¸¸å¤šçš„ test case, åˆåœ¨åæˆ‘æ—è¾¹çš„ Principle Engineer å·¨ä½¬èº«ä¸Šå­¦åˆ°äº†å¾ˆå¤šæœ‰ç”¨çš„æµ‹è¯•æŠ€å·§ï¼Œæ‰€ä»¥å°±æƒ³å†™ä¸ªç³»åˆ—æ–‡ç« æ€»ç»“å’Œåˆ†äº«æˆ‘æ‰€å­¦åˆ°çš„æ–°æŠ€èƒ½ã€‚</p>
<h2 id="why"><span class="section-num">2</span> Why</h2>
<p>æœ‰ä¸ªå¾ˆè‘—åçš„æ€è€ƒæ–¹å¼ï¼Œå«é»„é‡‘åœˆæ³•åˆ™, ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å¯¹äºæŸä»¶äº‹æ‰¾åˆ°Whyï¼ŒHowï¼ŒWhatï¼š</p>
<p>æˆ‘ä¸ºä»€ä¹ˆè¦åšï¼Œæˆ‘æ€ä¹ˆåšï¼Œåšè¿™ä»¶äº‹çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>æ‰€ä»¥æˆ‘å°±å…ˆæ¥èŠèŠä¸ºä»€ä¹ˆè¦å†™æµ‹è¯•caseï¼Œæˆ–è€…è¯´ä¸ºä»€ä¹ˆæ˜¯è½¯ä»¶å¼€å‘å†™æµ‹è¯•caseï¼Œåç»­çš„æ–‡ç« å†æ¥èŠèŠHow.</p>
<h2 id="è½¯ä»¶è´¨é‡æ–‡åŒ–"><span class="section-num">3</span> è½¯ä»¶è´¨é‡æ–‡åŒ–</h2>
<p>å…³äºè½¯ä»¶å·¥ç¨‹å¸ˆæ¥å†™æµ‹è¯• case, æœ€æœ‰åçš„åº”è¯¥æ˜¯Googleï¼Œä»–ä»¬å°±æ˜¯æ¨å´‡ç”±è½¯ä»¶å·¥ç¨‹å¸ˆæ¥å†™æµ‹è¯•caseï¼Œè€Œä»–ä»¬çš„æµ‹è¯•æ–‡åŒ–å·²ç»æˆä¸ºè°·æ­Œçš„å·¥ç¨‹æ–‡åŒ–çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p>
<p>Googleçš„å·¥ç¨‹å¸ˆä¹Ÿå‰åå†™äº†ä¸¤æœ¬ä¹¦æ¥å¸ƒé“ä»–ä»¬çš„æµ‹è¯•æ–‡åŒ–/å·¥ç¨‹æ–‡åŒ–, ä¹Ÿéå¸¸æ¨èé˜…è¯»:</p>
<ul>
<li><a href="https://book.douban.com/subject/25742200/">Googleè½¯ä»¶æµ‹è¯•ä¹‹é“</a>Â <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></li>
<li><a href="https://book.douban.com/subject/35838155/">Googleè½¯ä»¶å·¥ç¨‹</a>Â <sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></li>
</ul>
<p>æ¯•ä¸šä»¥åå¾…è¿‡å‡ å®¶å¤§å…¬å¸ï¼Œè¿™å‡ å®¶å…¬å¸çš„æ–‡åŒ–å„æœ‰ä¸åŒï¼Œä½†å°±æˆ‘æ‰€ä¾›èŒè¿‡çš„éƒ¨é—¨è€Œè¨€ï¼Œå¯¹äºæµ‹è¯•ï¼Œä»–ä»¬éƒ½æœ‰ç€ç›¸åŒçš„è§‚ç‚¹ï¼š
ä¸åº”è¯¥ä¹Ÿä¸ä¼šæœ‰æ‰€è°“çš„æµ‹è¯•å·¥ç¨‹å¸ˆï¼Œæ¯ä¸ªè½¯ä»¶å¼€å‘éƒ½åº”è¯¥ä¸ºè‡ªå·±çš„ä»£ç ç¼–å†™æµ‹è¯•ï¼Œå¹¶ä¿è¯è´¨é‡.</p>
<p>å…¶ä¸­å¾®ä¿¡æ”¯ä»˜åŸºæœ¬å°±æ˜¯åœ¨è·µè¡Œã€ŠGoogleè½¯ä»¶æµ‹è¯•ä¹‹é“ã€‹çš„ç†å¿µï¼Œæ¨å¹¿å¾®ä¿¡æ”¯ä»˜è‡ªå·±çš„æµ‹è¯•æ–‡åŒ–ï¼Œå¼ºè°ƒæµ‹è¯•å·¦ç§°ï¼Œé¢å‘æµ‹è¯•è®¾è®¡ç­‰ç­‰ã€‚</p>
<p>Amazon å†…éƒ¨çš„æµ‹è¯•æ–‡åŒ–ä¹Ÿæ˜¯å’ŒGoogle ç›¸å½“ç±»ä¼¼ï¼Œåªæ˜¯è¿œæ²¡æœ‰Googleå‡ºå.</p>
<p>ä¸çŸ¥é“æ˜¯å› ä¸ºAmazonçš„æµ‹è¯•æ–‡åŒ–æ˜¯å—Googleæ‰€å½±å“, è®²ç©¶å…ˆæ¥ååˆ°, ä¸»å®¢åˆ†æ˜; è¿˜æ˜¯Amazonçš„å¼€æºé¡¹ç›®æˆ–è€…æŠ€æœ¯å½±å“åŠ›æ²¡æœ‰Googleé«˜ï¼Œå¯¼è‡´Amazon å·¥ç¨‹æ–‡åŒ–æ²¡æœ‰Googleå‡ºåï¼Œåˆæˆ–æ˜¯å› ä¸ºAmazonå·¥ç¨‹å¸ˆåœ¨è¡€æ±—å·¥å‚æ‰“å·¥ï¼Œå¿™ç€èµ¶éœ€æ±‚ï¼Œæ²¡æœ‰æ—¶é—´å†™ä¹¦å¸ƒé“, æ‰€ä»¥ä¸ä¸ºäººæ‰€çŸ¥å‘¢.</p>
<p>è¿™ç§æ–‡åŒ–èƒŒåï¼Œæ˜¯å¯¹è½¯ä»¶å¼€å‘ä¸è´¨é‡æµ‹è¯•å¯†ä¸å¯åˆ†çš„è®¤çŸ¥ï¼š</p>
<h3 id="èŒè´£"><span class="section-num">3.1</span> èŒè´£</h3>
<p>é¦–å…ˆï¼Œæ¯ä¸ªå·¥ç¨‹å¸ˆï¼Œéƒ½åº”è¯¥ä¸ºä»–ä»¬çš„ä»£ç ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œ
è¿™ä¸ªå·¥ä½œæœ¬èº«å°±æ˜¯ç ”å‘æµç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œè€Œè´¨é‡ä¿éšœåˆæ˜¯è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸéå¸¸å…³é”®çš„ä¸€æ­¥ï¼Œ
å¦‚æœå†™å‡ºæ¥çš„åŠŸèƒ½å……æ»¡é—®é¢˜ï¼Œè¿™æ ·çš„åŠŸèƒ½å†å¤šï¼Œå¼€å‘å¾—å†å¿«åˆæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ã€‚</p>
<h3 id="ci-cd"><span class="section-num">3.2</span> CI/CD</h3>
<p>æ‰€ä»¥æˆ‘ç°åœ¨æ‰€åœ¨S3éƒ¨é—¨è€Œè¨€ï¼Œè¦æ±‚æ¯ä¸ªCRéƒ½è¦æœ‰å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹æ¥ä¿è¯CRä»£ç çš„è´¨é‡ï¼Œå› ä¸ºä»£ç åˆå¹¶åˆ°ä¸»å¹²ä¹‹åï¼Œ
å°±ä¼šè¢« Continuous Deployment è‡ªåŠ¨éƒ¨ç½²ä¸Šçº¿ï¼Œæ‰€ä»¥è¦æ±‚æ¯ä¸ªæåˆ°çš„CRéƒ½æ˜¯ production-readyçš„</p>
<p>è½¯ä»¶å·¥ç¨‹å¸ˆè‡ªå·±ç¼–å†™æµ‹è¯•é…åˆCI/CDå°±å¯ä»¥æ›´æ—©æ›´å¿«åœ°å‘ç°é—®é¢˜ï¼Œå¹¶ä¸”ç”±è½¯ä»¶å·¥ç¨‹å¸ˆå¿«é€Ÿå®Œæˆä¿®å¤, é™ä½åé¦ˆå‘¨æœŸ, æé«˜å¼€å‘æ•ˆç‡.</p>
<h3 id="æˆæœ¬"><span class="section-num">3.3</span> æˆæœ¬</h3>
<p>å…¶æ¬¡ï¼Œæ²Ÿé€šæ˜¯æœ‰æˆæœ¬çš„ï¼Œå¦‚æœå­˜åœ¨æµ‹è¯•å·¥ç¨‹å¸ˆï¼Œè½¯ä»¶å·¥ç¨‹å¸ˆå°±è¦ç»™æµ‹è¯•å·¥ç¨‹å¸ˆäº¤å¾…æ¸…æ¥šä¸šåŠ¡åŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Œ
è¿™æ¬¡çš„æ”¹åŠ¨è¦æµ‹ä»€ä¹ˆåŠŸèƒ½ï¼Œé¢„æœŸç»“æœæ˜¯ä»€ä¹ˆï¼Œæ²Ÿé€šæˆæœ¬å°±ç›¸å½“é«˜ï¼Œä½ å¯èƒ½è¿˜éœ€è¦é€šè¿‡æ–‡æ¡£æˆ–è€…å·¥å•å°†æµ‹è¯•å†…å®¹å‘ˆç°ç»™æµ‹è¯•å·¥ç¨‹å¸ˆã€‚</p>
<p>å¦‚æœè½¯ä»¶å·¥ç¨‹å¸ˆéƒ½èƒ½æŠŠè¿™äº›ä¸œè¥¿è§£é‡Šæ¸…æ¥šï¼Œé‚£ä¸ºä»€ä¹ˆä¸è‡ªå·±æŠŠæµ‹è¯•ç”¨ä¾‹å†™å®Œå‘¢, ä½•å¿…åŠ³å¿ƒåŠ³åŠ›å»å†™å·¥å•å‘¢ï¼Ÿ</p>
<h3 id="é¢å‘æµ‹è¯•è®¾è®¡"><span class="section-num">3.4</span> é¢å‘æµ‹è¯•è®¾è®¡</h3>
<p>è™½ç„¶Test-Driven Development(TDD)çš„å¼€å‘ç†å¿µä¸ä¸€å®šæ‰€æœ‰äººéƒ½è®¤åŒ, ä½†æ˜¯è®©è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆæ¥ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œèƒ½è®©è½¯ä»¶å·¥ç¨‹å¸ˆæœ‰æµ‹è¯•å…ˆè¡Œï¼Œè®¾è®¡æµ‹è¯•å‹å¥½æ¥å£çš„è®¤çŸ¥, åè¿‡æ¥åˆä¼šå¯¹å…¶æ¥å£è®¾è®¡èƒ½åŠ›æœ‰æ–°çš„è¦æ±‚.</p>
<h3 id="æ•æ·å¼€å‘"><span class="section-num">3.5</span> æ•æ·å¼€å‘</h3>
<p>æ€»ç»“ä¸‹æ¥ï¼Œè®©è½¯ä»¶å·¥ç¨‹å¸ˆå¯¹è´¨é‡è´Ÿè´£ï¼Œè‡ªå·±ç¼–å†™æµ‹è¯•ç”¨ä¾‹, æ˜¯ç¡®ä¿å›¢é˜Ÿèƒ½æ•æ·å¼€å‘(move fast), åˆèƒ½ç¡®ä¿è½¯ä»¶è´¨é‡çš„å…³é”®æ‰‹æ®µ</p>
<h2 id="æ€»ç»“"><span class="section-num">4</span> æ€»ç»“</h2>
<p>æ¯ä¸ªäººå¯¹äºæµ‹è¯•æŠ€å·§çš„è®¤çŸ¥å¹¶ä¸ä¸€æ ·ï¼Œåƒå•å…ƒæµ‹è¯•ï¼Œé›†æˆæµ‹è¯•è¿™ç±»æµ‹è¯•ï¼Œ
åœ¨æˆ‘ä¸ªäººè®¤çŸ¥é‡Œï¼Œæ˜¯å±äºæ¯ä¸ªè½¯ä»¶å·¥ç¨‹å¸ˆéƒ½éœ€è¦æŒæ¡çš„åŸºç¡€æŠ€èƒ½ï¼Œå°±ä¸åœ¨ã€Œè¿›é˜¶ã€ä¹‹åˆ—ã€‚</p>
<p>è€Œåƒæ··æ²Œæµ‹è¯•(Chaos Monkey) è¿™æ ·çš„æµ‹è¯•, è‡ªç„¶å±äºè¿›é˜¶æµ‹è¯•çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯å› ä¸ºå…¶ä¸å…¬å¸çš„åŸºç¡€æ¶æ„å¼ºè€¦åˆ;</p>
<p>åœ¨å¾®ä¿¡æ”¯ä»˜çš„æ—¶å€™ï¼ŒåŒç»„çš„ä¸€ä½åŒäº‹å°±ä¸“é¡¹è´Ÿè´£å…ˆé©±ææ•´ä¸ªå¾®ä¿¡æ”¯ä»˜çš„æ··æ²Œæµ‹è¯•ï¼Œ
å‰åæäº†1å¹´åŠè¿˜åœ¨å¼€å‘ï¼Œéƒ½æ˜¯å’Œè¿ç»´å›¢é˜Ÿä»¥åŠåŸºç¡€ç»„ä»¶å›¢é˜Ÿå¯†åˆ‡åˆä½œæ¥å¼€å‘æ··æ²Œæµ‹è¯•åŠŸèƒ½çš„ï¼Œ
æ— æ³•ç”¨ç¤ºä¾‹ä»£ç æ¥ç›´è§‚å‘ˆç°ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šåˆ—å…¥è¿™ä¸ªç³»åˆ—ã€‚</p>
<p>è¿™ç³»åˆ—æ–‡ç« æ›´ä¸“æ³¨äºæ—¥å¸¸å¼€å‘ä¸­ï¼Œæ¯ä¸ªè½¯ä»¶å·¥ç¨‹å¸ˆéƒ½æœ‰æœºä¼šç”¨ä¸Šçš„æµ‹è¯•æŠ€å·§.</p>
<p>ç³»åˆ—æ–‡ç« :</p>
<ul>
<li><a href="https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%B8%80_%E8%BD%AF%E4%BB%B6%E8%B4%A8%E9%87%8F%E8%AE%A4%E7%9F%A5/">æµ‹è¯•æŠ€èƒ½è¿›é˜¶(ä¸€): è½¯ä»¶è´¨é‡è®¤çŸ¥</a></li>
<li><a href="https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%BA%8C_parameterized_tests/">æµ‹è¯•æŠ€èƒ½è¿›é˜¶(äºŒ): Parameterized Tests</a></li>
<li><a href="https://ramsayleung.github.io/zh/post/2024/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E4%B8%89_property_based_testing/">æµ‹è¯•æŠ€èƒ½è¿›é˜¶(ä¸‰): Property Based Testing</a></li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://book.douban.com/subject/25742200/">https://book.douban.com/subject/25742200/</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p><a href="https://book.douban.com/subject/35838155/">https://book.douban.com/subject/35838155/</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
]]></content:encoded>
    </item>
    <item>
      <title>æ‚¼å¿µæˆ‘å®¶çš„ç‹—</title>
      <link>https://ramsayleung.github.io/zh/post/2024/%E6%82%BC%E5%BF%B5%E6%88%91%E5%AE%B6%E7%9A%84%E7%8B%97/</link>
      <pubDate>Wed, 02 Oct 2024 11:54:00 -0700</pubDate>
      <guid>https://ramsayleung.github.io/zh/post/2024/%E6%82%BC%E5%BF%B5%E6%88%91%E5%AE%B6%E7%9A%84%E7%8B%97/</guid>
      <description>1 ç¼˜èµ· è€å®¶æ˜¯åœ¨å¹¿ä¸œå†œæ‘ï¼Œç°åœ¨è¿˜ä¼šæœ‰å…»ç‹—çœ‹å®¶æŠ¤é™¢çš„ä¹ ä¿—ï¼Œè™½ç„¶çœ‹å®¶çš„ä½œç”¨æœ‰å¤šå¤§å°šä¸”æœªçŸ¥ï¼Œä½†æ˜¯ç»ˆå½’æ˜¯èŠèƒœäºæ— ï¼ŒåŠæ˜¯æŠ¤é™¢ï¼ŒåŠæ˜¯é™ªä¼´ã€‚ ä¸€èˆ¬æ˜¯æœ‰å…¶ä»–å…»ç‹—</description>
      <content:encoded><![CDATA[<h2 id="ç¼˜èµ·"><span class="section-num">1</span> ç¼˜èµ·</h2>
<p>è€å®¶æ˜¯åœ¨å¹¿ä¸œå†œæ‘ï¼Œç°åœ¨è¿˜ä¼šæœ‰å…»ç‹—çœ‹å®¶æŠ¤é™¢çš„ä¹ ä¿—ï¼Œè™½ç„¶çœ‹å®¶çš„ä½œç”¨æœ‰å¤šå¤§å°šä¸”æœªçŸ¥ï¼Œä½†æ˜¯ç»ˆå½’æ˜¯èŠèƒœäºæ— ï¼ŒåŠæ˜¯æŠ¤é™¢ï¼ŒåŠæ˜¯é™ªä¼´ã€‚ <br/></p>
<p>ä¸€èˆ¬æ˜¯æœ‰å…¶ä»–å…»ç‹—äººå®¶çš„ç‹—äº§å´½ä¹‹åï¼Œç„¶åæ‹¿å›æ¥å®¶é‡Œå¼€å§‹å…»ï¼Œæ‰€ä»¥å…»çš„è‡ªç„¶æ˜¯ä¸ä¼šæ˜¯å® ç‰©ç‹—ï¼Œæ˜¯æ‰€è°“çš„åœŸç‹—ï¼Œæˆç§°ä¸ºã€Œç”°å›­çŠ¬ã€. <br/></p>
<p>ä¹Ÿä¸ä¼šæœ‰ä¸“é—¨çš„ç‹—ç²®ï¼Œè€Œæ˜¯ç»™å®ƒä»¬å–‚ç±³ç²®ï¼Œæˆ–æ˜¯å’Œäººåƒä¸€æ ·çš„ç±³é¥­ï¼Œæˆ–æ˜¯ä¸“é—¨å»ä¹°ç¨æ¬¡ä¸€äº›çš„ç±³ï¼Œç…®ç»™å®ƒä»¬åƒã€‚ <br/></p>
<h2 id="ç»è¿‡"><span class="section-num">2</span> ç»è¿‡</h2>
<p>æ˜¨å¤©å’Œå¦ˆå¦ˆè§†é¢‘èŠå¤©ï¼Œé—²è°ˆé—´å°±èŠåˆ°äº†æˆ‘å®¶çš„ç‹—å­ï¼Œå¦ˆå¦ˆè¯´ç°åœ¨ä¸ç”¨ç…®å¤šå°‘ç±³ç»™å®ƒä»¬åƒäº†ï¼Œæˆ‘é—®ä¸ºä»€ä¹ˆ? <br/></p>
<p>æ¯•ç«Ÿæˆ‘è®°å¾—å®¶é‡Œä¸€åªç‹—ä¸€é¡¿éƒ½å·®ä¸å¤šè¦åƒåŠæ–¤ç±³é¥­. <br/></p>
<p>å¦ˆå¦ˆè¯´ï¼Œæœ‰ä¸¤åªç‹—è¢«äººå·ç‹—ä¸æˆï¼Œè¢«æ¯’æ­»äº†, ä¸€åªæ˜¯ä¸åˆ°ä¸€å¹´å¤§çš„ç‹—ï¼Œå¦å¤–ä¸€åªæ˜¯å…»äº†å¥½å¤šå¹´çš„ç™½è‰²æ¯ç‹—. <br/></p>
<p>åœ¨å‡Œæ™¨æ—¶æ®µï¼Œå·ç‹—è´¼æ¥æˆ‘å®¶é™„è¿‘å·ç‹—, ç‹—å£°å¤§ä½œï¼Œæˆ‘çˆ¸å‡ºå»æŸ¥çœ‹ï¼Œç¯å…‰å’Œå£°éŸ³å“èµ°äº†è´¼äºº, ä»–æ²¡æ¥å¾—åŠå¸¦èµ°ç‹—. <br/></p>
<p>æˆ‘çˆ¸å‰å»æŸ¥çœ‹ç‹—çš„çŠ¶å†µï¼Œæ¯ç‹—å¾ˆå¿«å°±ç˜«è½¯åœ¨åœ°ï¼Œä¸ä¸€ä¼šå°±ç”Ÿæœºå…¨æ— äº†; å¦å¤–ä¸€åªç‹—ä¸è§è¸ªå½±ï¼Œæˆ‘å¦ˆä¸€ç›´åœ¨å¯»è§…ï¼Œå‡ å¤©å, å¯¹ç‹—ä»æŠ±æœ‰å¸Œæœ›çš„æˆ‘å¦ˆåœ¨é™„è¿‘æ‰¾åˆ°äº†å°¸ä½“. <br/></p>
<h2 id="å°è®°"><span class="section-num">3</span> å°è®°</h2>
<h3 id="è´ªåƒ"><span class="section-num">3.1</span> è´ªåƒ</h3>
<p>å¸¸å¹´ç¦»å®¶çš„æˆ‘å¯¹é‚£åªä¸€å¹´å¤§çš„ç‹—ï¼Œè„‘æµ·æ²¡æœ‰ç•™ä¸‹å¤ªå¤šå°è±¡, æ²¡æœ‰è¿‡å¤ªå¤šäº¤é›†ï¼Œè€Œå¦å¤–ä¸€åªç™½è‰²æ¯ç‹—ï¼Œ <br/>
æˆ‘å·²ç»è®°ä¸æ¸…å…»äº†å¤šä¹…å¹´ï¼Œå¤§æ¦‚æ˜¯æˆ‘å¤§å­¦æ—¶æœŸå°±å·²ç»åœ¨æˆ‘å®¶äº†ï¼Œå®ƒç»™æˆ‘ç•™ä¸‹æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯è´ªåƒã€‚ <br/></p>
<p>å†œæ‘çš„åœŸç‹—éƒ½è´ªåƒå˜›ï¼Œå› ä¸ºæ€»æ˜¯åƒä¸é¥±ï¼Œè¿™æœ‰ä»€ä¹ˆæ–°å¥‡çš„? <br/></p>
<p>ä¸è¿‡æˆ‘å®¶çš„ç‹—ä¸€èˆ¬éƒ½æœ‰ä¸€æ—¥ä¸¤é¤ï¼Œæˆ‘å¦ˆæœ‰æ—¶å€™è¿˜ä¼šæŠŠå»æ‘å®´æ‰“åŒ…å›æ¥çš„é¥­èœç»™å®ƒä»¬åƒï¼Œæ‰€ä»¥æˆ‘å®¶çš„ç‹—ç»ˆç©¶è¿˜æ˜¯èƒ½è½ä¸ªé¥±è…¹çš„, å¦ˆå¦ˆç”šè‡³æœ‰æ—¶ä¼šè´£æ€ªå®ƒä»¬åƒè…»äº†ï¼Œç»™å®ƒä»¬ç±³é¥­éƒ½ä¸åƒäº†ã€‚ <br/></p>
<p>è€Œè¿™ç™½è‰²çš„æ¯ç‹—è´ªåƒçš„æœ€å¤§ç‰¹ç‚¹å°±æ˜¯çˆ±åƒé›¶é£Ÿï¼Œå°¤å…¶å–œæ¬¢åƒç”œé£Ÿï¼Œå¬èµ·æ¥æœ‰ç‚¹éš¾è€Œç½®ä¿¡ï¼Œä¸€åªç‹—ä¼šå–œæ¬¢åƒç”œé£Ÿ. <br/></p>
<p>ä½†æ˜¯äº‹å®çš„ç¡®å¦‚æ­¤, æ— è®ºé›¶é£Ÿè¿˜æ˜¯æ°´æœï¼Œå®ƒéƒ½å–œæ¬¢ã€‚ <br/></p>
<p>å±‹å­æ—è¾¹æœ‰æ£µåå‡ å¹´æ ‘é¾„çš„é¾™çœ¼æ ‘ï¼Œå‰äº›å¹´æ”¶æˆå¥½çš„æ—¶å€™ï¼Œæ ‘ä¸Šéƒ½æŒ‚æ»¡é¾™çœ¼ï¼Œæ ¸å°è‚‰å®è¿˜å¾ˆç”˜ç”œï¼Œç”šè‡³å“è´¨æ¯”æ°´æœæ‘Šçš„è¿˜è¦å¥½. <br/></p>
<p>å®¶äººå¤å¤©æ”¶è·é¾™çœ¼çš„æ—¶å€™ï¼Œæœ‰æ—¶æœ‹å‹ä¹Ÿä¼šè¿‡æ¥ï¼Œå¤§å®¶å°±ååœ¨å±‹æ—å›´åç€åƒåˆšæ‘˜ä¸‹æ¥çš„é¾™çœ¼ï¼Œ <br/>
å®ƒä¹Ÿå–œæ¬¢è¿‡æ¥æ¹Šçƒ­é—¹ï¼Œå®¶äººå°±ä¼šå¼€ç©ç¬‘åœ°å¸®å¿™æŠŠå£³å‰¥äº†ï¼ŒæŠŠæœè‚‰æ”¾åœ¨åœ°ä¸Šï¼Œå®ƒç©¶ç«Ÿå°±ä¸Šæ¥åƒï¼Œè¿˜çŸ¥é“æŠŠæ ¸åå‡ºæ¥, å¤§å®¶æ‰å¼€å§‹çŸ¥é“å®ƒçœŸçš„åƒæ°´æœã€‚ <br/></p>
<p>å®ƒç”šè‡³è¿˜çŸ¥é“æ€ä¹ˆåƒå°å—ç”˜è”—, æŠŠæ±æ°´åœ¨å˜´é‡Œå®å¸å®Œä¹‹åï¼Œè¿˜ä¼šæŠŠæ¸£åå‡ºæ¥ã€‚ <br/></p>
<p>ä»¥å‰åœ¨æ·±åœ³æ‰“å·¥çš„æ—¶å€™ï¼Œå¦ˆå¦ˆå’Œæˆ‘èŠå¤©çš„æ—¶å€™è¿˜ä¼šèŠåˆ°è¿™åªè´ªåƒçš„ç‹—ï¼Œè¯´å®ƒåˆå‡‘è¿‡æ¥æƒ³è¦åƒçš„. <br/></p>
<p>ç”µè¯é‚£å¤´çš„æˆ‘è‡ªç„¶æ˜¯ä¸ä¿¡çš„, åªä¼šè§‰å¾—è¿™æ˜¯å¦ˆå¦ˆå’Œæˆ‘èŠå¤©çš„è°ˆèµ„. <br/></p>
<h3 id="é¥¼å¹²"><span class="section-num">3.2</span> é¥¼å¹²</h3>
<p>æˆ‘å®¶è¿™è¾¹çš„åƒå¸­ä¹ ä¿—ï¼Œæ¯”å¦‚çº¢ç™½äº‹æˆ–è€…æ˜¯ç”Ÿæ—¥å®´ï¼Œå®¢äººå¸¦äº›é¥¼å¹²æ°´æœä½œä¸ºè´ºç¤¼ï¼Œ <br/>
ä¸»äººå®¶ä¸€èˆ¬ä¼šæŠŠæ•£å¸­å‰ç»™å®¢äººäººæ‰‹ä¸€è¢‹ç¤¼å“ä½œä¸ºå›ç¤¼ï¼Œé‡Œé¢åŸºæœ¬ä¼šæœ‰é¥¼å¹², åšæœ, èŠ±ç”Ÿ. <br/></p>
<p>å› ä¸ºæˆ‘çˆ¸äººç¼˜æ¯”è¾ƒå¥½ï¼Œæ€»ä¼šæœ‰æœ‹å‹é‚€è¯·ä»–å‚åŠ æ‘å®´ï¼Œæ‰€ä»¥ä»–æ€»èƒ½å¸¦äº›å›ç¤¼å›å®¶ï¼Œè¢«å¦ˆå¦ˆæ”¾åœ¨è“ç½æ›²å¥‡çš„é“çš®ç›’å­. <br/>
åªæ˜¯ä»–ä»¬éƒ½ä¸æ˜¯å¾ˆå–œæ¬¢åƒè¿™äº›é›¶é£Ÿï¼Œè¿™äº›é¥¼å¹²å°±åœ¨æ•å¼€çš„æ›²å¥‡ç›’å­æ”¾ç€ï¼Œé™é™åœ°åœ¨èŒ¶æ¡Œä¸Šèººç€ã€‚ <br/></p>
<p>å½“æˆ‘å›å®¶ï¼Œç™¾æ— èŠèµ–çš„æ—¶å€™ï¼Œå°±ä¼šæ‹¿èµ·ä¸€ä¸¤åŒ…ç›’ä¸­çš„é¥¼å¹²ï¼Œå°±ç€ç”µè§†ä¸­æ’­ç€çš„æŠ—æ—¥ç¥å‰§ï¼Œæ¶ˆç£¨ç€é—²æš‡çš„æ—¶å…‰. <br/></p>
<p>ç™½è‰²çš„æ¯ç‹—å®ƒå°±ä¼šæ¹Šè¿‡, ä¹Ÿä¸å«ï¼Œä¹Ÿä¸é—¹ï¼Œä¹Ÿä¸ä¼šåƒå® ç‰©ç‹—é‚£æ ·æŠŠçˆªå­æ­åˆ°æˆ‘èº«ä¸Šï¼Œ <br/>
åªæ˜¯ç”¨å®ƒçš„å¤§çœ¼ç›é™é™åœ°çœ‹ç€æˆ‘ï¼Œæˆ‘è¢«å®ƒçœ‹å¾—æœ‰ç‚¹ä¸å¥½æ„æ€ï¼Œæƒ³èµ·å¦ˆå¦ˆç»™æˆ‘è¯´èµ·è¿‡çš„ï¼Œå…³äºå®ƒè´ªåƒçš„äº‹ï¼Œå¯»æ€ç€å®ƒä¸ä¼šä¹Ÿæƒ³åƒé¥¼å¹²å˜›ï¼Ÿ <br/></p>
<p>æˆ‘è¯•æ¢ç€æŠŠä¸€å—é¥¼å¹²æŠ½å‡ºæ¥ï¼Œæ”¾åœ¨åœ°ä¸Šï¼Œå®ƒèµ°è¿‡å»ï¼Œæœç€é¥¼å¹²ä½ä¸‹å¤´, å—…äº†å—…ï¼ŒåˆæŠ¬å¤´çœ‹äº†ä¸‹æ­£åœ¨åƒé¥¼å¹²çš„æˆ‘ï¼Œç„¶åæˆ‘çœ‹å®ƒæŠŠé¥¼å¹²å¼åˆ°ä¸€è¾¹ï¼Œå¼ç€é¥¼å¹²æ—¶, å°±æŠ¬èµ·å¤´æŠŠé¥¼å¹²å‘å˜´é‡Œé€. <br/></p>
<p>åŸæ¥å¦ˆå¦ˆè¯´å¾—æ˜¯çœŸçš„ï¼Œå®ƒæ˜¯çœŸçš„è´ªåƒ. <br/></p>
<h3 id="èŠ±ç”Ÿ"><span class="section-num">3.3</span> èŠ±ç”Ÿ</h3>
<p>æˆ‘å¾ˆå–œæ¬¢åƒèŠ±ç”Ÿï¼Œå°¤å…¶æ˜¯å†œå®¶çš„ç›æ°´èŠ±ç”Ÿï¼Œå°±ç€ç”µè§†å‰§æˆ–è€…è§†é¢‘ï¼Œå¯ä»¥ä¸€ä¸¤ä¸ªå°æ—¶ä¸åœå˜´ã€‚ <br/></p>
<p>å¦ˆå¦ˆçŸ¥é“æˆ‘æœ‰è¿™ä¹ˆä¸ªå°å—œå¥½ï¼Œå°±ä¼šå»å¸‚åœºä¸Šä¹°äº›èŠ±ç”Ÿå›æ¥ï¼Œåªç”¨ç›æ°´ç…®ç†Ÿï¼Œä¸åŠ å…¶ä»–é¦™æ–™ï¼Œ ç„¶åæ™’å¹²ï¼Œç­‰æˆ‘å›å®¶çš„æ—¶å€™å¯ä»¥åƒï¼Œæˆ–è€…åœ¨æˆ‘å›æ·±åœ³æ—¶ï¼Œè®©æˆ‘è£…ä¸€å¤§åŒ…å¸¦å›å»ã€‚ <br/></p>
<p>æœ‰ä¸€æ¬¡åœ¨å®¶ï¼Œæˆ‘ç…§ä¾‹åœ¨æ¡Œä¸Šå‰¥ç€èŠ±ç”Ÿåƒï¼Œç„¶åå®ƒåˆèµ°è¿‡æ¥ï¼Œçœ‹ç€æˆ‘ï¼Œæˆ‘åœ¨æƒ³ï¼ŒèŠ±ç”Ÿä½ ä¹Ÿåƒä¹ˆï¼Ÿ <br/></p>
<p>å°±æŠŠä¸€æšèŠ±ç”Ÿå‰¥å¼€ï¼Œé‡Œé¢æœ‰ä¸¤ç²’ä»ï¼Œæˆ‘åƒäº†ä¸€ç²’ï¼Œç„¶åæŠŠå¦å¤–ä¸€ç²’æ”¾åœ¨å‡³å­ä¸Šï¼Œå®ƒèµ°è¿‡æ¥, æŠŠå¤´ä¾§è½¬, è´´ç€å‡³å­ï¼Œä¼¸å‡ºèˆŒå¤´ä¸€å·ï¼Œå°±æŠŠèŠ±ç”Ÿå·èµ°äº†. <br/></p>
<p>ä»æ­¤ä¹‹åï¼Œæˆ‘åƒèŠ±ç”Ÿæ€»æ˜¯å–Šä¸Šå®ƒï¼Œæˆ‘æ¥å‰¥èŠ±ç”Ÿï¼Œæˆ‘å’Œå®ƒä¸€èµ·åƒï¼›æœ‰ä¸€ç²’èŠ±ç”Ÿä»ï¼Œæˆ‘è‡ªå·±åƒï¼›æœ‰ä¸¤ç²’èŠ±ç”Ÿä»ï¼Œæˆ‘å’Œå®ƒä¸€äººä¸€ç²’; æœ‰ä¸‰ç²’ä»ï¼Œæˆ‘åƒä¸¤ä¸ªç²’, å®ƒåƒä¸€ç²’ï¼Œæ¯•ç«Ÿæˆ‘åŠ¨æ‰‹å‰¥èŠ±ç”Ÿäº†. <br/></p>
<p>åé¢å‘ç°ï¼Œå®ƒä¸ä½†åƒèŠ±ç”Ÿï¼Œè¿æœˆé¥¼ä¹Ÿåƒï¼Œå»å¹´ä¸­ç§‹çš„æ—¶å€™ï¼Œå®¶äººåˆ†é£Ÿæœˆé¥¼æ—¶ï¼Œä¹Ÿç»™äº†å®ƒä¸€å°å—. <br/></p>
<p>å½“ä½ åƒä¸œè¥¿ï¼Œå®ƒä¹Ÿæƒ³åƒçš„æ—¶å€™, å®ƒä¸ä¼šåµï¼Œä¹Ÿä¸ä¼šé—¹ï¼Œå°±æ˜¯é™é™åœ°çœ‹ç€ä½ ; <br/></p>
<p>è€Œå½“ä½ ä¸œè¥¿åƒå®Œï¼Œå¼€å§‹æ”¶æ‹¾æ—¶ï¼Œè·Ÿå®ƒè¯´ï¼Œæ²¡æœ‰äº†ï¼Œåƒå®Œå•¦ã€‚ <br/></p>
<p>å®ƒä¹Ÿä¸ä¼šç¼ ç€ä½ ä¸èµ°, æœŸæœ›ç´¢æ±‚æ›´å¤šï¼Œè€Œæ˜¯ä¼šé™é™åœ°èµ°å¼€ã€‚ <br/></p>
<p>æ‰€ä»¥æˆ‘æœ‰æ—¶å€™çœ‹åˆ°å®ƒï¼Œæˆ‘ä¼šåœ¨æƒ³ï¼Œæˆ‘ä¸çŸ¥é“æˆ‘äººç”Ÿè¿½æ±‚çš„æ˜¯ä»€ä¹ˆï¼Œä½†æ˜¯å®ƒè‚¯å®šæ˜¯è¿½æ±‚å¥½åƒçš„, å’Œå»ç å¤´æ•´ç‚¹è–¯æ¡çš„æµ·é¸¥æ˜¯ä¸€æ ·çš„ï¼Œç®€å•åˆå®¹æ˜“æ»¡è¶³ã€‚ <br/></p>
<h2 id="ç°å®"><span class="section-num">4</span> ç°å®</h2>
<p>å®ƒè™½ç„¶è´ªåƒï¼Œä½†æ˜¯ä¹Ÿéå¸¸è°¨æ…ï¼Œå¹¶ä¸æ˜¯è°ç»™çš„ä¸œè¥¿éƒ½åƒï¼Œæˆ‘å§å§ç»™å®ƒçš„é£Ÿç‰©ï¼Œå®ƒå°±åŸºæœ¬ä¸åƒï¼Œå¯èƒ½æ˜¯æˆ‘å§å§æ›¾ç»å‘µæ–¥è¿‡å®ƒ. <br/></p>
<p>å³ä½¿æˆ‘ç»™å®ƒä¸œè¥¿åƒï¼Œå®ƒä¹Ÿè¦è§æˆ‘åƒè¿‡ï¼Œå®ƒæ‰ä¼šä¸‹å˜´. <br/></p>
<p>è°¨æ…å¦‚å®ƒï¼Œé™Œç”Ÿäººç»™çš„ä¸œè¥¿ï¼Œå®ƒè‡ªç„¶æ˜¯ä¸ä¼šåƒçš„. <br/></p>
<p>è‡ªæˆ‘æœ‰è®°å¿†èµ·ï¼Œå®¶é‡Œå°±ä¸€ç›´æœ‰å…»ç‹—ï¼ŒæŒ¥ä¹‹ä¸å»çš„å°±æ˜¯è§Šè§å°†ç‹—æ¢æˆé’±è´¢çš„å·ç‹—è´¼. <br/></p>
<p>ä¹‹å‰å·ç‹—çš„æ–¹å¼å¤§æ¦‚æ˜¯ä¸¤ç§ï¼Œä¸€ç§æ˜¯å¼ºè¡Œè™èµ°, ä¸€èˆ¬ä¸¤äººä½œæ¡ˆï¼Œä¸€äººé©¾è½¦ï¼Œä¸€äººåœ¨ååº§å¸¦æœ‰ç»³å¥—ï¼Œå½“ç‹—é è¿‘å å«æ—¶ï¼Œååº§ä¹‹äººå°†ç»³ç´¢å¥—åœ¨ç‹—ä¸Šï¼Œå¦ä¸€äººå¿«é€Ÿé©¾è½¦é€ƒç¦», ä½†å¦‚æœç‹—ä¸é è¿‘å°±éš¾ä»¥æˆè¡Œ. <br/></p>
<p>å¦å¤–ä¸€ç§å°±æ˜¯æŠ•é“’ï¼Œå°±æ˜¯æŠŠæŠ¹æœ‰è¿·è¯çš„ç†Ÿè‚‰æŠ•ç»™ç‹—ï¼Œå¦‚æœç‹—ä¸æ…åƒäº†å°±ä¼šè¢«å¸¦èµ°, å¦‚æœç‹—ä¸åƒå°±è‡ªç„¶æ— æ³•ä¸Šé’© <br/></p>
<p>éšç€æ—¶ä»£å‘å±•ï¼Œç°åœ¨å‡ºç°æ–°çš„å·ç‹—æ–¹å¼ï¼Œç”¨ç±»ä¼¼å¼“å¼©å°„æ¯’é’ˆï¼Œç„¶åå†æ¡å°¸ä½“, å³ä½¿è°¨æ…å¦‚å®ƒï¼Œä¹Ÿéš¾ä»¥å¹¸å…. <br/></p>
<p>è™½ç„¶è¿™å·²ç»ä¸çŸ¥é“æ˜¯æˆ‘å®¶å¤±å»çš„ç¬¬å‡ åªç‹—äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯éš¾å¿æ‚²ä¼¤. <br/></p>
<p>æˆ‘æ‰æ„è¯†åˆ°ï¼Œå› ä¸ºå®¶é‡Œçš„ç‹—æ€»æ˜¯åœ¨èº«è¾¹ï¼Œçˆ¶æ¯ä¹Ÿä¸åƒå…»å® ç‰©é‚£æ ·æœ‰ç»™å®ƒä»¬èµ·åçš„ä¹ æƒ¯ï¼Œåªæ˜¯ä»¥ç‰¹å¾ä»£ç§°ï¼Œå®ƒç”šè‡³æ²¡æœ‰åå­—. <br/></p>
<p>æƒ³èµ·ä¹‹å‰æœ‰äººæè¿°æ‚²ä¼¤çš„æ„Ÿè§‰, äº²æœ‹ç¦»å»çš„é‚£ä¸€ç¬é—´é€šå¸¸ä¸ä¼šä½¿äººæ„Ÿåˆ°æ‚²ä¼¤ï¼Œè€ŒçœŸæ­£ä¼šè®©ä½ æ„Ÿåˆ°æ‚²ç—›çš„æ˜¯æ‰“å¼€å†°ç®±çš„é‚£åŠç›’ç‰›å¥¶ã€ <br/>
é‚£çª—å°ä¸Šéšé£å¾®æ›³çš„ç»¿èã€é‚£å®‰é™æŠ˜å åœ¨åºŠä¸Šçš„ç»’è¢«ï¼Œè¿˜æœ‰é‚£æ·±å¤œé‡Œæ´—è¡£æœºä¼ æ¥çš„é˜µé˜µå–§å“—ã€‚ <br/></p>
<p>æƒ³æ¥ï¼Œå½“æˆ‘å†å›åˆ°å®¶ä¸­ï¼Œçœ‹ç€æ•å¼€çš„é¥¼å¹²ç›’ï¼Œæˆ‘ä¸€å®šä¼šæ­¢ä¸ä½æƒ³èµ·é‚£ä¸ªåœ¨æ ‘ä¸‹å’Œå®ƒåƒé¥¼å¹²çš„åˆå. <br/></p>
<p>è°¨ä»¥æ­¤æ–‡æ‚¼å¿µå®ƒå§. <br/></p>
<p><video width="320" height="240" controls><source src="/ox-hugo/my_family_dog1.mp4" type="video/mp4">
Your browser does not support the video tag.</video></p>
<p><video width="320" height="240" controls><source src="/ox-hugo/my_family_dog2.mp4" type="video/mp4">
Your browser does not support the video tag.</video></p>
]]></content:encoded>
    </item>
    <item>
      <title>æˆ‘å’Œã€Œå¼‚ç«¯é‚ªæ•™ã€æ‘©é—¨æ•™çš„äº¤é›†</title>
      <link>https://ramsayleung.github.io/zh/post/2024/%E5%BC%82%E7%AB%AF%E6%91%A9%E9%97%A8%E6%95%99%E7%9A%84%E4%BA%A4%E9%9B%86/</link>
      <pubDate>Sat, 28 Sep 2024 09:52:00 -0700</pubDate>
      <guid>https://ramsayleung.github.io/zh/post/2024/%E5%BC%82%E7%AB%AF%E6%91%A9%E9%97%A8%E6%95%99%E7%9A%84%E4%BA%A4%E9%9B%86/</guid>
      <description>1 å‘¨å¤„é™¤ä¸‰å®³ å‰æ®µæ—¶é—´ï¼Œçœ‹äº†éƒ¨å¾ˆæœ‰ååŠ²çš„å¥½ç”µå½±ï¼Œåä¸ºã€Šå‘¨å¤„é™¤ä¸‰å®³ã€‹ï¼Œç”µå½±é‡Œé¢ä¸å°‘æƒ…èŠ‚éƒ½åœ¨è„‘æµ·ä½™éŸ³ç»•æ¢ï¼Œä¹…ä¹…ä¸æ•£ã€‚ å¤§æ¦‚æƒ…èŠ‚æ˜¯é€šç¼‰çŠ¯é™ˆæ¡‚æ—åœ¨é€ƒäº¡è—</description>
      <content:encoded><![CDATA[<h2 id="å‘¨å¤„é™¤ä¸‰å®³"><span class="section-num">1</span> å‘¨å¤„é™¤ä¸‰å®³</h2>
<p>å‰æ®µæ—¶é—´ï¼Œçœ‹äº†éƒ¨å¾ˆæœ‰ååŠ²çš„å¥½ç”µå½±ï¼Œåä¸ºã€Šå‘¨å¤„é™¤ä¸‰å®³ã€‹ï¼Œç”µå½±é‡Œé¢ä¸å°‘æƒ…èŠ‚éƒ½åœ¨è„‘æµ·ä½™éŸ³ç»•æ¢ï¼Œä¹…ä¹…ä¸æ•£ã€‚ <br/></p>
<p>å¤§æ¦‚æƒ…èŠ‚æ˜¯é€šç¼‰çŠ¯é™ˆæ¡‚æ—åœ¨é€ƒäº¡è—åŒ¿ä¸­å¤±å»æœ€åä¸€ä¸ªäº²äººï¼ŒåŒæ—¶å¾—çŸ¥è‡ªå·±åªæœ‰ä¸åˆ°ä¸‰ä¸ªæœˆçš„ç”Ÿå‘½ã€‚ <br/></p>
<p>ä¸‡å¿µä¿±ç°çš„ä»–åŸæ‰“ç®—æŠ•æ¡ˆè‡ªé¦–ï¼Œå¯æ˜¯å½“å‘ç°ä»–åœ¨ä¸‰å¤§é€šç¼‰çŠ¯ä¸­ä»…ä»…æ’åç¬¬ä¸‰æ—¶ï¼Œå†…å¿ƒçªç„¶èºåŠ¨èµ·æ¥ã€‚ <br/></p>
<p>åœ¨æ­¤ä¹‹åï¼Œä»–å†³å®šä»¿æ•ˆå¤æ—¶å€™å‘¨å¤„é™¤ä¸‰å®³çš„æ•…äº‹ï¼Œä¸´ç»ˆä¹‹é™…è¦åœ¨æ±Ÿæ¹–ä¸Šç•™ä¸‹ä»–çš„ä¼ å¥‡åå·, äºæ˜¯è¸ä¸Šè¿½æ€æ¦œäºŒå’Œæ¦œä¸€å¤§å“¥çš„å¾é€”ã€‚ <br/></p>
<p>æ¦œäºŒå¤§å“¥æ˜¯ä¸ªå‡¶æ®‹ï¼Œç‹¡è¯ˆçš„é¦™æ¸¯é»‘å¸®è€å¤§ï¼Œé™ˆæ¡‚æ—å†ç»è‰°é™©ï¼Œè‡ªæŸå…«ç™¾ï¼Œèº«è´Ÿé‡ä¼¤ï¼Œæ‰é™¤æ‰äº†æ¦œäºŒå¤§å“¥ã€‚ <br/></p>
<p>æ¦œäºŒéƒ½è¿™ä¹ˆéš¾å¤„ç†ï¼Œè§‚ä¼—è‡ªç„¶ä¼šè§‰å¾—æ¦œä¸€å¤§å“¥è‚¯å®šå°±æ˜¯æ›´éš¾çš„BOSS, æ²¡æƒ³åˆ°é™ˆæ¡‚æ—åœ¨è¿½è¸ªæ¦œä¸€å¤§å“¥çš„è¿‡ç¨‹ä¸­ï¼Œè¯¯å…¥ä¸€é—´ååƒ»çš„æ•™ä¼šã€‚ <br/></p>
<p>åœ¨è¿™é—´æ•™ä¼šé‡Œï¼Œé™ˆç—…æƒ…åŠ å‰§ï¼Œåœ¨æ•™ä¼šå°Šè€…çš„å¼€æ‚Ÿä¸‹ï¼Œä»–æ”¾ä¸‹æ‰§å¿µï¼Œæ‰“ç®—äº†å´ä½™ç”Ÿï¼Œæ²¡æƒ³åˆ°ç—…æƒ…å´å› æ­¤å¥½è½¬ã€‚ <br/></p>
<p>ç”µå½±ç”»é¢ä¹Ÿè¶Šå‘æ¸…æ–°äº®ä¸½ï¼Œé¢„ç¤ºç€å³å°†è¿æ¥ Happy endingã€‚ <br/></p>
<p>ç„¶è€Œï¼Œåœ¨æœºç¼˜å·§åˆä¹‹ä¸‹ï¼Œé™ˆå¶ç„¶å‘ç°æ•´ä¸ªæ•™ä¼šéƒ½æ˜¯ä¸ªéª—å±€ï¼Œä¸ºäººå¼€æ‚Ÿçš„å°Šè€…ç«Ÿç„¶æ˜¯æ¦œä¸€å¤§å“¥ï¼Œæ•´ä¸ªæ•™ä¼šéƒ½æ²¦ä¸ºè¢«æ´—è„‘çš„é‚ªæ•™ç»„ç»‡ã€‚ <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/loss_everything.jpg"/> 
</figure>
 <br/></p>
<p>äºæ˜¯é™ˆä¾¿åœ¨æ•™ä¼šçš„åœ£æ­Œå£°ä¸­ï¼Œå¯¹å†¥é¡½ä¸çµçš„æ•™å¾’å¤§å¼€æ€æˆ’ï¼Œæœ€åå‘è­¦æ–¹è‡ªé¦–ã€‚ <br/></p>
<h2 id="ç¼˜èµ·"><span class="section-num">2</span> ç¼˜èµ·</h2>
<p>æˆ‘åƒå¾€å¸¸ä¸€æ ·ï¼Œä¸‹åˆæˆ´ç€è€³æœºï¼Œå¬ç€æ’­å®¢ï¼Œå»é™„è¿‘çš„å…¬å›­è·‘æ­¥, æˆ‘å¤§æŠµæ˜¯è®°ä¸æ¸…å½“æ—¶å¬çš„æ˜¯å“ªä¸ªæ’­å®¢äº†ã€‚ <br/></p>
<p>è¿é¢èµ°æ¥ä¸¤ä¸ªç©¿ç€è¡¬è¡«ï¼Œè¥¿è£…è£¤ï¼Œæ‰“ç€é¢†å¸¦ï¼Œå­¦ç”Ÿæ‰“æ‰®çš„å¹´è½»ç™½äºº, å‘æˆ‘æ‰“æ‹›å‘¼ã€‚ <br/></p>
<p>æˆ‘è¿˜ä»¥ä¸ºä»–ä»¬æ˜¯é—®è·¯ï¼Œæˆ´ç€è€³æœºå¬ä¸æ¸…ï¼Œæ‘˜ä¸‹è€³æœºå°±å†é—®äº†ä¸€ä¸‹ï¼Œç„¶åå°±äº¤è°ˆäº†èµ·æ¥ã€‚ <br/></p>
<p>ä»–ä»¬é—®æˆ‘æ˜¯å“ªé‡Œæ¥çš„ï¼Œæˆ‘è§‰å¾—æœ‰ç‚¹çªå…€ï¼Œä½†è¿˜æ˜¯ç­”é“ï¼š <br/></p>
<p>I&rsquo;m orignally from China, æ¯•ç«Ÿä¹Ÿæ²¡å•¥å¥½éšç’çš„. <br/></p>
<p>ä»–ä»¬å°±å¼€å§‹ç”¨ç•¥ç”Ÿç–ï¼Œä½†æµç•…çš„ä¸­æ–‡å’Œæˆ‘èŠå¤©ï¼Œæˆ‘ç›¸å½“æƒŠè®¶ï¼Œè¿™ä¸¤ä¸ªçœ‹èµ·æ¥åªæœ‰20å²çš„å¹´è½»é‡‘å‘ç¢§çœ¼çš„ç™½äººå°å“¥ï¼Œè¿˜ä¼šè¯´ä¸­æ–‡ï¼Œ <br/>
éš¾å…å¥½å¥‡ï¼Œå°±èµ°åˆ°æ—è¾¹çš„æ¤…å­åä¸‹ï¼Œå’Œä»–ä»¬èŠäº†èµ·æ¥ã€‚ <br/></p>
<p>åæ­£å°±å½“æˆå£è¯­èŠå¤©ï¼Œæˆ‘æ˜¯ä¸ä»‹æ„å’Œåˆ«äººèŠå¤©çš„ï¼Œç„¶åå‡ºç°äº†ä»–ä»¬å’Œæˆ‘è¯´ä¸­æ–‡ï¼Œæˆ‘å’Œä»–ä»¬è¯´è‹±æ–‡çš„å¥‡æ€ªç”»é¢ã€‚ <br/></p>
<p>å¯èƒ½ä»–ä»¬ä¸­æ–‡ä¸å¦‚æˆ‘è‹±æ–‡æµåˆ©ï¼Œä»–ä»¬æ›´ä¹ æƒ¯ç”¨è‹±æ–‡ï¼Œåé¢ä»–ä»¬å°±åˆ‡æ¢å›è‹±æ–‡ï¼Œæ›´é¡ºæ»‘åœ°èŠäº†èµ·æ¥ã€‚ <br/></p>
<p>ä»–ä»¬ä»‹ç»è‡ªå·±æ˜¯ä¼ æ•™å£«(missioner), 1å¹´å¤šå‰åˆšåˆšé«˜ä¸­æ¯•ä¸šï¼Œä»ç¾å›½çŠ¹ä»–å·æ¥è¿™é‡Œæ˜¯ä¼ æ•™çš„ï¼Œä¼ æ•™æ»¡ä¸¤å¹´å°±ä¼šå›å»ç»§ç»­ä¸Šå¤§å­¦ã€‚ <br/></p>
<p>éš¾æ€ªä»–ä»¬è¿™ä¹ˆå¹´ç»ï¼Œæ‰é«˜ä¸­æ¯•ä¸šå˜›ï¼Œè¿™å°±æ˜¯ç¾å›½å­¦ç”Ÿæ‰€è°“çš„ gap yearï¼Œé«˜ä¸­æ¯•ä¸šä¹‹åå¯ä»¥å…ˆä¸å»ä¸Šå¤§å­¦ï¼Œå…ˆç©ä¸ª1-2å¹´ï¼Œåªæ˜¯çœ¼å‰è¿™ä¸¤ä½å¹´è½»äººæ˜¯ç”¨æ¥ä¼ æ•™äº†ï¼Œéš¾å…å¿ƒç”Ÿæ•¬æ„ã€‚ <br/></p>
<p>ä»–ä»¬è¿˜é€éœ²ï¼Œä»–ä»¬æœªæ¥ä¸€ä¸ªæƒ³å½“ç§‘å­¦å®¶ï¼Œä¸€ä¸ªæƒ³å½“é£è¡Œå‘˜ï¼Œå› ä¸ºé£è¡Œå‘˜è‹±æ–‡(pilot) å’Œæµ·ç›—(pirate) å‘éŸ³éå¸¸è¿‘ï¼Œæˆ‘å¬åˆ°äº† pilot ä¹‹åæ„£äº†ä¸€ä¸‹ï¼Œç„¶åç¬‘äº†èµ·æ¥ï¼Œå¯èƒ½é‚£ä½è¯´æƒ³å½“é£è¡Œå‘˜çš„å°å“¥æ‹…å¿ƒæˆ‘è¯¯ä¼šäº†ï¼Œè¿˜ç”¨ä¸­æ–‡è¯´äº†é£è¡Œå‘˜ã€‚ <br/></p>
<p>è¯é¢˜åé¢å°±å›åˆ°æˆ‘å¥½å¥‡çš„ä¸ºä»€ä¹ˆä»–ä»¬ä¼šä¸­æ–‡çš„äº‹æƒ…ä¸Šï¼Œä»–ä»¬è¯´æ˜¯å› ä¸ºæŠ½åˆ°äº†æ¥æ¸©å“¥åä¼ æ•™ï¼Œæ¸©å“¥ååäººå¾ˆå¤šï¼Œæ‰€ä»¥å°±å­¦äº†ä¸­æ–‡ã€‚ <br/></p>
<p>çœ‹ç€ä»–ä»¬æ¸…æ¾ˆçš„çœ¼ç¥ï¼Œæƒ³ç€ä¸¤å¹´ä¸åˆ°çš„æ—¶é—´ï¼Œä¸ºäº†ä¼ æ•™ï¼Œå°±å¯ä»¥æŠŠä¸­æ–‡å­¦ä¹ åˆ°èƒ½æµç•…äº¤æµçš„ç¨‹åº¦ï¼ŒçœŸçš„æ˜¯è™”è¯šåˆå¥½å­¦é˜¿ã€‚ <br/></p>
<p>æ—¢ç„¶ä»–ä»¬æ˜¯ä¼ æ•™å£«ï¼Œè¯é¢˜è‡ªç„¶ä¼šç»•åˆ°å®—æ•™ä¸Šï¼Œ <br/>
ä»–ä»¬å°±é‚€è¯·æˆ‘å»å‘¨æ—¥çš„æ´—ç¤¼å’Œåœ£é¤å»ï¼Œæƒ³æ¥æ— äº‹ï¼Œå¹¶ä¸”å¯¹æ–°é²œäº‹ç‰©å¥½å¥‡ï¼ŒåŠ ä¹‹å¯¹è¿™ä¸¤ä½å¹´è½»å¸…æ°”çš„ç™½äººå°å“¥å¾ˆæœ‰å¥½æ„Ÿï¼Œå°±æ¬£ç„¶ç­”åº”ï¼Œå¹¶äº¤æ¢äº†æ‰‹æœºå·ç ã€‚ <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/the_sacrament.jpg"/> 
</figure>
 <br/></p>
<h2 id="åœ£é¤"><span class="section-num">3</span> åœ£é¤</h2>
<p>åœ¨å‘¨æ—¥ä¹ç‚¹åŠå»åˆ°æ•™å ‚ï¼Œæ•™å ‚å¤–é¢çœ‹èµ·æ¥ä¸å¤§ï¼Œè¿œæ²¡æœ‰æƒ³è±¡ä¸Šçš„å®å¤§ï¼Œåè½åœ¨ä¸€ç‰‡æ°‘å±…ä¹‹ä¸­ <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/church1.jpg"/> 
</figure>
  <br/></p>
<p>æˆ‘å› ä¸ºä¸ç†Ÿæ‚‰ï¼ŒåŠ ä¹‹åœ¨å‘¨å›´é€›äº†ä¸‹ï¼Œåˆ°çš„æ—¶å€™å·²ç»è¿‡äº†9ç‚¹åŠäº†ï¼Œç»™å…¶ä¸­ä¸€ä½å°å“¥å‘æ¶ˆæ¯ä¹Ÿæ²¡æœ‰è§åˆ°å›å¤ï¼Œåªå¥½è¿›å»æ•™å ‚é‡Œé¢è‡ªå·±å››å¤„é€›ã€‚ <br/></p>
<p>å¯èƒ½æ˜¯æˆ‘çš„ç›®å…‰è¿‡äºå¥½å¥‡ï¼Œæš´éœ²äº†æˆ‘æ˜¯ç¬¬ä¸€æ¬¡æ¥çš„äº‹å®ï¼Œå°±æœ‰ä¸ªé»‘äººå°å§å§è¿‡æ¥å’Œæˆ‘èŠèµ·æ¥ï¼Œé—®æˆ‘è¦å»å“ªä¸ªç»„(group/room)ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“é˜¿ã€‚ <br/></p>
<p>åªå¥½æè¿°äº†ä¸€ä¸‹å…¶ä¸­ä¸€ä½å°å“¥çš„ç‰¹å¾ï¼Œé»‘äººå°å§å§å°±æŠŠæˆ‘é¢†åˆ°ä¸ªå…¨æ˜¯åäººçš„æˆ¿é—´ï¼Œå¬å£éŸ³ï¼Œæ˜¯å°æ¹¾äººï¼Œé¦™æ¸¯äººå’Œå¤§é™†åŒèƒéƒ½æœ‰ã€‚ <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/church2.jpg"/> 
</figure>
 <br/></p>
<p>å½“æ—¶åœ¨è¿›è¡Œçš„æ´»åŠ¨ç±»ä¼¼æ˜¯å€¾è¯‰åˆ†äº«ç¯èŠ‚ï¼Œå¬èµ·æ¥æ˜¯æ¯ä¸ªæœˆä¸€æ¬¡ï¼Œæ¯ä¸ªäººåˆ†äº«è‡ªå·±çš„å¯¹ç»æ–‡å­¦ä¹ æˆ–æœ€è¿‘ç”Ÿæ´»ç»å†ï¼Œå‰åå¤§æ¦‚æœ‰10ä¸ªæ•™ä¼—ä¸Šå°åˆ†äº«äº†ã€‚ <br/></p>
<p>æ¯ä¸ªåˆ†äº«çš„ç»“å°¾éƒ½ä»¥æˆ¿é—´å†…æ‰€æœ‰æ•™ä¼—çš„ã€Œé˜¿é—¨ã€ç»“æŸï¼Œå°ä¸‹åç€çš„æˆ‘è¿˜æ˜¯æ²¡æœ‰ä¹ æƒ¯å£ç§°ä¸Šå¸ï¼Œéš¾å…æœ‰ç§ã€Œé…åˆä½ æ¼”å‡ºçš„æˆ‘æ¼”è§†è€Œä¸è§ã€çš„æ„Ÿè§‰ <br/></p>
<p>å…¶ä¸­æœ‰ä¸¤ä½æ•™ä¼—åˆ†äº«ï¼Œè¯´ç€è¯´ç€éƒ½å“½å’½èµ·æ¥äº†ï¼Œè¿™åœºé¢éš¾å…è®©æˆ‘æƒ³èµ·ã€Šå‘¨å¤„é™¤ä¸‰å®³ã€‹çš„ç”»é¢ï¼Œæˆ‘è¡¨æƒ…è‚ƒç©†ï¼Œå†…å¿ƒå´åœ¨ç¬‘ã€‚ <br/></p>
<p>åœ¨ä¸€ä½å¹´è½»å¥³æ•™ä¼—çš„é’¢ç´ä¼´å¥ä¸‹ï¼Œä¼—äººé½å”±åœ£æ­Œã€Šæ„¿ä¸»å·®é£ã€‹ï¼ˆIâ€™ll Go Where You Want Me to Goï¼‰ï¼Œå†æ—¶ä¸€å°æ—¶çš„åˆ†äº«ç»“æŸã€‚ <br/></p>
<p>è™½ç„¶æ•™ä¼—å”±çš„æ˜¯ã€Šæ„¿ä¸»å·®é£ã€‹ï¼Œä½†æ˜¯æˆ‘è„‘æµ·é‡Œé¢å“èµ·çš„å´æ˜¯ã€Šå‘¨å¤„é™¤ä¸‰å®³ã€‹é™ˆæ¡‚æ—æ•™å ‚å± æ€æ—¶æ•™ä¼—å”±çš„ã€Šæ–°é€ çš„äººã€‹ï¼Œ <br/>
è¿™ç”µå½±ç”»ç”»çœŸçš„æ˜¯åˆ»åœ¨æˆ‘è„‘å­äº†ã€‚ <br/></p>
<p>åˆ†äº«ä¼šç»“æŸåï¼Œéƒ¨åˆ†æ•™ä¼—ç¦»å»ï¼Œå‰©ä¸‹çš„æ•™ä¼—å‚åŠ æ¥ä¸‹æ¥çš„ç»æ–‡å­¦ä¹ ï¼Œæˆ‘è§æ— äº‹ï¼Œä¾¿ç»§ç»­ç•™ä¸‹äº†ã€‚ <br/></p>
<p>ç»æ–‡è¯¾ä¸Šï¼Œå¤§å®¶æ‹¿å‡ºæ¥çš„æ˜¯ã€Šæ‘©å°”é—¨ç»ã€‹ï¼Œæ…¢ç€ï¼Œæˆ‘è™½ç„¶å¯¹åŸºç£æ•™ä¸æ˜¯éå¸¸ç†Ÿæ‚‰ï¼Œä½†æ˜¯ä¹ŸçŸ¥é“ä½ ä»¬è¯»çš„æ˜¯ã€Šåœ£ç»ã€‹ï¼Œè¿™æ˜¯å•¥ç»ï¼Œä½ ä»¬è¿™æ˜¯å•¥æ•™ã€‚ <br/></p>
<p>ç„¶åç‰§å¸ˆå¼€å§‹è®²ç»æ–‡çš„ç±»ä¼¼æ’æ¯”å¥çš„å†™ä½œæ‰‹æ³•ï¼Œå¤§æ¦‚æ˜¯é€šè¿‡åå¤å¼ºè°ƒç›¸ä¼¼çš„å¥å‹ï¼Œæ¥åŠ æ·±è¯»è€…çš„å°è±¡å¹¶ä¼ é€’å®—æ•™æ•™ä¹‰ã€‚ <br/></p>
<p>è¯è™½å¦‚æ­¤ï¼Œä½†æ˜¯ä½ æ‹¿æœ¬ç¿»è¯‘æˆä¸­æ–‡çš„ç»ä¹¦ï¼Œè®²åŸç‰ˆã€Šæ‘©å°”é—¨ç»ã€‹çš„ä¿®è¾ç»“æ„ï¼Œä½ æ²¡æ„è¯†åˆ°æœ‰å“ªé‡Œä¸å¯¹åŠ²ä¹ˆï¼Ÿ <br/></p>
<p>ä¸‡ä¸€è¯‘è€…æ°´å¹³ä¸å¤Ÿï¼Œæˆ–è€…æ²¡æœ‰æ„è¯†åˆ°è¿™ç§è¯æ³•ï¼Œæ²¡æœ‰ç¿»è¯‘è¿‡æ¥ï¼Œé‚£ä¸­æ–‡ç¿»è¯‘ä¸å°±æ²¡æœ‰è¿™ç§è¯æ³•äº†å˜›ã€‚ <br/></p>
<p>è¿™çœ‹èµ·æ¥å¤ªè‰å°ç­å­äº†ï¼ŒåŠ ä¹‹ã€Šå‘¨å¤„é™¤ä¸‰å®³ã€‹ä¸­é‚ªæ•™çš„å½±å“ï¼Œæˆ‘è¿˜æ˜¯èµ°ä¸ºä¸Šç€ï¼Œä¾¿å€Ÿå£æœ‰çº¦ï¼Œç¦»å¼€äº†ã€‚ <br/></p>
<h2 id="æ‘©é—¨æ•™"><span class="section-num">4</span> æ‘©é—¨æ•™</h2>
<p>æˆ‘æœ¬æ¥å¯¹å®—æ•™ä¸æ„Ÿå…´è¶£ï¼Œåªå¯¹äººæ„Ÿå…´è¶£ã€‚ <br/></p>
<p>å›æ¥ä¹‹åï¼Œæˆ‘å»æŸ¥äº†ç»´åŸºç™¾ç§‘ï¼Œè¿™ä¸ªä»¥ã€Šæ‘©å°”é—¨ç»ã€‹ä¸ºç»ä¹¦çš„å®—æ•™ï¼Œåä¸ºæ˜¯æ‘©é—¨æ•™ï¼Œæ˜¯ä¸ªè¢«ä¸»æµåŸºç£æ•™å¾’è®¤ä¸ºæ˜¯ã€Œå¼‚ç«¯é‚ªæ•™ã€(cult)çš„æ•™ä¼šã€‚ <br/></p>
<p>æ‘©é—¨æ•™(Mormons), é™¤äº†ç›¸ä¿¡å—æ™®éåŸºç£æ•™å’Œå¤©ä¸»æ•™æ‰€ç›¸ä¿¡åŠæ‰¿è®¤çš„åœ£ç»ä»¥å¤–ï¼Œä»–ä»¬ä¹Ÿç›¸ä¿¡ã€Šæ‘©å°”é—¨ç»ã€‹æ˜¯ç¥æ‰€å¯ç¤ºå¦å¤–çš„ç»æ–‡ã€‚ <br/></p>
<p>æ¦‚æ‹¬æ¥è¯´ï¼Œæ‘©é—¨æ•™å°±æ˜¯ä¸ªåŸºç£æ•™å’Œç¾æ´²æ–‡æ˜èåˆï¼Œæœ¬åœŸåŒ–çš„å®—æ•™ã€‚ <br/></p>
<p>äº†è§£å®—æ•™çš„æœ‹å‹å¯èƒ½ä¼šé—®ï¼Œè€¶ç¨£å’ŒåŸºç£æ•™ä¸æ˜¯èµ·æºäºä¸­ä¸œ-è€¶è·¯æ’’å†·å˜›ï¼Œå’Œç¾æ´²æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ <br/></p>
<p>æ‘©é—¨æ•™çš„å…ˆçŸ¥ç¾å›½äººçº¦ç‘ŸÂ·æ–¯å¯†è¯´ã€Šæ‘©å°”é—¨ç»ã€‹æ˜¯ç¿»è¯‘è‡ªé‡‘é¡µç‰‡ï¼Œè¯¥é¡µç‰‡çºªå½•äº†å…¬å…ƒå‰çº¦600å¹´åˆ°å…¬å…ƒ420å¹´é—´åœ¨å¤ä»£ç¾æ´²å¤§é™†ä¸­ä¸€å¤ä»£æ–‡æ˜äº‹è¿¹ã€‚ <br/></p>
<p>è¿™ä½çº¦ç‘ŸÂ·æ–¯å¯†è¯´ï¼Œ1820å¹´ï¼Œä»–åœ¨çº½çº¦çš„æ ‘æ—ä¸­ï¼Œçœ‹åˆ°å¤©çˆ¶å’Œè€¶ç¨£é™è½ï¼Œåé¢è¿˜è¢«å¤æ´»çš„å¤ä»£ç¾æ´²å…ˆçŸ¥æ‘©ç½—ä¹ƒæ‹œè®¿ï¼Œå‘ŠçŸ¥å…¶ã€Œé‡‘é¡µç‰‡ã€çš„ä¸‹è½ã€‚ <br/></p>
<p>çº¦ç‘ŸÂ·æ–¯å¯†å–å‡ºã€Œé‡‘é¡µç‰‡ã€ï¼Œè¿›è¡Œäº†ç¿»è¯‘ï¼Œåœ¨ç¿»è¯‘å®Œæˆåï¼Œæ‘©ç½—ä¹ƒå°±æ”¶å›äº†ã€Œé‡‘é¡µç‰‡ã€ï¼Œæ‰€ä»¥ç°åœ¨å·²æ²¡æœ‰äº†é‡‘é¡µç‰‡çš„åŸä»¶äº†&hellip; <br/></p>
<p>éƒ½19ä¸–çºªäº†ï¼Œè¿˜æå…ˆçŸ¥é™ä¸´ã€‚ <br/></p>
<p>æŒ‰ç…§ä»–ä»¬çš„æ•™ä¹‰è§„å®šï¼Œä»–ä»¬ç¦æ­¢å–é…’ã€æŠ½çƒŸã€å–èŒ¶ã€å–å’–å•¡ä»¥åŠå©šå‰æ€§è¡Œä¸ºï¼Œå¬èµ·æ¥ç›¸å½“ä¿å®ˆå’ŒåŸæ•™æ—¨ä¸»ä¹‰å˜›. <br/></p>
<p>ä½†æ˜¯æ‘©é—¨æ•™æ¨å´‡å¤šé‡å©šå§»ï¼ˆä¸€å¤«å¤šå¦»åˆ¶ï¼‰: <br/>
çº¦ç‘ŸÂ·æ–¯å¯†ç§°åœ¨ä»–ç ”ç©¶æ—§çº¦åœ£ç»æ—¶å¸Œæœ›å¾—çŸ¥ç¥ä¸ºä»€ä¹ˆå®¹è®¸å…ˆçŸ¥äºšä¼¯æ‹‰ç½•ï¼Œæ‘©è¥¿ï¼Œå¤§å«å’Œæ‰€ç½—é—¨æ‹¥æœ‰è®¸å¤šå¦»å­ï¼Œ <br/>
è€Œåçº¦ç‘ŸÂ·æ–¯å¯†ç§°ä»–å¾—åˆ°ç¥çš„å›å¤è¯´é‚£æ˜¯å› ä¸ºç¥‚å©å’ä»–ä»¬. <br/></p>
<p>å› ä¸ºä¸€å¤«å¤šå¦»åˆ¶ï¼Œæ‘©é—¨æ•™è¿˜è¢«ç¾å›½æ³•é™¢å®šä¹‰æˆé‚ªæ•™ï¼Œå³ä½¿ã€Œå®—æ•™è‡ªç”±ã€å’Œã€Œå®ªæ³•ä¿æŠ¤ã€çš„è¾¨æŠ¤éƒ½æ‰“ä¸åŠ¨ï¼Œ <br/>
è¢«æ³•é™¢è§£æ•£äº†æ•™ä¼šçš„æ³•äººç»„ç»‡ï¼ŒæŒ‡ç¤ºè¦æŠŠæ•™ä¼šæ‰€æœ‰è´¢äº§éƒ½æ”¶å½’æ”¿åºœæ‰€æœ‰ã€‚ <br/></p>
<p>ç›´åˆ°å½“æ—¶çš„æ‘©é—¨æ•™é¢†è¢–å®˜æ–¹å£°æ˜ç¦æ­¢å¤šé‡å©šå§»ï¼Œæ‰å’Œæ”¿åºœå’Œè§£ã€‚ <br/></p>
<p>ä¹Ÿéš¾æ€ªæ‘©é—¨æ•™ä¼šè¢«åŸºç£å¾’è®¤ä¸ºæ˜¯ã€Œé‚ªæ•™ã€. <br/></p>
<p><strong><strong>å¦‚æœæœ‰æ‘©é—¨æ•™çš„æ•™å¾’çœ‹åˆ°æˆ‘è¿™ç¯‡æ–‡ç« ï¼Œå¯¹æˆ‘å°†æ‘©é—¨æ•™ç§°ä¸ºã€Œé‚ªæ•™ã€æœ‰æ‰€ä¸æ»¡, æˆ‘åªæ˜¯å¼•ç”¨åŸºç£å¾’çš„ä¸»æµè§‚ç‚¹å’Œç¾å›½æœ€é«˜æ³•é™¢çš„åˆ¤å†³ï¼Œæœ‰æ°”è¯·å¾€ä»–ä»¬æ’’</strong></strong> <br/></p>
<h3 id="ä¼ç¬”å›æ”¶"><span class="section-num">4.1</span> ä¼ç¬”å›æ”¶</h3>
<p>æ‘©é—¨æ•™çš„å¤§æœ¬è¥å°±æ˜¯ç¾å›½çŠ¹ä»–å·ï¼Œå‰é¢çš„ä¸¤ä¸ªå¹´è½»ä¼ æ•™å£«å°±æ˜¯çŠ¹ä»–å·æ¥çš„ã€‚ <br/></p>
<p>å½“åˆæ‘©é—¨æ•™åœ¨ç¾å›½è¢«è®¤ä¸ºæ˜¯ã€Œé‚ªæ•™ã€ï¼Œæ‰€ä»¥ä¼ æ•™å£«ä»¬ä¾¿åˆ°æ¬§æ´²ä¼ æ•™. <br/></p>
<p>ç»“æœï¼Œåœ¨æ¬§æ´²çš„ä¼ æ•™å£«ä»¬æˆåŠŸåœ°å¸å¼•äº†å¤§æ‰¹å¤§æ‰¹çš„æ–°ä¿¡å¾’ï¼Œè¿™äº›äººé‡Œæœ‰å¾ˆå¤šéƒ½è·Ÿéšè€…ä¼ æ•™å£«ä»¬ï¼Œæ¼‚æ´‹è¿‡æµ·åœ°æ¥åˆ°äº†ç¾å›½ï¼Œè¿…é€Ÿå£®å¤§ç€æ‘©é—¨æ•™çš„é˜Ÿä¼ã€‚ <br/></p>
<p>äºæ˜¯ï¼Œæ‘©é—¨æ•™ä¾¿å½¢æˆäº†ä¸€ä¸ªä¼ ç»Ÿï¼šå¤§å¤šæ•°ç¾å›½çš„æ‘©é—¨æ•™ä¿¡å¾’éƒ½ä¼šå­¦ä¹ ä¸€é—¨å¤–è¯­ï¼Œå»å…¶ä»–å›½å®¶ä¼ æ•™ä¸¤å¹´ï¼Œè€Œä¸”è¿™æ ·çš„å¼‚å›½ä¼ æ•™ï¼Œå¤§å¤šéƒ½æ˜¯è‡ªè´¹çš„ <br/></p>
<p>è¿™ä¸‹å¥½äº†ï¼Œéƒ½å¯¹åº”ä¸Šäº†ï¼Œä¸–ç•Œçº¿éƒ½å›æ”¶äº†ã€‚ <br/></p>
<h2 id="åç»­"><span class="section-num">5</span> åç»­</h2>
<p>äº†è§£æ‘©é—¨æ•™ä¹‹åï¼Œæˆ‘å¯¹å…¶å°±å®Œå…¨å¤±å»å…´è¶£äº†ã€‚ <br/></p>
<p>ä»æŸç§è§’åº¦æ¥è¯´ï¼Œè¿™ä¸ªæ•™ä¼šå’Œå½“åˆæ´ªç§€å…¨åœ¨å¤ªå¹³å¤©å›½å»ºç«‹çš„ã€Œæ‹œä¸Šå¸æ•™ã€å¹¶æ²¡æœ‰ä»€ä¹ˆæœ¬è´¨çš„å·®åˆ«ï¼Œéƒ½æ˜¯åŸºç£æ•™æœ¬åœŸåŒ–åçš„äº§ç‰©ï¼Œæ–°ç“¶è£…æ—§é…’ã€‚ <br/></p>
<p>åªæ˜¯æ²¡æœ‰æƒ³åˆ°ï¼Œè¿™ä½ä¼ æ•™å£«å°±è¿™ä¹ˆçº ç¼ ä¸Šæˆ‘äº†ï¼Œå‰é¢æåˆ°æˆ‘å’Œä»–äº¤æ¢äº†æ‰‹æœºï¼Œæ¥ä¸‹æ¥ä¸€ä¸ªæœˆçš„æ—¶é—´ï¼Œä¸åœç»™æˆ‘å‘æ¶ˆæ¯ï¼Œæ‰“ç”µè¯ï¼ŒçœŸçš„æ˜¯ç¼ ä¸Šäº†: <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/missinor_message.jpg"/> 
</figure>
  <br/></p>
<p>è¿˜å¥½ä»–ä¸çŸ¥é“æˆ‘çš„æ›´å¤šä¿¡æ¯ï¼Œå¦‚æœä»–çŸ¥é“æˆ‘çš„ä½å€ï¼Œä¼°è®¡è¦ä¸Šé—¨æ¥æ•²é—¨äº†ã€‚ <br/></p>
<p>æ„Ÿè°¢é™ˆæ¡‚æ—ï¼Œæ•²èµ·äº†æˆ‘å¯¹é‚ªæ•™çš„è­¦é’Ÿã€‚ <br/></p>
<p>ä¸€é¦–ã€Šæ–°é€ çš„äººã€‹, ç»§ç»­ç»™å¤§å®¶æ•²é’Ÿ. <br/></p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/KBmNvThjE9Q" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

]]></content:encoded>
    </item>
    <item>
      <title>ä½¿ç”¨Rustçš„Iteratorä¼˜é›…è§£å†³FizzBuzzé—®é¢˜</title>
      <link>https://ramsayleung.github.io/zh/post/2024/%E4%BD%BF%E7%94%A8rust%E7%9A%84iterator%E8%A7%A3%E5%86%B3fizzbuzz%E9%97%AE%E9%A2%98/</link>
      <pubDate>Wed, 18 Sep 2024 22:46:00 -0700</pubDate>
      <guid>https://ramsayleung.github.io/zh/post/2024/%E4%BD%BF%E7%94%A8rust%E7%9A%84iterator%E8%A7%A3%E5%86%B3fizzbuzz%E9%97%AE%E9%A2%98/</guid>
      <description>1 å‰è¨€ æŒ‰ç…§ç»´åŸºç™¾ç§‘çš„è¯´æ³•ï¼ŒFizzBuzzé—®é¢˜ æ˜¯ä¸€ä¸ªç®€å•ä½†æ˜¯å¸¸è§çš„é¢è¯•ç¼–ç¨‹é—®é¢˜ï¼ˆå¯èƒ½ä»¥å‰å¸¸è§ï¼Œç°åœ¨éƒ½æ˜¯è€ƒLeetcodeäº†,è¿™ç§è¿Easy éƒ½</description>
      <content:encoded><![CDATA[<h2 id="å‰è¨€"><span class="section-num">1</span> å‰è¨€</h2>
<p>æŒ‰ç…§ç»´åŸºç™¾ç§‘çš„è¯´æ³•ï¼Œ<a href="https://en.wikipedia.org/wiki/Fizz_buzz">FizzBuzzé—®é¢˜</a> æ˜¯ä¸€ä¸ªç®€å•ä½†æ˜¯å¸¸è§çš„é¢è¯•ç¼–ç¨‹é—®é¢˜ï¼ˆå¯èƒ½ä»¥å‰å¸¸è§ï¼Œç°åœ¨éƒ½æ˜¯è€ƒLeetcodeäº†,è¿™ç§è¿Easy éƒ½ä¸ç®—äº†ï¼‰ï¼Œè¿™ä¸ªé—®é¢˜çš„è¦æ±‚å¦‚ä¸‹ï¼š <br/></p>
<ol>
<li>å†™ä¸€ä¸ªç¨‹åºï¼Œè¾“å‡ºä»1åˆ°100çš„æ•°å­— <br/></li>
<li>å¯¹äº3çš„å€æ•°ï¼Œä¸è¾“å‡ºæ•°å­—ï¼Œè€Œæ˜¯è¾“å‡º &ldquo;Fizz&rdquo; <br/></li>
<li>å¯¹äº5çš„å€æ•°ï¼Œä¸è¾“å‡ºæ•°å­—ï¼Œè€Œæ˜¯è¾“å‡º &ldquo;Buzz&rdquo; <br/></li>
<li>å¯¹äºå³æ˜¯3çš„å€æ•°åˆæ˜¯5çš„å€æ•°çš„æ•°å­—ï¼ˆå³15çš„å€æ•°ï¼‰ï¼Œæ‰“å° &ldquo;FizzBuzz&rdquo; <br/></li>
</ol>
<h2 id="å¸¸è§„è§£æ³•"><span class="section-num">2</span> å¸¸è§„è§£æ³•</h2>
<p>é—®é¢˜éå¸¸ç®€å•ï¼Œåˆšå­¦ç¼–ç¨‹çš„å­¦ç”Ÿéƒ½å¯ä»¥å†™å‡ºç¬¦åˆè¦æ±‚çš„ä»£ç ï¼Œä¸‹é¢æ˜¯ Rust çš„å¸¸è§„è§£æ³•ï¼š <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">0</span><span class="o">..=</span><span class="mi">100</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;FizzBuzz&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;Fizz&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;Buzz&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{i}</span><span class="s">&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸ªæ²¡æœ‰ä»€ä¹ˆå¤ªå¤šå¯è¯´çš„ï¼Œå°±æ˜¯ç›´æ¥æŒ‰éœ€æ±‚ç¿»è¯‘ä»£ç äº†ã€‚ <br/></p>
<h2 id="iterator-è§£æ³•"><span class="section-num">3</span> Iterator è§£æ³•</h2>
<p>å¦‚æœç°åœ¨ç»™ FizzBuzz é—®é¢˜å†åŠ ä¸€ä¸ªé™åˆ¶ï¼Œä¸èƒ½ä½¿ç”¨ä¹˜æ³•ï¼Œé™¤æ³•ï¼Œæˆ–è€…å–æ¨¡æ“ä½œï¼Œé‚£ä¹ˆåˆè¦æ€ä¹ˆå®ç°å‘¢ï¼Ÿ <br/></p>
<p>Rust æ ‡å‡†åº“ä¸­çš„å„å¼ <code>Iterator</code> å¯ä»¥ç®—æ˜¯Rusté›¶å¼€é”€æŠ½è±¡(Zero Cost Abstraction)ä¸è¡¨è¾¾èƒ½åŠ›çš„æœ€ä½³ä½“ç°äº†ã€‚ <br/></p>
<p>æœ€è¿‘åœ¨è¯» Programming Rust, 2nd edition, é‡Œé¢å°±æœ‰ä½¿ç”¨å„ç§ Iterator ç»„åˆï¼Œä¸ä½¿ç”¨é™¤æ³•æˆ–è€…å–æ¨¡æ“ä½œæ¥è§£å†³ FizzBuzz é—®é¢˜çš„å®ç°, å¯ä»¥è¯´æ˜¯æŠŠ <code>iterator</code> ç©å¾—éå¸¸èŠ±äº†ï¼š <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">iter</span>::<span class="p">{</span><span class="n">once</span><span class="p">,</span><span class="w"> </span><span class="n">repeat</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">fizzes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repeat</span><span class="p">(</span><span class="s">&#34;&#34;</span><span class="p">).</span><span class="n">take</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">chain</span><span class="p">(</span><span class="n">once</span><span class="p">(</span><span class="s">&#34;fizz&#34;</span><span class="p">)).</span><span class="n">cycle</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">buzzes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repeat</span><span class="p">(</span><span class="s">&#34;&#34;</span><span class="p">).</span><span class="n">take</span><span class="p">(</span><span class="mi">4</span><span class="p">).</span><span class="n">chain</span><span class="p">(</span><span class="n">once</span><span class="p">(</span><span class="s">&#34;buzz&#34;</span><span class="p">)).</span><span class="n">cycle</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">fizzes_buzzes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fizzes</span><span class="p">.</span><span class="n">zip</span><span class="p">(</span><span class="n">buzzes</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">fizz_buzz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="o">..=</span><span class="mi">100</span><span class="p">).</span><span class="n">zip</span><span class="p">(</span><span class="n">fizzes_buzzes</span><span class="p">).</span><span class="n">map</span><span class="p">(</span><span class="o">|</span><span class="n">tuple</span><span class="o">|</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">tuple</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="s">&#34;&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;&#34;</span><span class="p">))</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">.</span><span class="n">to_string</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">fizz</span><span class="p">,</span><span class="w"> </span><span class="n">buzz</span><span class="p">))</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="fm">format!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{}{}</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">fizz</span><span class="p">,</span><span class="w"> </span><span class="n">buzz</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fizz_buzz</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{line}</span><span class="s">&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>çœ‹èµ·æ¥æ˜¯å¦ä¸çŸ¥é“æ‰€äº‘å‘¢? ç°åœ¨å¯ä»¥æŠŠæ¯ä¸ª <code>iterator</code> çš„ä½œç”¨é€ä¸€æ‹†è§£ã€‚ <br/></p>
<h3 id="repeat-plus-take"><span class="section-num">3.1</span> repeat + take</h3>
<p><code>repeat</code> çš„ä½œç”¨å°±æ˜¯æ— é™é‡å¤æŸä¸ªä¼ å…¥çš„å…ƒç´ , ä¾‹å¦‚ <code>repeat(4)</code> å°±æ˜¯ç”Ÿæˆæ— é™ä¸ªæ•°å­—4, <code>repeat(&quot;&quot;)</code> å°±æ˜¯ç”Ÿæˆæ— é™ä¸ªç©ºç™½å­—ç¬¦. <br/></p>
<p>è™½ç„¶ <code>repeat</code> èƒ½ç”Ÿæˆæ— é™ä¸ªæŒ‡å®šçš„å…ƒç´ ï¼Œä½†æ˜¯æˆ‘åªæƒ³è¦è‹¥å¹²ä¸ªå…ƒç´ ï¼Œæ€ä¹ˆæ•´å‘¢ï¼Ÿ <code>take</code> å°±å¯ä»¥æ»¡è¶³è¿™ä¸ªè¦æ±‚ï¼Œæ‰€ä»¥ <code>repeat(4).take(4)</code> å°±æ˜¯ç”Ÿæˆ4ä¸ªæ•°å­—4çš„æ„æ€ï¼Œè€Œ <code>repeat(&quot;&quot;).take(2)</code> å°±æ˜¯ç”Ÿæˆ2ä¸ªç©ºå­—ç¬¦ <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">iter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// that last example was too many fours. Let&#39;s only have four fours.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">four_fours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iter</span>::<span class="n">repeat</span><span class="p">(</span><span class="mi">4</span><span class="p">).</span><span class="n">take</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="nb">Some</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">four_fours</span><span class="p">.</span><span class="n">next</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="nb">Some</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">four_fours</span><span class="p">.</span><span class="n">next</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="nb">Some</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">four_fours</span><span class="p">.</span><span class="n">next</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="nb">Some</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">four_fours</span><span class="p">.</span><span class="n">next</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// ... and now we&#39;re done
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="nb">None</span><span class="p">,</span><span class="w"> </span><span class="n">four_fours</span><span class="p">.</span><span class="n">next</span><span class="p">());</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="once"><span class="section-num">3.2</span> once</h3>
<p>æœ‰ç”Ÿæˆæ— é™ä¸ªå…ƒç´ çš„ <code>iterator</code>, è‡ªç„¶å°±æœ‰åªç”Ÿæˆä¸€ä¸ªå…ƒç´ çš„ <code>iterator</code>, é‚£å°±æ˜¯ <code>once()</code>, è¿™ä¸ª <code>iterator</code> åªä¼šè¿”å›ä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ ã€‚ <br/></p>
<p>æ‰€ä»¥ <code>once(&quot;fizz&quot;)</code> å°±æ˜¯åˆ›å»ºä¸€ä¸ªåªä¼šè¿”å›ä¸€ä¸ª <code>&quot;fizz&quot;</code> çš„ <code>iterator</code> : <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">iter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// one is the loneliest number
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iter</span>::<span class="n">once</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="nb">Some</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">one</span><span class="p">.</span><span class="n">next</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">// just one, that&#39;s all we get
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="nb">None</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="p">.</span><span class="n">next</span><span class="p">());</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="chain"><span class="section-num">3.3</span> chain</h3>
<p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æŠŠä¸¤ä¸ª iterator åƒé“¾å­ä¸€æ ·ä¸²èµ·æ¥, åˆå¹¶æˆä¸€ä¸ª iterator: <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">iter</span>::<span class="n">chain</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">];</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">];</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">chain</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="mi">4</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">None</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="circle"><span class="section-num">3.4</span> circle</h3>
<p><code>circle</code> å°±æ¯”è¾ƒæœ‰è¶£äº†ï¼Œå®ƒçš„ä½œç”¨æ˜¯æ— é™å¾ªç¯ä¸€ä¸ª <code>iterator</code>, <code>repeat</code> å¾ªç¯ä¸€ä¸ªå…ƒç´ ï¼Œè€Œ <code>circle</code> æ˜¯å¾ªç¯ä¸€ä¸ª iterator: <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="kd">let</span><span class="w"> </span><span class="n">dirs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&#34;North&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;East&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;South&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;West&#34;</span><span class="p">];</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">spin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dirs</span><span class="p">.</span><span class="n">iter</span><span class="p">().</span><span class="n">cycle</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">spin</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="o">&amp;</span><span class="s">&#34;North&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">spin</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="o">&amp;</span><span class="s">&#34;East&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">spin</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="o">&amp;</span><span class="s">&#34;South&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">spin</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="o">&amp;</span><span class="s">&#34;West&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">spin</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="o">&amp;</span><span class="s">&#34;North&#34;</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">spin</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="o">&amp;</span><span class="s">&#34;East&#34;</span><span class="p">));</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æŠŠ4ä¸ª iterator ç»„åˆèµ·æ¥çš„ <code>repeat(&quot;&quot;).take(2).chain(once(&quot;fizz&quot;)).cycle();</code> è¡¨è¾¾å¼çš„æ„æ€å°±æ˜¯: è¿”å›ä¸€ä¸ª iterator, è¿™ä¸ª iterator æ— é™å¾ªç¯: <code>&quot;&quot; &quot;&quot; &quot;fizz&quot; &quot;&quot; &quot;&quot; &quot;fizz&quot; ...</code> <br/></p>
<h3 id="zip"><span class="section-num">3.5</span> zip</h3>
<p><code>zip</code> iterator çš„å«ä¹‰å°±æ˜¯ &ldquo;zips up&rdquo;, ç¿»è¯‘è¿‡æ¥å°±æ˜¯æ‹‰ä¸Šæ‹‰é“¾ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯æŠŠä¸¤ä¸ª <code>iterator</code> åƒæ‹‰é“¾ä¸€æ ·æ‹‰èµ·æ¥ï¼Œè¿”å›ä¸€ä¸ª iteratorï¼Œç”¨ä»£ç æ¥è§£é‡Šä¼šæ›´ç›´è§‚: <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="kd">let</span><span class="w"> </span><span class="n">a1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">];</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">a2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">];</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a1</span><span class="p">.</span><span class="n">iter</span><span class="p">().</span><span class="n">zip</span><span class="p">(</span><span class="n">a2</span><span class="p">.</span><span class="n">iter</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">((</span><span class="o">&amp;</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="mi">4</span><span class="p">)));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">((</span><span class="o">&amp;</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="mi">5</span><span class="p">)));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">Some</span><span class="p">((</span><span class="o">&amp;</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="mi">6</span><span class="p">)));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="fm">assert_eq!</span><span class="p">(</span><span class="n">iter</span><span class="p">.</span><span class="n">next</span><span class="p">(),</span><span class="w"> </span><span class="nb">None</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><code>zip</code> å°±æ˜¯æŠŠ <code>a1</code> å’Œ <code>a2</code> ä¸¤ä¸ªiterator ã€Œæ‹‰èµ·æ¥ã€äº†ï¼Œæ¯æ¬¡è¿”å›ä¸€å¯¹çš„å…ƒç´ . æ‰€ä»¥ <code>fizzes.zip(buzzes)</code> ï¼Œå°±æ˜¯åˆå¹¶äº†ä¸¤ä¸ª iterator : <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="c1">// fizzes: &#34;&#34; &#34;&#34; &#34;fizz&#34; &#34;&#34; &#34;&#34; &#34;fizz&#34; &#34;&#34; &#34;&#34; &#34;fizz&#34; ..
</span></span></span><span class="line"><span class="cl"><span class="c1">// buzzes: &#34;&#34; &#34;&#34; &#34;&#34; &#34;&#34; &#34;buzz&#34; &#34;&#34; &#34;&#34; &#34;&#34; &#34;&#34; &#34;buzz&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1">// fizzes_buzzes: (&#34;&#34; &#34;&#34;) (&#34;&#34; &#34;&#34;) (&#34;fizz&#34; &#34;&#34;) (&#34;&#34; &#34;&#34;) (&#34;&#34; &#34;buzz&#34;) ...
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>è€Œ <code>(1..=100).zip(fizzes_buzzes)</code> å°±æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå…ƒç´ çš„ tupleï¼š <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="c1">// (1..=100): 1 2 3 4 5 6 7 ...
</span></span></span><span class="line"><span class="cl"><span class="c1">// fizzes_buzzes: (&#34;&#34; &#34;&#34;) (&#34;&#34; &#34;&#34;) (&#34;fizz&#34; &#34;&#34;) (&#34;&#34; &#34;&#34;) (&#34;&#34; &#34;buzz&#34;) ...
</span></span></span><span class="line"><span class="cl"><span class="c1">// (1..=100).zip(fizzes_buzzes): (1 (&#34;&#34; &#34;&#34;)) (2 (&#34;&#34; &#34;&#34;)) (3 (&#34;fizz&#34; &#34;&#34;)) (4 (&#34;&#34; &#34;&#34;)) (5 (&#34;&#34; &#34;buzz&#34;)) ..
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="map"><span class="section-num">3.6</span> map</h3>
<p><code>map</code> è¿™ä¸ª iterator åœ¨å…¶ä»–è¯­è¨€ä¹Ÿæœ‰ç›¸åŒçš„å®ç°ï¼Œå…¥å‚æ˜¯ä¸€ä¸ªé—­åŒ…å‡½æ•°ï¼Œç„¶åæŠŠæ¯ä¸ªå…ƒç´ ä½œä¸ºå…¥å‚ï¼Œè°ƒç”¨é—­åŒ…å‡½æ•°ï¼Œåœ¨æ–°çš„è¿­ä»£è¿”å›å‡½æ•°çš„è°ƒç”¨ç»“æœ. <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="o">|</span><span class="n">tuple</span><span class="o">|</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">tuple</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="s">&#34;&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;&#34;</span><span class="p">))</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">i</span><span class="p">.</span><span class="n">to_string</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">fizz</span><span class="p">,</span><span class="w"> </span><span class="n">buzz</span><span class="p">))</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="fm">format!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{}{}</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">fizz</span><span class="p">,</span><span class="w"> </span><span class="n">buzz</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">})</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æœ€æ ¸å¿ƒçš„æ˜¯Rustçš„ pattern matching, ç”¨æ¥åŒ¹é…ä¸åŒçš„å€¼, <code>(i, (&quot;&quot;, &quot;&quot;))</code> å°±æ˜¯åŒ¹é…æ‰€æœ‰ fizz å’Œ buzzä¸º <code>(&quot;&quot;, &quot;&quot;)</code> çš„å€¼ï¼Œä»€ä¹ˆæƒ…å†µä¸‹ <code>fizz</code> å’Œ <code>buzz</code> ä¼šéƒ½ä¸º &quot;&quot; å‘¢ï¼Œæ— æ³•æ•´é™¤3ä»¥åŠæ— æ³•æ•´é™¤5çš„æ—¶å€™ï¼Œé‚£ä¹ˆå°±ç›´æ¥è¿”å›æ•°å­— <code>i</code>; <br/></p>
<p><code>(_, (fizz,buzz))</code>, <code>_</code> å°±æ˜¯é€šé…ç¬¦ï¼Œå°±æ˜¯åŒ¹é…æ‰æ‰€æœ‰å…¶ä»–çš„æƒ…å†µï¼Œæ— è®ºæ˜¯ fizz = &ldquo;&rdquo;, fizz = &ldquo;fizz&rdquo;, buzz = &quot;&quot; æˆ–è€… buzz = &ldquo;buzz&rdquo;, éƒ½æŠŠè¿”å› <code>&quot;{fizz}{buzz}&quot;</code>, ä¹Ÿå°±æ˜¯ <code>(_, (fizz,buzz))</code> åŒ¹é…äº†4ç§æƒ…å†µ. <br/></p>
<p><code>map</code> è¿­ä»£å™¨è¿”å›çš„æ˜¯ä¸€ä¸ª String, æœ€åå†åŠ  String æ‰“å°å‡ºæ¥. <br/></p>
<p>åŒæ ·æ˜¯è§£å†³é—®é¢˜ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„è§£æ³•è‚¯å®šæ˜¯çœ‹èµ·æ¥ã€Œé«˜å¤§ä¸Šã€å¾—å¤šï¼Œè¯´ä¸å®šèƒ½è®©é¢è¯•å®˜çœ¼å‰ä¸€äº®ï¼Œåˆæˆ–è€…æ˜¯æŠŠè‡ªå·±ç»•æ™•ã€‚ <br/></p>
<h2 id="zero-cost-abstraction"><span class="section-num">4</span> Zero Cost Abstraction</h2>
<p>æ‰€è°“çš„æ˜¯é›¶å¼€é”€æŠ½è±¡ï¼ˆZero Cost Abstractionï¼‰ï¼Œç”¨C++ä¹‹çˆ¶çš„è¯æ¥è§£é‡Šå°±æ˜¯: <br/></p>
<blockquote>
<p>In general, C++ implementations obey the zero-overhead principle: What you donâ€™t use, you donâ€™t pay for. And further: What you do use, you couldnâ€™t hand code any better. <br/></p>
</blockquote>
<p>æ¦‚æ‹¬æ¥è¯´ï¼Œå°±æ˜¯ä½¿ç”¨ Iterator å†™å‡ºæ¥çš„ä»£ç ï¼Œå’Œä½ è‡ªå·± for-loop æ‰‹å†™æ˜¯æ€§èƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¹¶ä¸ä¼šæœ‰é¢å¤–çš„æŠ½è±¡å¼€é”€ã€‚ <br/></p>
<p>æ¢ä¸ªè§’åº¦è®²ï¼Œä½ æ‰‹å†™çš„ä»£ç ä¹Ÿæ²¡æ³•å®ç°å¾—æ¯” Iterator æ›´å¿«ï¼Œè¡¨è¾¾åŠ›è¿˜å¯èƒ½æ²¡æœ‰é‚£ä¹ˆå¼ºã€‚ <br/></p>
<p>å¦‚æœçœ‹ä¸Šé¢çš„ Iterator å®ç°è§‰å¾—ç€å®éš¾ä»¥ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥å†æ¥ä¸€ç‰ˆå…¼å…·ä¼˜é›…ä¸ç®€æ´çš„å®ç°ï¼š <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">..=</span><span class="mi">100</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">match</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;FizzBuzz&#34;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;Fizz&#34;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;Buzz&#34;</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">(</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{}</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="reference"><span class="section-num">5</span> Reference</h2>
<ul>
<li>Programming Rust, 2nd edition <br/></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>Rustæ¨¡æ‹ŸC&#43;&#43;çš„å‡½æ•°é‡è½½</title>
      <link>https://ramsayleung.github.io/zh/post/2024/rust%E6%A8%A1%E6%8B%9Fc&#43;&#43;%E7%9A%84%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD/</link>
      <pubDate>Fri, 30 Aug 2024 22:23:00 -0700</pubDate>
      <guid>https://ramsayleung.github.io/zh/post/2024/rust%E6%A8%A1%E6%8B%9Fc&#43;&#43;%E7%9A%84%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD/</guid>
      <description>1 å‡½æ•°é‡è½½(function overloading) æ‰€è°“çš„å‡½æ•°é‡è½½ï¼ŒæŒ‡çš„æ˜¯æŸäº›è¯­è¨€æ”¯æŒåˆ›å»ºå‡½æ•°åç›¸åŒï¼Œä½†å‡½æ•°ç­¾åä¸åŒçš„å¤šä¸ªå‡½æ•°ï¼Œæ‰€è°“çš„å‡½æ•°ç­¾åï¼Œæ—¢æŒ‡å‚æ•°ç±»å‹ï¼Œä¹ŸæŒ‡</description>
      <content:encoded><![CDATA[<h2 id="å‡½æ•°é‡è½½--function-overloading"><span class="section-num">1</span> å‡½æ•°é‡è½½(function overloading)</h2>
<p>æ‰€è°“çš„å‡½æ•°é‡è½½ï¼ŒæŒ‡çš„æ˜¯æŸäº›è¯­è¨€æ”¯æŒåˆ›å»ºå‡½æ•°åç›¸åŒï¼Œä½†å‡½æ•°ç­¾åä¸åŒçš„å¤šä¸ªå‡½æ•°ï¼Œæ‰€è°“çš„å‡½æ•°ç­¾åï¼Œæ—¢æŒ‡å‚æ•°ç±»å‹ï¼Œä¹ŸæŒ‡å‚æ•°çš„æ•°é‡ã€‚ <br/></p>
<p>å¦‚C++ï¼ŒJavaéƒ½æ˜¯æ”¯æŒå‡½æ•°é‡è½½çš„ï¼Œè€ŒRustæ˜¯ä¸æ”¯æŒå‡½æ•°é‡è½½çš„, ä¸ªäººçŒœæµ‹å¯èƒ½æ˜¯Rustæœ€åˆçš„è®¾è®¡è€…è®¤ä¸ºå‡½æ•°é‡è½½å¯èƒ½ä¼šå¯¼è‡´å¢åŠ ä»£ç ç†è§£éš¾åº¦ï¼Œå°¤å…¶æ˜¯åœ¨C++é‡Œé¢ï¼Œéšå¼ç±»å‹è½¬æ¢å åŠ å‡½æ•°é‡è½½ï¼Œå¯èƒ½çœ‹ä»£ç éƒ½çœ‹ä¸å‡ºå®é™…è°ƒç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„å‡½æ•°ã€‚ <br/></p>
<h2 id="rustç‰ˆæœ¬çš„å‡½æ•°é‡è½½"><span class="section-num">2</span> Rustç‰ˆæœ¬çš„å‡½æ•°é‡è½½</h2>
<p>ä½†æ˜¯æˆ‘ä¸ªäººè§‰å¾—å‡½æ•°é‡è½½åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯å¾ˆæ–¹ä¾¿ï¼Œä¹Ÿä¸éœ€è¦ä¸ºç›¸åŒçš„å‡½æ•°æƒ³ä¸åŒçš„åå­—ï¼Œæ¯•ç«Ÿå‘½åæ˜¯ç¼–ç¨‹æœ€éš¾çš„é—®é¢˜ä¹‹ä¸€ã€‚ <br/>
ä»Šå¤©é‡è¯» Programming Rust, 2nd Editionå…³äº <code>Into</code> è¿™ä¸ªtrait çš„åŠŸèƒ½çš„æ—¶å€™ï¼Œçªç„¶æ„è¯†åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ <code>Into</code> æ¨¡æ‹Ÿå‡ºéƒ¨åˆ†çš„å‡½æ•°é‡è½½åŠŸèƒ½ã€‚ <br/></p>
<p>ä¸ºä»€ä¹ˆè¯´æ˜¯ã€Œéƒ¨åˆ†ã€å‘¢ï¼Œå› ä¸ºå‰æ–‡æåˆ°ï¼Œæ‰€è°“çš„å‡½æ•°é‡è½½æ˜¯æŒ‡å¤šä¸ªåŒåä½†å‡½æ•°ç­¾åä¸ä¸€æ ·çš„å‡½æ•°ï¼Œè€ŒRustèƒ½æ¨¡æ‹Ÿçš„å°±æ˜¯å‚æ•°ç±»å‹ä¸ä¸€æ ·ï¼Œä½†æ˜¯å‚æ•°æ•°é‡ä¸€è‡´çš„é‡è½½å‡½æ•°ã€‚ <br/></p>
<p>å‡è®¾æˆ‘ä»¬æƒ³å®ç°è‡ªå·±çš„ <code>ping</code> å‘½å, å…¥å‚å¯ä»¥æ˜¯ <a href="https://doc.rust-lang.org/std/net/struct.Ipv4Addr.html"><code>Ipv4Addr</code></a> è¿™ä¸ª struct, ipv4çš„åœ°å€ä¹Ÿå¯ä»¥ä½¿ç”¨2è¿›åˆ¶æ¥è¡¨ç¤º, åˆæˆ–è€…å¯ä»¥ä½¿ç”¨ u32 æ¥è¡¨ç¤ºï¼Œæ¯•ç«Ÿåªæœ‰32ä½ã€‚ <br/></p>
<p>å¦‚æœç”¨ C++, æˆ‘ä»¬å¯ä»¥å†™3ä¸ªé‡è½½å‡½æ•°ï¼Œå…¥å‚åˆ†åˆ«æ˜¯, <code>Ipv4Addr</code>, <code>bitset</code> å’Œ <code>uint32</code>. åœ¨ Rust, æˆ‘ä»¬ä¹Ÿå®ç°ç±»ä¼¼çš„å‡½æ•°ï¼š <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">net</span>::<span class="n">Ipv4Addr</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">fn</span> <span class="nf">ping</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span><span class="p">(</span><span class="n">address</span>: <span class="nc">A</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">std</span>::<span class="n">io</span>::<span class="nb">Result</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">A</span>: <span class="nb">Into</span><span class="o">&lt;</span><span class="n">Ipv4Addr</span><span class="o">&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">ipv4_address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">address</span><span class="p">.</span><span class="n">into</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">..</span><span class="p">.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢å‡½æ•°çš„å…¥å‚å¹¶ä¸æ˜¯ <code>Ipv4Addr</code>, è€Œæ˜¯ <code>Into&lt;Ipv4Addr&gt;</code> ï¼Œè¿™å°±æ˜¯æ„å‘³ç€ï¼Œæ‰€æœ‰å®ç°äº† <code>Into&lt;Ipv4Addr&gt;</code> è¿™ä¸ª trait çš„ç±»å‹éƒ½å¯ä»¥æ˜¯ <code>ping</code> çš„å…¥å‚ï¼Œè€Œæ°å¥½ <code>u32</code> å’Œ <code>[u8; 4]</code> éƒ½å®ç°äº† <code>Into&lt;Ipv4Addr&gt;</code> ï¼Œæ‰€ä»¥ä¸‹é¢çš„è°ƒç”¨éƒ½æ˜¯ç¼–è¯‘é€šè¿‡çš„ï¼š <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{:?}</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">ping</span><span class="p">(</span><span class="n">Ipv4Addr</span>::<span class="n">new</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w"> </span><span class="mi">68</span><span class="p">,</span><span class="w"> </span><span class="mi">141</span><span class="p">)));</span><span class="w"> </span><span class="c1">// pass an Ipv4Addr
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{:?}</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">ping</span><span class="p">([</span><span class="mi">66</span><span class="p">,</span><span class="w"> </span><span class="mi">146</span><span class="p">,</span><span class="w"> </span><span class="mi">219</span><span class="p">,</span><span class="w"> </span><span class="mi">98</span><span class="p">]));</span><span class="w">             </span><span class="c1">// pass a [u8; 4]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{:?}</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">ping</span><span class="p">(</span><span class="mh">0xd076eb94_</span><span class="k">u32</span><span class="p">));</span><span class="w">                 </span><span class="c1">// pass a u32
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å½“ç„¶ï¼Œå¦‚æœä½ å®ç°äº† <code>impl From&lt;u32&gt; for Ipv4Addr</code>, Rust ç¼–è¯‘å™¨ä¹Ÿä¼šè´´å¿ƒåœ°å¸®ä½ æŠŠåå‘çš„ <code>Into&lt;Ipv4Addr&gt;</code> ä¹Ÿå®ç°æ‰ã€‚ <br/></p>
<h2 id="é™åˆ¶"><span class="section-num">3</span> é™åˆ¶</h2>
<p>çœ‹å®Œä¸Šé¢çš„å‡½æ•°å®ç°ï¼Œæœ‰ç»éªŒçš„æœ‹å‹å¯èƒ½å°±ä¼šå‘ç°äº†ï¼ŒRustç‰ˆæœ¬çš„å‡½æ•°é‡è½½é™åˆ¶æ¯”C++çš„è¦å¤šã€‚ <br/></p>
<p>åœ¨C++ç‰ˆæœ¬çš„å‡½æ•°é‡è½½ä¸­ï¼š <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">func1</span><span class="p">(</span><span class="n">Type1</span> <span class="n">foo</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">func1</span><span class="p">(</span><span class="n">Type2</span> <span class="n">bar</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å‚æ•°ç±»å‹ <code>Type1</code> å’Œ <code>Type2</code> å¹¶ä¸éœ€è¦å­˜åœ¨ä»»ä½•å…³ç³»ï¼Œä½†æ˜¯åœ¨ Rust ç‰ˆæœ¬ä¸­ï¼Œéœ€è¦ä¸¤ä¸ªç±»å‹ä¹‹é—´æ”¯æŒç›¸äº’è½¬æ¢ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£æˆ Rust çš„ã€Œå‡½æ•°é‡è½½ã€æœ¬è´¨å°±æ˜¯é€šè¿‡æ˜¾ç¤ºç±»å‹è½¬æ¢æ¥å®ç°çš„ã€‚ <br/></p>
<p>æ¯•ç«Ÿ Rust è®¾è®¡åˆè¡·ä¹‹ä¸€å°±æ˜¯æ”¯æŒå¼ºç±»å‹ï¼Œå°±å‡½æ•°é‡è½½è€Œè¨€ï¼Œç»ˆå½’èŠèƒœäºæ— å•¦ã€‚ <br/></p>
<h2 id="å‚è€ƒ"><span class="section-num">4</span> å‚è€ƒ</h2>
<ul>
<li><a href="https://www.oreilly.com/library/view/programming-rust-2nd/9781492052586/">Programming Rust, 2nd Edition</a> <br/></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>ã€Šèµ°å‡ºæˆˆå£ã€‹ï¼šä»æ²™æ¼ è‹¦åŠ›åˆ°å¸¸é’è—¤æ•™æˆ</title>
      <link>https://ramsayleung.github.io/zh/post/2024/%E8%B5%B0%E5%87%BA%E6%88%88%E5%A3%81/</link>
      <pubDate>Sun, 25 Aug 2024 11:24:00 -0700</pubDate>
      <guid>https://ramsayleung.github.io/zh/post/2024/%E8%B5%B0%E5%87%BA%E6%88%88%E5%A3%81/</guid>
      <description>1 å‰è¨€ å…­æœˆä»½çš„æ—¶å€™ï¼Œè¯»åˆ°äº†ä¸€ç¯‡åä¸ºã€Šè¿æ°”ä¸åŠªåŠ›ã€‹1çš„æ–‡ç« ï¼Œæ˜¯ç”± LeanCloudçš„åˆ›å§‹äººæ±Ÿå®åšå£«å†™çš„ï¼Œæ–‡ç« ä»¥ä¸€æœ¬ä¹¦å¼€ç¯‡ï¼Œå¼•å‡ºä»–å…³äºè¿æ°”ä¸åŠªåŠ›</description>
      <content:encoded><![CDATA[<h2 id="å‰è¨€"><span class="section-num">1</span> å‰è¨€</h2>
<p>å…­æœˆä»½çš„æ—¶å€™ï¼Œè¯»åˆ°äº†ä¸€ç¯‡åä¸ºã€Š<a href="https://1byte.io/articles/luck/">è¿æ°”ä¸åŠªåŠ›</a>ã€‹<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>çš„æ–‡ç« ï¼Œæ˜¯ç”± LeanCloudçš„åˆ›å§‹äººæ±Ÿå®åšå£«å†™çš„ï¼Œæ–‡ç« ä»¥ä¸€æœ¬ä¹¦å¼€ç¯‡ï¼Œå¼•å‡ºä»–å…³äºè¿æ°”ä¸åŠªåŠ›çš„æ€è€ƒ:(æ–‡ç« å†™å¾—ç›¸å½“çœŸè¯šï¼Œå……æ»¡æ´è§ï¼Œä¹Ÿæ¨èå¤§å®¶é˜…è¯»ä¸‹) <br/></p>
<blockquote>
<p>å¾ˆå¤šäººæ„è¯†ä¸åˆ°è¿æ°”çš„é‡è¦æ€§ï¼Œè€Œé”™æŠŠæˆåŠŸå½’åŠŸäºè‡ªå·±çš„æ‰èƒ½å’ŒåŠªåŠ›ï¼Œ <br/>
å´æ²¡æœ‰æ„è¯†åˆ°å¥½è¿åœ¨å…¶ä¸­çš„é‡è¦æ€§ã€‚å¿½è§†äº†è¿™ä¸€ç‚¹å°±éš¾ä»¥ä¿æŒè°¦è™šï¼Œéš¾ä»¥ä¸æ–­å­¦ä¹ ã€‚ <br/></p>
<p>æ˜ç™½äº†è¿æ°”çš„é‡è¦æ€§ï¼Œå°±çŸ¥é“ä¸æ˜¯äººäººç”Ÿè€Œèƒ½å¾—åˆ°å¹³ç­‰çš„æœºä¼šçš„ï¼Œ <br/>
åœ¨é‡åˆ°å¤„å¢ƒä¸å¦‚è‡ªå·±çš„äººï¼Œä¸èƒ½å‡è®¾è¿™ç§å·®åˆ«æ˜¯èªæ˜æˆ–åŠªåŠ›ç¨‹åº¦çš„ä¸åŒé€ æˆçš„ï¼Œåº”è¯¥çŸ¥é“å–„å¾…å¼±è€…ã€‚ <br/></p>
</blockquote>
<p>è€Œæ–‡ç« å¼€ç¯‡æåˆ°çš„ä¹¦åä¸º(Out of the Gobi: My story of China and America)ã€Šèµ°å‡ºæˆˆå£ï¼šæˆ‘çš„ä¸­ç¾æ•…äº‹ã€‹, ä½œè€…å•ä¼Ÿå»ºåœ¨è¯»å®Œå°å­¦ä¹‹åï¼Œå°±è¢«æ–‡é©çš„çŸ¥é’ä¸‹ä¹¡è¿åŠ¨æ„Ÿå¬ï¼Œã€Œè‡ªæ„¿ã€ä¸‹æ”¾åˆ°å†…è’™å¤ç”Ÿäº§å»ºè®¾å…µå›¢åšäº†å…­å¹´çš„è‹¦åŠ›ã€‚ <br/></p>
<p>æ–‡é©åï¼Œæ²¡æ‹¿åˆ°å°å­¦æ¯•ä¸šè¯çš„ä»–è¿›å…¥äº†é¦–éƒ½ç»æµè´¸æ˜“å¤§å­¦ï¼Œä¹‹ååœ¨æ—§é‡‘å±±å¤§å­¦è·å¾—äº† MBAï¼Œ <br/>
åœ¨ UC Berkeley å–å¾—åšå£«å­¦ä½ï¼Œåæ¥åœ¨ University of Pennsylvania ä»»æ•™ã€‚ <br/></p>
<p>ç°åœ¨ä»–æ˜¯äºšæ´²æœ€å¤§çš„ç§å‹ŸåŸºé‡‘ä¹‹ä¸€ PAG Group çš„ä¸»å¸­å’Œ CEOï¼Œè€Œä»–å½“æ—¶åœ¨UC Berkeleyçš„å¯¼å¸ˆï¼Œç°åœ¨ä¹Ÿæˆä¸ºäº†ç¾å›½è´¢æ”¿éƒ¨çš„éƒ¨é•¿ï¼Œå³Janet Yellen (çå¦®ç‰¹Â·è€¶ä¼¦), å¥¹ä¸ºæœ¬ä¹¦ä½œäº†åºã€‚ <br/></p>
<p>å¯¹äºè¿™æ ·ä¼ å¥‡çš„äººç”Ÿç»å†ï¼Œæˆ‘è‡ªç„¶ä¹Ÿæ˜¯å¸Œæœ›ä¸€è¯»ç©¶ç«Ÿã€‚ <br/></p>
<h2 id="ä¸ä»¥ç‰©å–œ-ä¸ä»¥å·²æ‚²"><span class="section-num">2</span> ä¸ä»¥ç‰©å–œï¼Œä¸ä»¥å·²æ‚²</h2>
<p>ä¸å°‘è‡ªä¼ æˆ–è€…å›äº¿ç±»çš„ä¹¦ç±çœ‹èµ·æ¥ï¼Œéš¾å…ä¼šæœ‰ä¸€ç§è‡ªå¹è‡ªæ“‚çš„æ„Ÿè§‰ï¼Œè¿™ä¹Ÿæ˜¯äººä¹‹å¸¸æƒ…ã€‚ <br/></p>
<p>åªæ˜¯åœ¨æœ¬ä¹¦çš„ä½œè€…å´æ˜¯ç”¨ä¸€ç§äº‘æ·¡é£è½»ï¼Œç•¥å¸¦äº›å¹½é»˜çš„å£å»æ¥æå†™åœ¨æˆˆå£æ»©çš„è‰°è‹¦ç”Ÿæ´»ï¼Œä»¥è‡³äºé‚£æ ·ç—›è‹¦çš„ç”Ÿæ´»ï¼Œ <br/>
åœ¨ä½œè€…ç¬”ä¸‹ï¼Œéƒ½æ˜¾å¾—ä¸é‚£ä¹ˆç—›è‹¦äº†ã€‚ <br/></p>
<p>å¯èƒ½æ­£å¦‚åŒæ ·è¢«ä¸‹æ”¾åˆ°æˆˆå£æ»©çš„æ°‘èˆªæœºé•¿è€æ˜“æ•™è¯²ä½œè€…é‚£èˆ¬ï¼Œâ€œå‰é¢çš„è·¯è¿˜å¾ˆé•¿ï¼Œæ‰€æœ‰å¿«ä¹çš„äº‹æƒ…éƒ½ä¼šç»“æŸï¼Œæ‰€æœ‰çš„æ‚²ä¼¤ä¹Ÿæ˜¯å¦‚æ­¤â€ <br/></p>
<p>ä¹¦ä¸­æœ‰å¾ˆå¤šåŠ¨äººçš„ç»å†ï¼Œæˆ‘å°è±¡æ¯”è¾ƒæ·±çš„æ˜¯ä»¥ä¸‹çš„å‡ ä¸ªæ•…äº‹ï¼š <br/></p>
<h2 id="æˆˆå£ç”Ÿæ´»"><span class="section-num">3</span> æˆˆå£ç”Ÿæ´»</h2>
<h3 id="ç†æƒ³ä¸ç°å®"><span class="section-num">3.1</span> ç†æƒ³ä¸ç°å®</h3>
<p>çŸ¥è¯†é’å¹´ä¸‹ä¹¡ï¼Œå“åº”å·å¬ï¼Œæ¥å—è´«ä¸‹ä¸­å†œå†æ•™è‚²ï¼›å‚åŠ å»ºè®¾å…µå›¢ï¼Œä¸ºå›½æˆŒè¾¹ï¼Œå»ºè®¾å›½å®¶ã€‚ <br/></p>
<p>è¿™ä¸ªæ˜¯ä»–ä»¬ç¦»å®¶æ—¶çš„ç†æƒ³ä¸ç›®æ ‡ï¼Œä½†å®é™…çš„æƒ…å†µå´ä¸ä»–ä»¬å¹»æƒ³å¾—å¤©å·®åœ°åˆ«ï¼› <br/></p>
<p>ä¸€ç¾¤å¹´è½»äººç§‹å¤©å»å›½è¥å†œåœºé‡Œæ”¶åœŸè±†ï¼ŒæŒ–äº†æ— æ•°çš„åœŸè±†ï¼Œä½†æ˜¯å´æ²¡æœ‰äººæ¥è¿åœŸè±†ï¼Œä»–ä»¬ä¹Ÿåªèƒ½çœ¼ççåœ°çœ‹ç€è¢«æŒ–å‡ºæ¥çš„åœŸè±†è¢«å†»çƒ‚ï¼Œ <br/>
ä¸åœåœ°æ”¶è·åœŸè±†ï¼Œå´åˆä¸åœåœ°çœ‹ç€æ”¶è·å¥½çš„åœŸè±†è¢«å†»çƒ‚åœ¨åœ°é‡Œï¼Œå¾ªç¯å¾€å¤ï¼Œç›´åˆ°ä¸å†æœ‰æŒ–åœŸè±†çš„å¿µå¤´ã€‚ <br/></p>
<p>å…µå›¢é¢†å¯¼äººå¸Œæœ›å¯ä»¥æŠŠæˆˆå£å˜æˆæ²ƒé‡ï¼Œæ€è·¯å°±æ˜¯é€šè¿‡æŒ–æ˜äººå·¥è¿æ²³ï¼ŒæŠŠæ²³é‡Œçš„æ°´å¼•åˆ°æˆˆå£è¿›è¡ŒçŒæº‰ï¼Œ <br/>
ç”šè‡³æœ‰ä¸€å¤©ï¼Œä½œè€…ä»–ä»¬è¢«å‘ŠçŸ¥å¿…é¡»è¿å¤œèµ¶å·¥å®Œæˆè¿æ²³ï¼Œä»¥èµ¶ä¸Šæœ€åé™æœŸï¼Œåœ¨å®Œæˆä¹‹å‰ï¼Œä»–ä»¬ä¸èƒ½ç¦»å¼€ã€‚ <br/></p>
<p>å°±è¿™æ ·ï¼Œè¿™ç¾¤å¹´è½»äººè¿ç»­åœ¨è¿æ²³ä¸Šå·¥ä½œäº†31ä¸ªå°æ—¶ï¼Œç»ˆäºå®Œæˆäº†äººå·¥è¿æ²³çš„å»ºè®¾ã€‚ <br/></p>
<p>ä¸€å‘¨åï¼Œä»–ä»¬è¢«å‘ŠçŸ¥ï¼Œè¿æ²³çš„è·¯çº¿è¢«è¯¯ç®—äº†ï¼Œä»–ä»¬å»ºé€ çš„é‚£éƒ¨åˆ†å¤ªé«˜äº†ï¼Œæ°´æ— æ³•æµè¿‡ï¼Œé‚£éƒ¨åˆ†å¿…é¡»è¢«æ”¾å¼ƒï¼Œå¦å»ºä¸€æ¡æ–°è·¯çº¿ã€‚ <br/></p>
<p>å†›é˜Ÿå»ºè®®å…µå›¢å¯¹æ”¹å–„è´«å›°å†œæ‘æ²¡æœ‰ä»»ä½•å¸®å¿™ï¼Œäº‹å®ä¸Šï¼Œä»–ä»¬åªæ˜¯è®©äº‹æƒ…å˜æˆæ›´ç³Ÿç³•ï¼Œä»–ä»¬æ¯å¤©æ¶ˆè€—çš„ç²®é£Ÿæ˜¯ç”Ÿäº§çš„ä¸‰åˆ°å››å€ï¼Œ <br/>
ä»–ä»¬å·¥ä½œè¶ŠåŠªåŠ›ï¼Œæµªè´¹çš„èµ„æºå°±è¶Šå¤šã€‚ <br/></p>
<p>å…µå›¢åªæ˜¯æƒ³ç»™ä»–ä»¬æ‰¾äº›äº‹æƒ…åšï¼Œä¸è®©ä»–ä»¬é—²ä¸‹æ¥ã€‚ <br/></p>
<h3 id="åŠªåŠ›-æ™ºæ…§ä¸è¿æ°”"><span class="section-num">3.2</span> åŠªåŠ›ï¼Œæ™ºæ…§ä¸è¿æ°”</h3>
<p>åœ¨è¿™æ ·çš„æŠ˜è…¾ä¸‹ï¼Œå…­å¹´æ—¶é—´ï¼Œéš¾å…ä¼šè®©æŠŠäººçš„å¿—æ°”ç»™ç£¨æ²¡ï¼Œå˜å¾—éšå¤§æµï¼Œç£¨æ´‹å·¥ã€‚ <br/></p>
<p>å†œåœºä¸Šå¤§å¤šæ•°äººéƒ½ä¸å»ç”°é‡Œå·¥ä½œï¼Œä½†ä»–è¿˜åœ¨æ¯å¤©å·¥ä½œï¼Œ ä½œè€…çš„å¿ƒæ€æ˜¯ã€Œå¹²ä»€ä¹ˆäº‹éƒ½è¦å¹²å¥½ï¼Œå¦åˆ™é—²ç€ä¹Ÿæ˜¯æµªè´¹æ—¶é—´ï¼Œè€Œä¸”äº‰å¼ºå¥½èƒœï¼Œè™½ç„¶èº«ä½“ç˜¦å¼±ï¼Œä½†ä¸ç”˜äººåï¼Œå¦‚æ­¤è€Œå·²ã€‚ã€ <br/></p>
<p>ä½œè€…æŠ“ä½ä¸€åˆ‡èƒ½å­¦ä¹ çš„æœºä¼šï¼Œé˜…è¯»èƒ½è¯»åˆ°çš„å„ç§ä¹¦ç±ï¼Œå‘åŒæ ·è¢«æµæ”¾çš„å‰æ°‘èˆªæœºé•¿å­¦ä¹ è‹±è¯­ï¼ŒèƒŒè¯µè¯å“çš„è‹±æ–‡åå­—ï¼Œ <br/>
å¸Œæœ›æœ‰ä¸€å¤©èƒ½é‡æ–°å›åˆ°åŸå¸‚ï¼Œèƒ½å›åˆ°å¤§å­¦æ ¡å›­ã€‚ <br/></p>
<p>1971å¹´ï¼Œå¤§å­¦é€æ¸æ¢å¤äº†ä¸Šè¯¾ï¼Œä½†æ˜¯é‚£æ—¶çš„å…¥å­¦èµ„æ ¼å´ä¸æ˜¯è€ƒè¯•ï¼Œè€Œæ˜¯ã€Œç¾¤ä¼—æ¨èã€åˆ¶åº¦ï¼Œå³ç”±åŒé¾„äººé€‰ä¸¾äº§ç”Ÿã€‚ <br/></p>
<p>è€Œä½œè€…ä¸ä½†æ²¡æœ‰è¢«æ¨ä¸¾ä¸Šï¼Œåè€Œå› ä¸ºè°ˆåŠå¤–è¯­ï¼Œå·´é»çº½çº¦è¿™äº›å¤–å›½åŸå¸‚ï¼Œåè€Œè¢«äººä¸¾æŠ¥ï¼Œæ¸´æœ›ã€Œèµ„æœ¬ä¸»ä¹‰ç”Ÿæ´»æ–¹å¼ã€ï¼Œå¹¶è¢«ä¼—äººè¢«å£°è®¨ã€‚ <br/></p>
<p>è¿™ä¸ä»…è®©ä½œè€…å¤±å»äº†è¢«æ¨ä¸¾ä¸Šå¤§å­¦çš„æœºä¼šï¼Œè¿˜ç•™ä¸‹äº†ä¸ªååå£°ï¼Œä½†æ˜¯ä½œè€…å¹¶æ²¡æœ‰æ²‰æ²¦ï¼Œä»–åè€Œåæ€è‡ªå·±ä¸ºä½•ä¼šæˆä¸ºä¼—çŸ¢ä¹‹çš„ã€‚ <br/></p>
<p>ä»–åˆ†æä¸‹æ¥æ˜¯è‡ªå·±å¤ªä¸ä¼—ä¸åŒï¼Œåˆ«äººä¸‹æ£‹ä»–çœ‹ä¹¦ï¼Œä»–ä¸å±‘äºè¿½æ±‚è¿™äº›æ— ç”¨çš„ä¸œè¥¿ï¼Œä½†äººç»ˆç©¶æ˜¯ç¾¤ä½“æ€§åŠ¨ç‰©ï¼Œå¤ªä¸ä¼—ä¸åŒåªä¼šè¢«äººç–è¿œã€‚ <br/></p>
<p>æ‰€ä»¥ä»–å†³å®šè¦èå…¥è¿™ä¸ªé›†ä½“ï¼Œè·å¾—å¤§å®¶çš„å¥½æ„Ÿï¼Œè€Œä¸æ˜¯ä½œä¸ºä¸€ä¸ªå­¤åƒ»çš„ä¹¦å‘†å­ã€‚ <br/></p>
<p>åœ¨è§‚å¯Ÿåˆ°å¤§å®¶éƒ½å–œæ¬¢ç¯®çƒå’Œæ’çƒè¿åŠ¨ï¼Œä½†å´ç¼ºä¹ç†Ÿæ‚‰æ’çƒè§„åˆ™çš„è£åˆ¤æ—¶ï¼Œ <br/></p>
<p>ä»–è®©çˆ¶äº²å¯„ä¹¦è¿‡æ¥å­¦ç€å½“æ’çƒè£åˆ¤ï¼Œè®©æ›´å¤šå…¶ä»–è¿çš„äººè®¤è¯†ä»–ï¼Œè®©è‡ªå·±å˜æˆä¸å¯æˆ–ç¼ºï¼ŒåŒæ—¶æ›´åŠ åŠªåŠ›åœ°å·¥ä½œï¼Œèµ¢å¾—ä¼—äººçš„å°Šé‡ã€‚ <br/>
ï¼ˆèƒ½ç«™åœ¨æ—è§‚è€…è§’åº¦å†·é™åˆ†æé—®é¢˜ï¼Œå¹¶åˆ©ç”¨ç°æœ‰æ¡ä»¶è¿›è¡Œè§£å†³ï¼ŒçœŸçš„æ˜¯å……æ»¡æ™ºæ…§åˆéš¾èƒ½å¯è´µï¼‰ <br/></p>
<p>ç»ˆäºï¼Œåœ¨ç¬¬äºŒå¹´çš„å…¥å­¦èµ„æ ¼ã€Œç¾¤ä¼—æ¨èã€ä¸­ï¼Œä»–å¾—ç¥¨ç¬¬äºŒï¼Œä½†æ˜¯å´å› ä¸ºä¸è¿é˜Ÿé¢†å¯¼å…³ç³»ä¸ä½³ï¼Œ <br/>
ä»–è¢«ä»¥ã€Œå¹´çºªå¤ªè½»ï¼ˆ21å²ï¼‰ï¼Œä¸èƒ½ä¸Šå¤§å­¦ã€ä¸ºç”±ï¼ŒæŠŠä»–ä»åå•ä¸­åˆ é™¤ã€‚ <br/></p>
<p>å¾—çŸ¥æ¶ˆæ¯çš„é‚£ä¸€å¤©æ™šä¸Šï¼Œä½œè€…æ·±ä¸€è„šæµ…ä¸€è„šåœ°èµ°å‡ºè¥æˆ¿ï¼Œæ¥åˆ°ç©ºæ—·çš„åœ°æ–¹ï¼Œè¾¹èµ°è¾¹æµæ³ªï¼Œå½“å†ä¹Ÿä¸ä¼šæ²¡æœ‰äººå¬åˆ°ä»–çš„å£°éŸ³åï¼Œ <br/>
ä»–æ”¾çœ¼å¤§å“­ï¼Œåœ¨é»‘æš—ä¸­æ’•å¿ƒè£‚è‚ºåœ°å–Šå«ï¼Œåœ¨æ²®ä¸§å’Œæ‚²ä¼¤ä¸­å–Šå¾—å£°å˜¶åŠ›ç«­ã€‚ <br/></p>
<p>é‚£å¤©æ™šä¸Šåï¼Œä½œè€…æ”¶æ‹¾å¿ƒæƒ…ï¼Œå‘Šè¯«è‡ªå·±ç”Ÿæ´»å¿…é¡»ç»§ç»­ï¼Œæ€»ä¼šæœ‰æœªæ¥çš„ã€‚ <br/>
ä»–å‘èª“ä¸ä¼šè®©è‡ªå·±å¤±æœ›ï¼Œä»–å·²ç»ç»å†è¿™ä¹ˆå¤šäº†ï¼Œä½†ä»–ç»å¯¹ä¸ä¼šåœ¨ç»æœ›ä¸­è¿·å¤±è‡ªæˆ‘ï¼Œæ”¾å¼ƒå°±æ˜¯å¯¹è‡ªå·±çŠ¯ä¸‹ç½ªè¡Œã€‚ <br/></p>
<p>å¦‚æœå¤§ç¯å¢ƒä¸€ç›´å¾ˆç³Ÿç³•ï¼Œè‡ªå·±è¦åœ¨æˆˆå£å¾…ä¸€è¾ˆå­è€Œæ²¡æœ‰å‡ºå¤´ä¹‹æ—¥ï¼Œä»–æ²¡æœ‰è°å¯æ€¨ï¼› <br/>
ä½†æ˜¯å¦‚æœå°†æ¥å‘ç”Ÿå˜åŒ–ï¼Œå› ä¸ºè‡ªå·±æ²¡æœ‰å‡†å¤‡å¥½è€Œå¤±å»äº†æ”¹å˜å‘½è¿çš„æœºä¼šï¼Œä»–åªèƒ½æ€ªè‡ªå·±ã€‚ <br/></p>
<p>æ‰€ä»¥ä»–åœ¨é€†å¢ƒä¸­ä¹Ÿä¸€ç›´åœ¨ä¸ºå°†æ¥å‡†å¤‡ã€‚ <br/></p>
<p>ç»ˆäºï¼Œåœ¨ç¬¬ä¸‰å¹´ï¼Œåœ¨11äººç«é€‰9ä¸ªåé¢çš„ç«äº‰ä¸­ï¼Œä½œè€…ä½œä¸ºæœ€åä¸€åä¿®è¡¥äººé€‰ï¼Œ <br/>
åœ¨åå•ä¸­çš„ä¸¤åæ­£å¼å€™é€‰äººå…ˆåè¢«é™¤ååï¼Œé€’è¡¥å…¥é€‰ï¼Œè·å¾—äº†é¦–éƒ½ç»æµè´¸æ˜“å¤§å­¦çš„å…¥å­¦èµ„æ ¼. <br/></p>
<h2 id="è‡ªåŠ©è€…å¤©åŠ©ä¹‹"><span class="section-num">4</span> è‡ªåŠ©è€…å¤©åŠ©ä¹‹</h2>
<p>ä½œè€…åœ¨æ¯•ä¸šåæˆä¸ºé¦–ç»è´¸çš„æ•™å¸ˆï¼Œåæ¥å¾—åˆ°äºšæ´²åŸºé‡‘ä¼šèµåŠ©å‰å¾€æ—§é‡‘å±±å¤§å­¦ä¸€å¹´çš„è®¿å­¦æœºä¼šã€‚ <br/></p>
<p>åˆ°æ ¡åï¼Œåœ¨ä¸æ•™æˆä»¬äº¤æµåï¼Œä»–å†³å®šæ”»è¯»è¯¥æ ¡çš„MBA è¯¾ç¨‹å¹¶äº‰å–æ‹¿åˆ°å­¦ä½ï¼Œä½†è‹¦äºæ²¡æœ‰å­¦è´¹ï¼Œä»–å†³å®šå…ˆæŠ“ä½æœºä¼šå­¦ä¹ çŸ¥è¯†ï¼ŒçŸ¥è¯†å…ˆäºå­¦å†ï¼Œå†çœ‹èƒ½å¦æ‰¾æœºä¼šå‡‘åˆ°å­¦è´¹ã€‚ <br/></p>
<p>ç¬¬ä¸€å­¦æœŸå„é—¨è¯¾ç¨‹ä¼˜å¼‚ï¼Œä½†æ˜¯å­¦è´¹è¿˜æ˜¯æ²¡æœ‰ç€è½ï¼Œåœ¨å„ç§æ–¹æ³•å°è¯•æœªæœåå°†è¦æ”¾å¼ƒæ—¶ï¼Œ <br/>
ä»–çš„å¯¼å¸ˆç»™ä»–å¸¦æ¥äº†ä¸€ä¸ªå¥½æ¶ˆæ¯ï¼šä¸€ä¸ªåŒ¿åäººå£«æ„¿æ„èµ„åŠ©ä»–çš„å­¦è´¹ï¼Œäºæ˜¯ä»–å¾—è€Œæ³¨å†Œå¹¶å¼€å§‹MBAè¯¾ç¨‹ã€‚ <br/></p>
<p>å¾…ä»–å­¦ä¸šå°æœ‰æ‰€æˆæ—¶ï¼Œä»–å¯¼å¸ˆå‘ŠçŸ¥ä»–ï¼Œé‚£ä½åŒ¿åèµåŠ©äººå¸Œæœ›ä¸ä»–åœ¨æŸä¸ªé«˜æ¡£é¤å…å…±è¿›æ™šé¤ï¼Œç›¸è§ä¸€é¢ã€‚ <br/></p>
<p>å½“å¯¼å¸ˆå¤«å¦‡èº«ç€æ­£è£…å‡ºç°åœ¨é¤å…æ—¶ï¼Œä»–æ‰çŒ›ç„¶æ„è¯†åˆ°ï¼Œä»–ä»¬åŸæ¥å°±æ˜¯è‡ªå·±çš„èµ„åŠ©äººï¼Œä»–çš„æ„Ÿæ¿€ä¹‹æƒ…ï¼Œæ— ä»¥è¨€è¡¨ã€‚ <br/></p>
<p>å¦‚æœä¸æ˜¯ä½œè€…åœ¨å­¦ä¹ è¿‡ç¨‹æ‰€è¡¨ç°å‡ºæ¥çš„ä¸“æ³¨ï¼Œä»˜å‡ºä¸åŠªåŠ›ï¼Œç›¸ä¿¡ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå®¹æ˜“å¯ä»¥æ‰“åŠ¨åˆ°å¯¼å¸ˆï¼Œè¿™ä¹Ÿè®¸æ˜¯æ‰€è°“çš„ã€Œè‡ªåŠ©è€…å¤©åŠ©ä¹‹ã€å§ã€‚ <br/></p>
<p>å¤šå¹´ä¹‹åï¼Œå¾…ä»–äº‹ä¸šæœ‰æ‰€æˆæ—¶ï¼Œä»–ä»¥å¯¼å¸ˆä¸è‡ªå·±åå­—ï¼Œè”åæèµ äº†ä¸€ä¸ªå¥–å­¦é‡‘ï¼Œä»¥å¸®åŠ©æ›´å¤šå­¦å­è¿½æ±‚æ¢¦æƒ³ã€‚ <br/></p>
<h2 id="æ´å¯Ÿè§„åˆ™çš„æ™ºæ…§"><span class="section-num">5</span> æ´å¯Ÿè§„åˆ™çš„æ™ºæ…§</h2>
<p>åœ¨æ—§é‡‘å±±å¤§å­¦è·å¾—MBA è¯¾ç¨‹ç¡•å£«éœ€è¦2å¹´æ—¶é—´ï¼Œåœ¨å­¦è´¹é—®é¢˜å¾—è€Œè§£å†³ä¹‹åï¼Œ <br/>
ä½œè€…é¢ä¸´çš„é—®é¢˜å°±æ˜¯è®¿å­¦é¡¹ç›®åªæ˜¯ä¸€å¹´ï¼Œè¦è·å¾—å­¦ä½ï¼Œä»–å°±éœ€è¦äºšæ´²åŸºé‡‘ä¼šæ‰¹å‡†å»¶é•¿ä»–çš„é¡¹ç›®ï¼Œå¹¶ä¸”è·å¾—é¦–éƒ½ç»æµè´¸æ˜“å¤§å­¦çš„æ‰¹å‡†ã€‚ <br/></p>
<p>ä¹Ÿå°±æ˜¯æ”»è¯»ç¡•å£«å­¦ä½ä¸åœ¨é¡¹ç›®åŸæœ‰è®¡åˆ’ä¹‹å†…ï¼Œä»–å½“æ—¶å·²ç»æ˜¯é¦–éƒ½ç»æµè´¸æ˜“å¤§å­¦çš„æ•™å¸ˆï¼Œå†å»¶æœŸä¸€å¹´å±äºã€ŒèŠ‚å¤–ç”Ÿæã€ã€‚ <br/></p>
<p>åŸºé‡‘ä¼šé¢†å¯¼å®‰è¿ªè¡¨ç¤ºä»–è¦ç»™ç»è´¸å­¦é™¢çš„é¢†å¯¼å†™ä¸€å°ä¿¡ï¼Œå¾æ±‚åŒ—äº¬çš„æ„è§ã€‚ <br/></p>
<p>ä½œè€…è¡¨ç¤ºï¼Œä½ ä¸èƒ½è¿™ä¹ˆå†™ï¼Œå®‰è¿ªé—®ä¸ºä»€ä¹ˆã€‚ <br/></p>
<p>ä½œè€…å›ç­”åˆ°ï¼Œå¦‚æœä½ å¾æ±‚åŒ—äº¬æ–¹é¢çš„æ„è§ï¼Œä»–ä»¬å°±è¦ç ”ç©¶æ˜¯å¦æ‰¹å‡†ã€‚ <br/></p>
<p>åªæœ‰ä¸¤ä¸ªå¯èƒ½â€”â€”æ‰¹å‡†æˆ–è€…ä¸äºˆæ‰¹å‡†ã€‚æ‰¹å‡†äº†å½“ç„¶å¥½ï¼Œä½†æ˜¯å¦‚æœä¸äºˆæ‰¹å‡†ï¼Œæˆ‘æ€ä¹ˆåŠï¼Ÿ <br/></p>
<p>å®‰è¿ªé—®ä½œè€…è¿˜æœ‰æ›´å¥½çš„åŠæ³•å—ï¼Ÿ <br/></p>
<p>ä½œè€…è¡¨ç¤ºï¼Œä½ å°±ç»™åŒ—äº¬å‘ä¸ªè´ºç”µï¼Œè¯´æˆ‘å­¦ä¹ æˆç»©ä¼˜å¼‚ï¼Œæ ¡æ–¹å†³å®šç»™æˆ‘å¥–å­¦é‡‘ï¼Œåªéœ€å»¶æœŸä¸€ä¸ªå­¦æœŸï¼Œå°±å¯ä»¥è·å¾—ç¡•å£«å­¦ä½ï¼Œ <br/>
å¯¹äºè¿™æ ·çš„æˆç»©ï¼ŒäºšåŸºä¼šå‘å¤–è´¸å­¦é™¢è¡¨ç¤ºç¥è´ºï¼Œå…¶ä»–çš„éƒ½ä¸å¿…è¯´ã€‚ <br/></p>
<p>å®‰è¿ªå†™äº†ä¸€å°ä¿¡ï¼Œä¿¡ä¸­å¯¹ä½œè€…å¤§åŠ èµæ‰¬ï¼Œä½†å°å¿ƒåœ°å°†å¤§éƒ¨åˆ†å¥‰æ‰¿ç•™ç»™äº†ç»è´¸å­¦é™¢ã€‚ <br/></p>
<p>ä¸¤å‘¨åï¼Œå­¦é™¢å›å¤ï¼Œåªæœ‰å››ä¸ªå­—â€”â€”â€˜éå¸¸æ„Ÿè°¢â€™ã€‚ <br/></p>
<p>ä½œè€…å¿ƒèŠ±æ€’æ”¾ã€‚ <br/></p>
<p>è¯»åˆ°æ­¤å¤„ï¼ŒçœŸçš„ä¸ºä½œè€…æ·±è°™ä½“åˆ¶çš„è§„åˆ™å’Œå¤„ç†äº‹æƒ…çš„æ™ºæ…§æ‰€æŠ˜æœã€‚ <br/></p>
<p>æ­£å¦‚ä»–æ‰€æ–™ï¼Œè°èƒ½æ‹’ç»åˆ«äººçš„é“è´ºå‘¢ï¼Ÿ <br/></p>
<p>æ›´ä½•å†µæ˜¯æ¥è‡ªæ›¾ç»çš„æ•Œäººï¼Œç¾å¸å›½ä¸»ä¹‰çš„å¤¸å¥–ï¼Œè¿™è¶³ä»¥è®©å­¦é™¢é¢†å¯¼æ‰¬çœ‰åæ°”ã€‚ <br/></p>
<h2 id="æ€»ç»“"><span class="section-num">6</span> æ€»ç»“</h2>
<p>åœ¨å•ä¼Ÿå»ºå›åˆ°æ¯æ ¡æ—§é‡‘å±±å¤§å­¦<a href="https://www.youtube.com/watch?v=R0Niw73cyIo&amp;t=4304s">æ¼”è®²</a>æ—¶<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>ï¼Œå½“å¾ªä¾‹è¢«ä¸»æŒäººé—®åˆ°èƒ½ç»™å­¦ç”Ÿä»¬ä»€ä¹ˆå»ºè®®æ—¶ï¼Œä»–è¯´åœ¨ä»»ä½•é¢†åŸŸï¼ŒæˆåŠŸçš„ä¸‰ä¸ªé‡è¦è¦ç´ æ˜¯ï¼š <br/></p>
<ol>
<li>ç»ˆèº«å­¦ä¹ ï¼›å¦‚æœä»–åœ¨æˆˆå£æ²¡æœ‰åšæŒå­¦ä¹ ï¼Œé‚£ä¹ˆä»–ä¸å¯èƒ½åœ¨å¤±å­¦åå¹´åï¼Œåœ¨ä¸­å›½é‡æ–°å¼€æ”¾æ—¶ï¼Œèƒ½æŠ“ä½æ¥ä¹‹ä¸æ˜“çš„æœºä¼šï¼Œè‡ªç„¶å°±æ²¡æœ‰åæ¥çš„ä¸€åˆ‡ <br/></li>
<li>å¥½çš„åˆ¤æ–­åŠ›ï¼›å¥½çš„åˆ¤æ–­æ¯”æ¯…åŠ›æ›´åŠ é‡è¦ï¼Œåšæ­£ç¡®çš„äº‹æƒ…è¿œæ¯”æ­£ç¡®åœ°åšäº‹é‡è¦ï¼Œæ–¹å‘å¯¹äº†ï¼ŒåŠªåŠ›æ‰æœ‰æ„ä¹‰ã€‚è€Œæ²¡æœ‰äººç”Ÿæ¥å°±æœ‰å¥½çš„åˆ¤æ–­åŠ›ï¼Œè¿™ä¸ªå°±æºäºç»éªŒï¼ŒçŸ¥è¯†ï¼Œå°±éœ€è¦ä¸æ–­åœ°å­¦ä¹ æ‰èƒ½è·å–åˆ°ï¼Œåˆå‘¼åº”ä¸Šã€Œç»ˆèº«å­¦ä¹ ã€äº† <br/></li>
<li>è¿æ°”ï¼›æ­£å¦‚å•ä¼Ÿå»ºçš„è§‚ç‚¹ä¸ç½—ç¿”è€å¸ˆçš„ç±»ä¼¼ï¼Œã€Œè¿æ°”å¹¶éæˆå°±ï¼Œæ˜¯å‘½è¿ä¹‹æ‰‹æŠŠæˆ‘æ‰˜ä¸¾åˆ°æ‰€ä¸é…æœ‰çš„é«˜åº¦ï¼Œè®©äººé£˜ç„¶ï¼Œè®©äººæ™•çœ©ï¼Œæœ€ç»ˆï¼Œè®©äººè¯šæƒ¶è¯šæã€ï¼Œæ„è¯†åˆ°è¿æ°”çš„é‡è¦ï¼Œæ‰èƒ½è®©äººè°¦å‘ã€‚ <br/></li>
</ol>
<p>å¯¹äºç»ˆèº«å­¦ä¹ è¿™æ¡å»ºè®®ï¼Œæˆ‘è‡ªå·²ä¹Ÿæœ‰äº›è®¸æµ…è–„ä½“ä¼šï¼Œä¸€å¹´åŠå‰ï¼Œæˆ‘å†™äº†ä¸€ç¯‡æ–‡ç« : <a href="https://ramsayleung.github.io/zh/post/2023/rspotify_%E4%B8%80%E4%B8%AA%E7%94%A8%E7%88%B1%E5%8F%91%E7%94%B5%E4%BA%94%E5%B9%B4%E7%9A%84%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/">ã€ŠRSpotify: ä¸€ä¸ªç”¨çˆ±å‘ç”µäº”å¹´çš„å¼€æºé¡¹ç›®ã€‹</a>, åˆ†äº«è‡ªå·±å­¦ä¹ äº†å…­å¹´Rustï¼Œå¹¶ä¸”ç»´æŠ¤ä¸€ä¸ªå¼€æºé¡¹ç›®çš„ç»å†ã€‚ <br/></p>
<p>åœ¨æˆ‘å¤§å­¦çš„æœ€åä¸€å¹´ï¼Œæˆ‘é€‰æ‹©äº†å­¦ä¹ Rustè¿™ä¸ªæ–°å…´çš„ç¼–ç¨‹è¯­è¨€ï¼Œè·ç¦»å½“æ—¶å®ƒå‘å¸ƒ1.0ç¨³å®šç‰ˆæœ¬ä¹Ÿä»…ä»…è¿‡äº†2å¹´ï¼Œ <br/>
æˆ‘æ—¢ä¸è§‰å¾—æˆ‘æœªæ¥çš„å·¥ä½œä¼šå› æ­¤å—ç›Šï¼Œä¹Ÿä¸ä¼šè·å–ä»€ä¹ˆé¢å¤–çš„æŠ¥é…¬ï¼Œæ¯•ç«Ÿè¿™ä¸œè¥¿å¤ªå°ä¼—äº†ï¼Œå›½å†…ä¹Ÿä¸ä¼šæœ‰å…¬å¸ä¼šç”¨ï¼Œå¤§å‚ä¸æ˜¯ç”¨Javaå°±æ˜¯ç”¨C++ã€‚ <br/></p>
<p>æˆ‘åªæ˜¯è§‰å¾—å¥½ç©ï¼Œå†å…¼ä¹‹å¤§å››æ²¡æœ‰è¯¾ï¼Œæ€»è¦å­¦ç‚¹æ–°ä¸œè¥¿ã€‚ <br/>
å°±è¿™æ ·ï¼Œä¸€å­¦å°±æ˜¯å…­ä¸ƒå¹´ï¼Œç»´æŠ¤è¿™ä¸ªç”¨Rustçš„å¼€æºé¡¹ç›®ä¹Ÿäº”å¹´äº†ï¼Œé™¤äº†ä¸æ—¶çš„Github Issue, ä¹Ÿæ²¡æœ‰å…¶ä»–çš„æ”¶ç›Šã€‚ <br/></p>
<p>åœ¨ä»Šå¹´ä¸ƒæœˆï¼Œæˆ‘åˆè¢«æ¢åˆ°äº†ä¸€ä¸ªæ–°çš„ç»„ï¼Œåˆ›ä¸‹äº†ä¸€ä¸ªä¸ªäººèŒä¸šæ–°çºªå½•ï¼Œåœ¨ä¸€å¹´ä¸‰ä¸ªæœˆå†…ï¼Œå¾…äº†4ä¸ªç»„ã€‚ <br/></p>
<p>æ–°ç»„è¿˜æ˜¯åœ¨AWS S3, è€Œæ–°ç»„é¢†å¯¼å¯¹Rustç›¸å½“ç‹‚çƒ­ï¼Œå› ä¸ºRustçš„ç‰¹ç‚¹å‡ ä¹å®Œç¾å¥‘åˆS3çš„è¦æ±‚ï¼Œ <br/>
åª²ç¾Cçš„é«˜æ€§èƒ½ï¼Œå†…å­˜å®‰å…¨ï¼Œå¼ºç±»å‹ï¼Œé«˜å¹¶å‘ï¼Œæ‰€ä»¥å¤§è€æ¿éå¸¸æƒ³è¦åœ¨æ–°æœåŠ¡ä½¿ç”¨Rust, ç¾ä¸­ä¸è¶³çš„å°±æ˜¯Rustå­¦ä¹ æ›²çº¿é™¡å³­ï¼Œæ‡‚Rustçš„äººä¸å¤šã€‚ <br/></p>
<p>è€Œæˆ‘åˆšå¥½å°±æ˜¯æ‡‚Ruståˆä¼šJavaçš„é‚£ä¸ªï¼Œæ¯•ç«Ÿéƒ½å­¦è¿™ä¹ˆä¹…äº†ï¼Œå°±è¿™æ ·æˆ‘æ— ç¼å¯¹æ¥åˆ°æ–°ç»„ï¼Œåœ¨æ–°çš„æ ¸å¿ƒæœåŠ¡ä¸Šå¼€å§‹å†™Rustï¼Œè¾¾æˆäº†é€šè¿‡å†™Rustå…»æ´»è‡ªå·±çš„æˆå°±ã€‚ <br/></p>
<p>åƒå•ä¼Ÿå»ºé‚£æ ·ï¼Œåœ¨æˆˆå£é‚£æ ·è‰°è‹¦çš„ç¯å¢ƒåšæŒå­¦ä¹ ï¼Œåœ¨å›°å¢ƒä¸­ä¿æŒä¹è§‚ï¼Œåœ¨è‹¦å„ä¸­åšæŒæˆé•¿ <br/>
ï¼Œç©·ä¸”ç›Šåšï¼Œå®ç°ä»å°å­¦æ–‡å‡­è‹¦åŠ›åˆ°å¸¸é’è—¤æ•™æˆçš„æˆå°±ï¼Œç»å¤§éƒ¨åˆ†äººè‡ªç„¶éš¾ä»¥æœ›å…¶é¡¹èƒŒã€‚ <br/></p>
<p>ä½†æ˜¯ï¼Œå¦‚æœæŠŠç»ˆèº«å­¦ä¹ ç†è§£æˆæŠ•èµ„çš„å®šæŠ•ï¼Œåªéœ€è¦æŒç»­å­¦ä¹ ï¼Œæ— è®ºæ¯å¤©ï¼Œæ¯å‘¨æˆ–è€…æ¯æœˆå­¦å¤šä¹ˆå¾®å°çš„çŸ¥è¯†ï¼Œåœ¨æ—¶é—´çš„å¤åˆ©ä½œç”¨ä¸‹ï¼Œ <br/>
ç»ˆæœ‰ä¸€å¤©ï¼Œéƒ½ä¼šæœ‰å¸¦æ¥è´¨çš„æå‡ã€‚ <br/></p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://1byte.io/articles/luck/">https://1byte.io/articles/luck/</a>  <br/>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p><a href="https://www.youtube.com/watch?v=R0Niw73cyIo&amp;t=4304s">https://www.youtube.com/watch?v=R0Niw73cyIo&amp;t=4304s</a>  <br/>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
]]></content:encoded>
    </item>
    <item>
      <title>å¤æ—¥æ•èŸ¹è®°</title>
      <link>https://ramsayleung.github.io/zh/post/2024/%E5%A4%8F%E6%97%A5%E6%8D%95%E8%9F%B9%E8%AE%B0/</link>
      <pubDate>Thu, 18 Jul 2024 20:34:00 -0700</pubDate>
      <guid>https://ramsayleung.github.io/zh/post/2024/%E5%A4%8F%E6%97%A5%E6%8D%95%E8%9F%B9%E8%AE%B0/</guid>
      <description>1 å‰è¨€ åœ¨2023å¹´ç»å†äº†å†¬å¤©å„ç§æ¼«é•¿é£é›ªé›¨é›¾åï¼Œ ç»ˆäºæ˜ç™½ä¸ºä»€ä¹ˆåŠ æ‹¿å¤§æœ¬åœ°äººåœ¨å¤å¤©å…¨éƒ½è·‘åˆ°æˆ·å¤–ç©äº†ï¼Œå› ä¸ºå¤å¤©ä¸ç©ï¼Œå†¬å¤©æ¥äº†å°±åªèƒ½å¾…åœ¨å®¤å†…çœ‹é›¨çœ‹</description>
      <content:encoded><![CDATA[<h2 id="å‰è¨€"><span class="section-num">1</span> å‰è¨€</h2>
<p>åœ¨2023å¹´ç»å†äº†å†¬å¤©å„ç§æ¼«é•¿é£é›ªé›¨é›¾åï¼Œ <br/>
ç»ˆäºæ˜ç™½ä¸ºä»€ä¹ˆåŠ æ‹¿å¤§æœ¬åœ°äººåœ¨å¤å¤©å…¨éƒ½è·‘åˆ°æˆ·å¤–ç©äº†ï¼Œå› ä¸ºå¤å¤©ä¸ç©ï¼Œå†¬å¤©æ¥äº†å°±åªèƒ½å¾…åœ¨å®¤å†…çœ‹é›¨çœ‹é›ªäº†ã€‚ <br/></p>
<p>å…­æœˆè¿‡åï¼Œå¤å¤©ç»ˆäºæ¥äº†ã€‚ <br/></p>
<h2 id="æŠ“èƒèŸ¹"><span class="section-num">2</span> æŠ“èƒèŸ¹</h2>
<p>å‘¨æœ«é—²æ¥æ— äº‹å¾…åœ¨å®¶ä¸­çœ‹è§†é¢‘ï¼Œæœ‹å‹åˆ†äº«äº†ä»–å’Œå®¶äººåˆå®¶å»æµ·è¾¹æŠ“èƒèŸ¹çš„ç…§ç‰‡ï¼Œè¯´èƒèŸ¹å¾ˆå¥½æŠ“ï¼Œçœ‹åˆ°èƒèŸ¹å›¾ç‰‡æˆ‘éƒ½æƒŠå‘†äº†ï¼Œæ€ä¹ˆä¸ªå¤´è¿™ä¹ˆå¤§ã€‚ <br/></p>
<p>ä»–è¯´æ˜å¤©è¿˜å»ç©ï¼Œå¹¶çº¦æˆ‘åŒè¡Œï¼Œåæ­£å‘¨æœ«æ²¡äº‹ï¼ŒåŒå»åŒå»ã€‚ <br/></p>
<p>å»æ•èƒèŸ¹çš„åœ°æ–¹é©±è½¦å¤§æ¦‚éœ€è¦20åˆ†é’Ÿï¼Œå« Boundary Bay Regional Parkï¼Œç¿»è¯‘è¿‡æ¥å«è¾¹å¢ƒæµ·æ¹¾åŒºåŸŸå…¬å›­ï¼Œå› ä¸ºå°±åœ¨ç¾åŠ è¾¹å¢ƒï¼Œå†å‘å—å‡ å…¬é‡Œå°±æ˜¯ç¾å›½äº†ã€‚ <br/></p>
<p>æ‰€ä»¥æˆ‘éƒ½å’Œæœ‹å‹å¼€ç©ç¬‘è¯´ï¼Œå¯èƒ½æˆ‘ä»¬æ•çš„æ˜¯ç¾å›½æ¸¸è¿‡æ¥çš„èŸ¹ï¼Œæˆ–è€…æˆ‘ä»¬å‘å—æ¸¸å‡ å…¬é‡Œï¼Œå°±åˆ°ç¾å›½äº†ã€‚ <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/boundary_bay_regional_park.jpg"/> 
</figure>
 <br/></p>
<p>æˆ‘ä»¬å»åˆ°çš„æ—¶å€™æ˜¯ä¸­åˆï¼Œæµ·æ»©è¿˜æ˜¯é€€æ½®çš„ï¼Œä»å²¸è¾¹èµ°åˆ°å¤§æµ·è¾¹è¿˜éœ€è¦æ­¥è¡Œåå¤šåˆ†é’Ÿï¼Œå¤§æ¦‚æœ‰ä¸€å…¬é‡Œçš„è·¯ç¨‹: <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/boundary_bay_regional_park2.jpg"/> 
</figure>
 <br/></p>
<p>å…‰ç€è„šï¼Œå‘æµ·æ»©æ·±å¤„èµ°å»ï¼Œèƒ½çœ‹åˆ°è¿œå¤„çš„é›ªå±±å’Œæµ·å²¸ï¼Œé€€æ½®ä¹‹åå½¢æˆçš„æ°´æ»©åœ¨å¤ªé˜³çš„ç…§è€€ä¸‹ä¹Ÿä¸ä¼šå†·å†°åˆºéª¨ï¼Œè„šè¸©ä¸‹å»ï¼Œéå¸¸å‡‰çˆ½ï¼Œæš‘æ„å…¨æ¶ˆã€‚ <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/boundary_bay_regional_park3.jpg"/> 
</figure>
 <br/></p>
<p>æˆ‘å’Œèˆå‹å› ä¸ºæ˜¯åˆæ¬¡æ•èŸ¹ï¼Œåªå¸¦äº†ä¸€ä¸ªæ°´æ¡¶å’Œä¸€æŠŠå°å°ºå­ã€‚ <br/></p>
<p>æ°´æ¡¶è‡ªç„¶æ˜¯ä¸ºäº†è£…æˆ˜åˆ©å“ï¼Œè€Œå¸¦å°ºå­çš„åŸå› æ˜¯å› ä¸ºåŠ æ‹¿å¤§è¿™è¾¹æœ‰è§„å®šï¼Œåªæœ‰å¤§äº16.5CMçš„å…¬èŸ¹æ‰èƒ½å¸¦èµ°ï¼Œ <br/>
æ‰€ä»¥æ¥æ•èŸ¹çš„äººåŸºæœ¬éƒ½ä¼šå¸¦ä¸Šå°ºå­æ¥é‡ä¸‹å°ºå¯¸æ˜¯å¦å¤Ÿå¤§ã€‚ <br/></p>
<p>çœ‹åˆ°æœ‹å‹æ‰å‘ç°æˆ‘ä»¬çš„è£…å¤‡å®åœ¨ç®€é™‹ï¼Œé™¤äº†å¿…å¤‡çš„æ¡¶å’Œå°ºå­ä¹‹å¤–ï¼Œ <br/>
æœ‹å‹è¿˜ç©¿ä¸Šæ¸”æ°‘ä¸“ç”¨çš„æ°´è£¤ï¼Œå› ä¸ºä»–è¯´è™½ç„¶æ°”æ¸©èƒ½åˆ°30å¤šåº¦ï¼Œä½†æ˜¯æµ·æ°´å¤§æ¦‚åªæœ‰10æ¥åº¦ï¼Œéå¸¸å†·å†°ï¼Œä¸ç©¿æ°´è£¤é¡¶ä¸ä½ã€‚ <br/></p>
<p>æ›´æœ‰è¶£çš„æ˜¯ï¼Œæœ‹å‹è¿˜å¸¦äº†å¤šæ”¯ç¾½æ¯›çƒæ‹ï¼Œè¯´æ˜¯æ‹¨æµ·è‰æ•èŸ¹çš„ç¥å™¨ï¼Œè§æˆ‘ä»¬ä¸¤äººä¸¤æ‰‹ç©ºç©ºï¼Œæœ‹å‹ä¾¿å„åˆ†äº†æˆ‘ä»¬ä¸€æ”¯çƒæ‹ã€‚ <br/></p>
<p>æ²¡æƒ³åˆ°ï¼Œè¿˜æ²¡æœ‰èµ°åˆ°æµ·æ»©æ·±å¤„ï¼Œå°±çœ‹åˆ°äº†ä¸€åªå¤§èƒèŸ¹åœ¨æµ…æ°´æ»©ä¸­æ™’å¤ªé˜³ï¼Œæˆ‘å…´å¥‹åœ°è¿‡å»æŠŠå®ƒæŠ“èµ·æ¥ï¼Œå¯ä»¥è¯´ä¸è´¹å¹ç°ä¹‹åŠ›ï¼š <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/dungeness_crab1.jpg"/> 
</figure>
  <br/></p>
<p>åªæ˜¯æœ‹å‹æ‹¿ä»–çš„å°ºå­è¿‡æ¥äº†é‡äº†ä¸‹ï¼Œè¯´ä¸å¤Ÿ16.5cm, æ²¡æ³•å¸¦èµ°ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå¸¦åˆ°å¤§æµ·æ·±å¤„å†æ”¾å›å». <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/crab_with_ruler.jpg"/> 
</figure>
 <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/crab_in_bucket.jpg"/> 
</figure>
 <br/></p>
<p>æ¥åˆ°å¤§æµ·æ·±å¤„ï¼Œå‘ç°é•¿æ»¡æµ·è‰ï¼Œæœ‹å‹è¯´èŸ¹å°±è—åœ¨æµ·è‰ä¸‹é¢, å¯ä»¥ç”¨ç¾½æ¯›çƒæ‹æ‹¨å¼€æµ·è‰æ¥æ‰¾èŸ¹ï¼ŒåŸæ¥ç¾½æ¯›çƒæ‹æ˜¯è¿™ä¹ˆç”¨çš„ã€‚ <br/></p>
<p>åœ¨æµ·è‰ä¸›ä¸­æ‘¸ç´¢ä¸ä¸€ä¼šå°±åˆæŠ“åˆ°ä¸€åªèŸ¹äº†ï¼Œéå¸¸å…´å¥‹åœ°åˆæ‹èµ·ç…§æ¥ï¼Œåªæ˜¯æŠŠå°ºå­æ‹¿è¿‡æ¥é‡ä¸‹ï¼Œåˆä¸å¤Ÿå¤§ï¼ŒåŸæ¥èƒ½æŠ“åˆ°çš„éƒ½æ˜¯ä¸ªå¤´ä¸å¤Ÿå¤§çš„ã€‚ <br/></p>
<p>å°±è¿™æ ·æ‰’æ‹‰äº†åŠä¸ªå°æ—¶ï¼Œä¸åœåœ°æŠ“åˆ°èŸ¹ï¼Œæ‹ç…§ï¼Œåˆæ”¾å›å»ã€‚ <br/></p>
<p>æœŸé—´è¿˜é‡åˆ°äº†ä¸€åªæ°´æ¯ï¼ŒåŸæ¥æ°´æ¯çœŸçš„æ˜¯é€æ˜çš„ï¼Œåœ¨é˜³å…‰çš„ç…§è€€ä¸‹éå¸¸æ¼‚äº®ï¼Œåªæ˜¯æˆ‘ä¸æ•¢ç¢°å®ƒï¼Œæ‹…å¿ƒå®ƒè›°æˆ‘ã€‚ <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/jellyfish.jpg"/> 
</figure>
 <br/></p>
<p>å°±è¿™æ ·ä¸åœåœ°åœ¨æµ·è‰ä¸›ä¸­æ¥å›èµ°åˆ°ï¼Œçªç„¶æ„Ÿè§‰è„šä¸‹è¸©åˆ°äº†ä»€ä¹ˆä¸œè¥¿ï¼Œè„šæ„Ÿå’Œè¸©åœ¨æ²™å­å®Œå…¨ä¸ä¸€æ ·ï¼Œæœ‰ç§åšå®æ„Ÿã€‚ <br/>
ç”¨çƒæ‹æ‹¨å¼€æµ·è‰ï¼Œå®šç›ä¸€çœ‹ï¼ŒåŸæ¥æ˜¯åªè—åœ¨æ²™é‡Œçš„å¤§èƒèŸ¹ï¼Œèµ¶ç´§æ‹›å‘¼èˆå‹ä¸€èµ·è¿‡æ¥æŒ–ï¼ŒæŒ–å‡ºæ¥ä¸€çœ‹ï¼Œè¿™ä¸ªå¤´è‚¯å®šè¶³å¤Ÿå¤§ï¼Œæ™šé¤æœ‰äº†ã€‚ <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/61115989019969294682.jpg"/> 
</figure>
 <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/crab_ruler.jpg"/> 
</figure>
 <br/></p>
<p>å¥½äº‹æˆåŒï¼Œä¸ä¸€ä¼šï¼Œæˆ‘åˆè¸©åˆ°äº†ä¸€åªå¤§èƒèŸ¹ä¸Šï¼Œæˆ‘ä»¬åˆæŠ“åˆ°äº†ä¸€åªå¤§èƒèŸ¹: <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/6111598901996929469.jpg"/> 
</figure>
 <br/></p>
<p>èˆå‹ä¸ä¸€ä¼šä¹ŸæŒ–åˆ°äº†ä¸€åªå¤§èƒèŸ¹ã€‚ <br/></p>
<p>åŸä»¥ä¸ºçš„æŠ“èƒèŸ¹ï¼Œæœ€åå˜æˆåœ¨æ²™é‡ŒæŒ–èƒèŸ¹ã€‚ <br/></p>
<p>è€Œè®©æˆ‘ä»¬æ„Ÿè§‰éå¸¸å¯æƒœçš„æ˜¯ï¼Œæ˜¯é”™è¿‡äº†ä¸¤åªä¸ªå¤´è¶…å¤§çš„å¤§èƒèŸ¹ï¼Œä¸ªå¤´çº¦æœ‰æ•´ä¸ªçƒæ‹é‚£ä¹ˆå¤§ã€‚ <br/></p>
<p>åªæ˜¯å®ƒä»¬ä¸æ˜¯æŠŠè‡ªå·±åŸ‹åœ¨æ²™é‡Œï¼Œæˆ–è€…æ˜¯èº²åœ¨æµ·è‰ä¸›é‡Œï¼Œè€Œæ˜¯åœ¨æµ·è‰è¾¹é—²é€›ï¼Œè§æˆ‘ä»¬å‘å®ƒä»¬èµ°è¿‡å»ï¼Œå°±æ¨ªç€å¾„ç›´å‘æµ·çš„æ·±å¤„èµ°å»ã€‚ <br/></p>
<p>æç€çŸ­è£¤ï¼Œæ‰‹æœºåœ¨å£è¢‹çš„æˆ‘ï¼Œç€å®æ²¡æœ‰å‹‡æ°”ä¸€å¾€æ— å‰åœ°è¿½éšå®ƒä»¬çš„è„šæ­¥æŠŠå®ƒä»¬æŠ“å›æ¥ã€‚ <br/></p>
<h2 id="å›ç¨‹"><span class="section-num">3</span> å›ç¨‹</h2>
<p>ä»ä¸­åˆ12ç‚¹ä¸€ç›´æŠ“åˆ°ä¸‹åˆ2ç‚¹å¤šå¼€å§‹æ¶¨æ½®ï¼Œå¤§æ¦‚æ€»å…±æŠ“åˆ°äº†åå¤šåªèƒèŸ¹ï¼Œå› ä¸ºå°ºå¯¸å’Œæ•°é‡çš„é™å®šï¼Œæˆ‘ä»¬æœ€ç»ˆåªå¸¦èµ°äº†3åªèƒèŸ¹ã€‚ <br/></p>
<p>æŒ‰ç…§BCçœçš„è§„å®šï¼Œæ¯äººæœ€å¤šå¯ä»¥å¯ä»¥å¸¦èµ°2åªèƒèŸ¹ï¼Œå¹¶ä¸”éœ€è¦èŠ±è´¹6åŠ å…ƒåœ¨æ”¿åºœå®˜ç½‘è´­ä¹°ä¸€ä¸ªtidal finish licence. <br/></p>
<p>åªæ˜¯ä»æˆ‘ä»¬åˆ°æµ·è¾¹ï¼Œåˆ°æˆ‘ä»¬ç¦»å¼€ï¼Œä¹Ÿå¹¶æ²¡æœ‰ä»»ä½•äººæ£€æŸ¥ä½ æŠ“çš„èƒèŸ¹æ˜¯å¦å°äºæŒ‡å®šå°ºå¯¸, æˆ–è€…æ˜¯å¦è¶…è¿‡æŒ‡å®šæ•°é‡ï¼Œæˆ–è€…æ²¡æœ‰è´­ä¹° licence å°±å¸¦èµ°ï¼Œåªæ˜¯å¤§å®¶éƒ½åœ¨éµå®ˆè§„å®šï¼Œæˆ‘ä»¬ä¹ŸåŒæ ·éµå®ˆè§„å®šã€‚ <br/></p>
<p>åœ¨è´­ä¹°å®Œtidal finish licence ä¹‹åï¼Œæ”¿åºœè¿˜ä¼šç»™ä½ å‘ä¸€å°é‚®ä»¶ï¼Œè®©ä½ è‡ªè¡Œç”³æŠ¥ä½ æŠ“åˆ°äº†ä»€ä¹ˆæ¸”è·ã€‚ <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/reporting_your_finishing_activity.jpg"/> 
</figure>
 <br/></p>
<p>åœ¨æ¶¨æ½®å›å²¸è¾¹çš„æ—¶å€™ï¼Œæˆ‘ç®—æ˜¯è§è¯†åˆ°æœ¬åœ°äººå¤å¤©åˆ°æˆ·å¤–æ¸¸ç©çš„å¿ƒæƒ…æ˜¯æœ‰å¤šä¹ˆå¼ºçƒˆäº†ï¼Œ <br/>
åœ¨ä¸€ç¾¤å¹´é’çš„å¥³å­©å­ç©¿æ³³è¡£èµ°è¿‡æµ·è¾¹ä¹‹åï¼Œåé¢ç´§è·Ÿç€ä¸€ä½è…¿ä¸Šæ‰“ç€çŸ³è†ï¼ŒåŒæ‰‹æ’‘ç€æ‹æ–ï¼Œç©¿ç€æ³³è¡£çš„å¹´è½»å¥³ç”Ÿã€‚ <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/girl_to_beach.jpg"/> 
</figure>
 <br/></p>
<p>è™½ç„¶æˆ‘ä¸çŸ¥é“æ‰“ç€çŸ³è†æ€ä¹ˆä¸‹æµ·ç©ï¼Œä½†æ˜¯éš”ç€å‡ åç±³ï¼Œæˆ‘éƒ½èƒ½æ„Ÿå—åˆ°å¥¹å¼ºçƒˆçš„ï¼Œä¸ç”˜äººåçš„æ¸¸ç©ä¹‹å¿ƒã€‚ <br/></p>
<h2 id="æ™šé¤"><span class="section-num">4</span> æ™šé¤</h2>
<p>å°±è¿™æ ·ï¼Œæˆ‘ä»¬èŠ±è´¹äº†12åŠ å…ƒï¼Œæ”¶è·äº†ä¸‰åªå‡€é‡è¶…è¿‡ä¸€æ–¤çš„å¤§èƒèŸ¹ï¼Œè¿™ç§èƒèŸ¹æ˜¯BCçœçš„ç‰¹äº§ï¼Œå« Dungeness crab, æŠŠæˆ˜åˆ©å“æ‹¿å›å®¶æ—¶ï¼Œè¿˜ä¸çŸ¥é“æ€ä¹ˆçƒ¹é¥ªï¼Œåªå¥½åœ¨ Youtube ä¸Šé¢æœç´¢äº†ä¸€ä¸‹ Dungeness crab çš„çƒ¹é¥ªæ•™ç¨‹ï¼Œä¸Šé¢çš„è§†é¢‘å¤§å¤šå°±æ˜¯æ°´ç…®èƒèŸ¹ï¼Œç€å®æä¸èµ·å•¥å…´è¶£ã€‚ <br/></p>
<p>èº«ä¸ºå¹¿ä¸œäººï¼Œé‚£å°±æ¥ä¸ªç²¤èœçš„å§œè‘±ç‚’èŸ¹ï¼Œç”±æˆ‘è¿™ä¸ªå¤©æ¡¥åº•ç‚’ç²‰çš„ç¨‹åºå‘˜æ¥å¤„ç†ï¼Œè€—æ—¶ä¸€å°æ—¶ï¼Œä»ä¸Šæ¡ˆæ¿ï¼Œåˆ°ä¸Šé¤æ¡Œï¼š <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/crab_cooking1.jpg"/> 
</figure>
 <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/crab_cooking2.jpg"/> 
</figure>
 <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/crab_cooking3.jpg"/> 
</figure>
 <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/crab_cooking4.jpg"/> 
</figure>
 <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/crab_cooking5.jpg"/> 
</figure>
 <br/></p>
<p><figure>
    <img loading="lazy" src="/ox-hugo/crab_cooking6.jpg"/> 
</figure>
 <br/></p>
<p>åƒåˆ°å®¶ä¹¡çš„å‘³é“äº†ã€‚ <br/></p>
]]></content:encoded>
    </item>
  </channel>
</rss>
