<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep | è èæ²¹ä¸å¤©å…‰å¢Ÿ</title>
<meta name=keywords content="shell,linux,grep"><meta name=description content="an introduction about grep"><meta name=author content="Ramsay Leung"><link rel=canonical href=https://ramsayleung.github.io/zh/post/2017/grep/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.e49221d19ec5f71a6d6c298762fd5b141b0b759f7129339638cb7280a05807b2.css integrity="sha256-5JIh0Z7F9xptbCmHYv1bFBsLdZ9xKTOWOMtygKBYB7I=" rel="preload stylesheet" as=style><link rel=icon href=https://ramsayleung.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ramsayleung.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ramsayleung.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://ramsayleung.github.io/apple-touch-icon.png><link rel=mask-icon href=https://ramsayleung.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://ramsayleung.github.io/zh/post/2017/grep/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css integrity=sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js integrity=sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-9MG65HQHEL"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9MG65HQHEL")}</script><meta property="og:url" content="https://ramsayleung.github.io/zh/post/2017/grep/"><meta property="og:site_name" content="è èæ²¹ä¸å¤©å…‰å¢Ÿ"><meta property="og:title" content="Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep"><meta property="og:description" content="an introduction about grep"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2017-03-13T00:00:00-07:00"><meta property="article:modified_time" content="2025-01-09T17:37:12-08:00"><meta property="article:tag" content="Shell"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Command_line"><meta property="og:image" content="https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep"><meta name=twitter:description content="an introduction about grep"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ramsayleung.github.io/zh/post/"},{"@type":"ListItem","position":2,"name":"Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep","item":"https://ramsayleung.github.io/zh/post/2017/grep/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep","name":"Linux\/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep","description":"an introduction about grep","keywords":["shell","linux","grep"],"articleBody":"æ–‡æœ¬ä¸‰å‰‘å®¢ä¹‹ Grep\ngrep - print lines matching a pattern\nä»Šå¤©æˆ‘æƒ³èŠèŠ grep è¿™ä¸ªå‘½ä»¤ï¼›æ®è¯´ï¼Œæœ‰Unix/Linux çš„åœ°æ–¹å°±ä¼šæœ‰ grep, è¿™ä¸ªå¯èƒ½æ˜¯å®‰è£…å¾—æœ€å¹¿æ³›çš„å‘½ä»¤ä¹‹ä¸€ï¼›é‚£ä¹ˆ grep æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„å‘¢ï¼Ÿ\ngrep å…¶å®æ˜¯ç”¨æ¥åœ¨æ–‡ä»¶ä¸­æœç´¢ç‰¹å®šå†…å®¹æˆ–è€…æ¨¡å¼çš„å·¥å…·(é…åˆæ­£åˆ™è¡¨è¾¾å¼â€œé£Ÿç”¨â€ï¼Œå‘³é“æ›´ä½³ :))ç°åœ¨å°±æ¥ä¸€èµ·çœ‹çœ‹*grep* çš„ç”¨æ³•\n1 åŸºæœ¬ç”¨æ³• 1.1 åŸºç¡€ç”¨æ³• ç°åœ¨å‡è®¾æœ‰ä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ–‡ä»¶(åŒåŸè®°å¼€å¤´)tinytale.txt,å†…å®¹å¦‚ä¸‹\nit was the best of times it was the worst of times it was the age of wisdom it was age of foolishness it was the epoch of belief it was the epoch of incredulity it was the season of light it was the season of darkness IT WAS THE SPRING OF HOPE IT WAS THE WINTER OF DESPAIRE\nç°åœ¨å¼€å§‹ä»‹ç» grep çš„åŸºæœ¬ç”¨æ³•ï¼š grep çš„åŸºæœ¬ç”¨æ³•å¾ˆç®€å•çš„ï¼Œå‡è®¾æˆ‘æƒ³è¦æœç´¢å•è¯ darkness\n1 grep darkness /tmp/tinytale.txt è¾“å‡ºå¦‚ä¸‹ï¼š\n1 it was the season of light it was the season of darkness 1.2 ç»“åˆæ­£åˆ™è¡¨è¾¾å¼ é»˜è®¤æƒ…å†µä¸‹ï¼Œ grep æ˜¯å¼€å¯æ­£åˆ™è¡¨è¾¾å¼çš„æ¨¡å¼çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç›´æ¥åœ¨æ–‡ä»¶æœç´¢ä¸­ä½¿ç”¨ æ­£åˆ™è¡¨è¾¾å¼ã€‚ç°åœ¨åœ¨æ–‡ä»¶ä¸­æœç´¢ä»¥å­—æ¯ e å¼€å¤´åæ¥ä¸‰ä¸ªå­—ç¬¦ï¼Œç„¶åä»¥ h ç»“å°¾çš„å•è¯ï¼š\n1 grep \"e...h\" /tmp/tinytale.txt è¾“å‡ºå¦‚ä¸‹ï¼š\n1 it was the epoch of belief it was the epoch of incredulity å¯ä»¥çœ‹åˆ°ï¼Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…äº† epoch è¿™ä¸ªå•è¯ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„å¨åŠ›æ— ä¸ä¼¦æ¯”çš„ï¼ŒæŠŠ grep*å’Œæ­£åˆ™è¡¨è¾¾å¼ç»“åˆèµ·æ¥å¯ä»¥æ›´å¥½åœ°å‘æŒ¥ *grep è¿™ä¸ªå·¥å…·çš„æ½œåŠ›ï¼›è€Œæœ¬æ–‡ä¸»è¦æ˜¯ä»‹ç» grep, æ›´å¤šæœ‰å…³æ­£åˆ™è¡¨è¾¾å¼çš„ç”¨æ³•ä¸ç»†è®²äº†\n1.3 ç»Ÿè®¡å‡ºç°çš„æ¬¡æ•° æœ‰æ—¶ï¼Œå¦‚æœä½ éœ€è¦ç»Ÿè®¡æŸç§æ¨¡å¼æˆ–è€…æŸä¸ªå•è¯å‡ºç°çš„ä¸ªæ•°ï¼Œä½ ä¼šå‘ç° grep éå¸¸æœ‰ç”¨ï¼›\nè¦å®ç°è¯¥åŠŸèƒ½ï¼Œåªéœ€ç»™ grep æ·»åŠ  -c å‚æ•°ï¼›ä¾‹å¦‚ç»Ÿè®¡å•è¯ the å‡ºç°çš„ä¸ªæ•°ï¼š\n1 grep -c the /tmp/tinytale.txt ç»“æœè¾“å‡ºå¦‚ä¸‹ï¼š\n1 4 æ–‡æœ¬ä¸­åŒ…å«4ä¸ª the\n1.4 å¿½ç•¥å¤§å°å†™ å‰é¢æåˆ°ï¼Œ grep é»˜è®¤æ˜¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥æœç´¢æ–‡ä»¶çš„ï¼Œæ‰€ä»¥ grep æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼›\nå¦‚æœä½ æƒ³ä¿®æ”¹ grep çš„é»˜è®¤è¡Œä¸ºæ¥å¿½ç•¥å¤§å°å†™ï¼Œä½ å¯ä»¥æ·»åŠ  -i å‚æ•°\n1 grep -i the /tmp/tinytale.txt è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\n1 2 3 4 5 it was the best of times it was the worst of times it was the age of wisdom it was age of foolishness it was the epoch of belief it was the epoch of incredulity it was the season of light it was the season of darkness IT WAS THE SPRING OF HOPE IT WAS THE WINTER OF DESPAIRE å¯ä»¥å‘ç° THE ä¹Ÿæ˜¯å¯ä»¥è¢« grep æœç´¢åˆ°çš„ï¼›ä½†æ˜¯å¦‚æœæ²¡æœ‰æ·»åŠ  -i ,ä½ åªä¼šçœ‹åˆ°4è¡Œè¾“å‡ºã€‚\nå½“ç„¶ä½ å¯ä»¥åœ¨æ­£åˆ™è¡¨è¾¾å¼é‡Œé¢æ·»åŠ å¿½ç•¥å¤§å°å†™çš„æ¨¡å¼ï¼Œåªæ˜¯ç›´æ¥æ·»åŠ  -i ä¼šç®€å•å¾ˆå¤šã€‚\n2 æœç´¢å¤šä¸ªæ–‡ä»¶ ä¸Šé¢æœç´¢çš„éƒ½åªæ˜¯å•ä¸ªæ–‡ä»¶ï¼Œè€Œ grep å¯ä»¥è®©ä½ åŒæ—¶æœç´¢å¤šä¸ªæ–‡ä»¶ï¼›ç°åœ¨å°±æ¥çœ‹çœ‹æ€ä¹ˆæœç´¢å¤šä¸ªæ–‡ä»¶å§ã€‚\nä¸‹é¢ä¸¤ç§å†™æ³•ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æˆ‘ä¸ªäººæ¨å´‡ç¬¬ä¸€ç§ï¼Œå› ä¸ºå¯ä»¥è¾“å…¥æ›´å°‘ä¸€äº›å†…å®¹ :)\n1 grep belief /tmp/{tinytale.txt,tale.txt} 1 grep belief /tmp/tinytale.txt /tmp/tale.txt è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 tinytale.txt:it was the epoch of belief it was the epoch of incredulity tale.txt:it was the epoch of belief it was the epoch of incredulity tale.txt:pains of by rearing her in the belief that her father was dead tale.txt:this was no passive belief but an active weapon which they flashed tale.txt:belief in solomon deducting a mere trifle for this slight mistake tale.txt:you will bear testimony to what i have said and to your belief in it tale.txt:herself into the show of a belief that they would soon be reunited å¯ä»¥çœ‹åˆ°ï¼Œ grep æŠŠåŒ¹é…åˆ°å•è¯çš„é‚£ä¸€è¡Œå†…å®¹å’Œå¯¹åº”çš„æ–‡ä»¶éƒ½æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œä½ å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°çœ‹åˆ°æœç´¢ç»“æœï¼Œå¹¶çŸ¥é“åŒ¹é…å•è¯çš„æ¥æºã€‚\nå¦‚æœä½ ä¹Ÿåƒæˆ‘è¿™æ ·ï¼Œä¸æƒ³è¾“å…¥é‚£ä¹ˆå¤šçš„å†…å®¹ï¼Œä½ å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ‰€æœ‰çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š\n1 grep belief /tmp/*.txt è¾“å‡ºç»“æœä¹Ÿä¼šè·Ÿä¸Šé¢ä¸€è‡´ (å‡è®¾ä½  tmp ç›®å½•ä¸‹åªæœ‰ä¸¤ä¸ªæ–‡æœ¬æ–‡ä»¶); æˆ‘å‘Šè¯‰*grep* æœç´¢*/tmp* ä¸‹æ‰€æœ‰çš„ .txt æ–‡ä»¶ã€‚\n2.1 é€’å½’æœç´¢ ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ grep é€’å½’æœç´¢ç›®å½•ï¼›ä½ åªéœ€åœ¨æŒ‡å®šç›®å½•åï¼Œæ·»åŠ  -R , grep å°±ä¼š é€’å½’æœç´¢æŒ‡å®šç›®å½•çš„æ‰€æœ‰å­ç›®å½•ã€‚æˆ‘å·²ç»æŠŠå½“å‰ç›®å½•åˆ‡æ¢åˆ° /tmp:\n1 grep -R \"belief\" . è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 ./tale.txt:it was the epoch of belief it was the epoch of incredulity ./tale.txt:pains of by rearing her in the belief that her father was dead ./tale.txt:this was no passive belief but an active weapon which they flashed ./tale.txt:belief in solomon deducting a mere trifle for this slight mistake ./tale.txt:you will bear testimony to what i have said and to your belief in it ./tale.txt:herself into the show of a belief that they would soon be reunited ./tinytale.txt:it was the epoch of belief it was the epoch of incredulity ç»“æœå±•ç¤ºäº†ä¸€ç³»åˆ—åœ¨å½“å‰ç›®å½•å’Œå­ç›®å½•åŒ¹é… belief çš„æ–‡ä»¶ã€‚æ­¤å¤–ä½ ä¹Ÿå¯ä»¥æ’é™¤æ‰æŸäº›ä½  ä¸éœ€è¦æœç´¢çš„æ–‡ä»¶ï¼Œä¾‹å¦‚æœ‰ä¸€ä¸ª foo.xml çš„æ–‡ä»¶ï¼Œé‡Œé¢ä¹Ÿå¯èƒ½ä¼šæœ‰ belief è¿™ä¸ªå•è¯ï¼Œ ä½†æ˜¯ä½ å°±æ˜¯ä¸æƒ³æœç´¢è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…å…¨éƒ¨çš„ .xml æ–‡ä»¶ï¼Œä½ å¯ä»¥è¿™ä¹ˆç©ï¼š\n1 grep -R --exclude=\"*.xml\" \"belief\" . 3 åœ¨æ ‡å‡†è¾“å…¥æœç´¢ grep ä¹Ÿæ˜¯è¿‡æ»¤å™¨ï¼Œæ‰€ä»¥ grep è‡ªç„¶è€Œç„¶å…·æœ‰å¤„ç†æ ‡å‡†è¾“å…¥è¾“å‡ºçš„èƒ½åŠ›äº†ï¼›å¤„ç†å…¶ä»–å‘½ä»¤çš„è¾“å‡ºç»“æœä¹Ÿæ˜¯ grep éå¸¸å¸¸ç”¨çš„åœºæ™¯ä¹‹ä¸€ã€‚å‡è®¾ä½ ç°åœ¨çš„ vim çªç„¶å¡é¡¿ï¼ŒæŒ‚äº†:),ä½ æƒ³è¦ kill æ‰ vim çš„è¿›ç¨‹ï¼Œä½ å¯ä»¥ï¼š\n1 ps -e|grep vim ç»“æœè¾“å‡ºå¦‚ä¸‹ï¼š\n1 samray 21939 1 0 19:42 ? 00:00:00 gvim å…¶ä¸­ç¬¬ä¸€æ¡è®°å½•å°±æ˜¯ä½ æƒ³è¦æœç´¢çš„è¿›ç¨‹äº†ï¼Œä½ è¿è¡Œ kill 21939 å°±å¯ä»¥æ€æ‰ vim çš„è¿›ç¨‹äº†ï¼›å› ä¸ºæˆ‘ç³»ç»Ÿçš„æ˜¯å›¾å‹åŒ–ç•Œé¢çš„ vim, æ‰€ä»¥æ˜¯ gvim.\næ­£å¦‚æˆ‘ä¹‹å‰çš„æ–‡ç« æåˆ°çš„é‚£æ ·ï¼Œå•çº¯çš„è¿‡æ»¤å™¨çš„ç”¨å¤„ä¼¼ä¹ä¸å¤§ï¼Œä½†æ˜¯å¦‚æœç»“åˆèµ·æ¥å°±ä¼šå¨åŠ›æ— ç©·è‡³äºï¼Œå¦‚ä½•ç»“åˆï¼Œå°±éœ€è¦æ…¢æ…¢æ¢ç´¢äº†ã€‚\n4 åå‘æœç´¢ ç°åœ¨æ‰§è¡Œçš„æœç´¢éƒ½æ˜¯åŒ¹é…æœç´¢ï¼Œå³å°†åŒ¹é…çš„å†…å®¹æ˜¾ç¤ºå‡ºæ¥ï¼Œè€Œ grep è¿˜æœ‰åå‘æœç´¢çš„åŠŸèƒ½ (invert Searches)å°±æ˜¯å°†ä¸åŒ…å«æœ‰æŒ‡å®šæ¨¡å¼çš„å†…å®¹æ˜¾ç¤ºå‡ºæ¥ã€‚\nè¯¥åŠŸèƒ½åœ¨ç”¨æ¥ä¿®æ”¹æœ‰å¾ˆå¤šæ³¨é‡Šçš„é…ç½®æ–‡ä»¶æ—¶ç‰¹åˆ«æœ‰ç”¨ï¼›ä¾‹å¦‚å¸¸ç”¨çš„æœåŠ¡å™¨è½¯ä»¶ nginx çš„é…ç½®æ–‡ä»¶æ˜¯é»˜è®¤æ˜¯å«æœ‰å¾ˆå¤šæ³¨é‡Šçš„ï¼Œå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 #user www-data; worker_processes auto; pid /run/nginx.pid; include /etc/nginx/modules-enabled/*.conf; events { worker_connections 1024; # multi_accept on; } http { ## # Basic Settings ## sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; types_hash_max_size 2048; # server_tokens off; # server_names_hash_bucket_size 64; # server_name_in_redirect off; include /etc/nginx/mime.types; default_type application/octet-stream; ## # SSL Settings ## ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # Dropping SSLv3, ref: POODLE ssl_prefer_server_ciphers on; ## # Logging Settings ## log_format main '$remote_addr - $remote_user [$time_local] \"$request\" $status $bytes_sent \"$http_referer\" \"$http_user_agent\" \"$gzip_ratio\"'; access_log /var/log/nginx/access.log; error_log /var/log/nginx/error.log; ## # Gzip Settings ## gzip on; gzip_disable \"msie6\"; # gzip_vary on; # gzip_proxied any; # gzip_comp_level 6; # gzip_buffers 16 8k; # gzip_http_version 1.1; # gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript; ## # Virtual Host Configs ## include /etc/nginx/conf.d/*.conf; include /etc/nginx/sites-enabled/*; ignore_invalid_headers on; client_header_timeout 240; client_body_timeout 240; send_timeout 240; client_max_body_size 100m; proxy_buffer_size 128k; proxy_buffers 8 128k; upstream tomcat_server{ server 127.0.0.1:8080 fail_timeout=0; } upstream gunicorn_server{ server 127.0.0.1:5000 fail_timeout=0; } server{ server_name 127.0.0.1; listen 443; # ssl on; # ssl_certificate /etc/letsencrypt/live/samray.ren/fullchain.pem; # ssl_certificate_key /etc/letsencrypt/live/samray.ren/privkey.pem; location / { # Forward SSL so that Tomcat knows what to do proxy_set_header X-Forwarded-Host $host; proxy_set_header X-Forwarded-Server $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass http://tomcat_server; proxy_set_header X-Forwarded-Proto https; proxy_redirect off; proxy_connect_timeout 240; proxy_send_timeout 240; proxy_read_timeout 240; } location /test{ return 402; } location /weixin { # try_files $uri @proxy_to_app; return 402; } location @proxy_to_app { proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_redirect off; proxy_pass http://gunicorn_server; } } } #mail { #\t# See sample authentication script at: #\t# http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript # #\t# auth_http localhost/auth.php; #\t# pop3_capabilities \"TOP\" \"USER\"; #\t# imap_capabilities \"IMAP4rev1\" \"UIDPLUS\"; # #\tserver { #\tlisten localhost:110; #\tprotocol pop3; #\tproxy on; #\t} # #\tserver { #\tlisten localhost:143; #\tprotocol imap; #\tproxy on; #\t} #} é‡Œé¢å®åœ¨æœ‰å¤ªå¤šçš„æ³¨é‡Šäº†ï¼Œè™½è¯´æ˜¯å¾ˆå¥½çš„å‚è€ƒï¼Œä½†æ˜¯çœ‹å¤šäº†ä¼šæ„Ÿè§‰å¾ˆç¢çœ¼ï¼Œæ‰€ä»¥ä½ å¸Œæœ›å¯ä»¥æœ‰ä¸€ä»½æ²¡æœ‰æ³¨é‡Šçš„é…ç½®æ–‡ä»¶ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ grep å’Œå‚æ•° -v:\n1 egrep -v \"#|^$\" /etc/nginx/nginx.conf \u003e/tmp/nging.conf ç»“æœå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 worker_processes auto; pid /run/nginx.pid; include /etc/nginx/modules-enabled/*.conf; events { worker_connections 1024; } http { sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; types_hash_max_size 2048; include /etc/nginx/mime.types; default_type application/octet-stream; ssl_prefer_server_ciphers on; log_format main '$remote_addr - $remote_user [$time_local] \"$request\" $status $bytes_sent \"$http_referer\" \"$http_user_agent\" \"$gzip_ratio\"'; access_log /var/log/nginx/access.log; error_log /var/log/nginx/error.log; gzip on; gzip_disable \"msie6\"; include /etc/nginx/conf.d/*.conf; include /etc/nginx/sites-enabled/*; ignore_invalid_headers on; client_header_timeout 240; client_body_timeout 240; send_timeout 240; client_max_body_size 100m; proxy_buffer_size 128k; proxy_buffers 8 128k; upstream tomcat_server{ server 127.0.0.1:8080 fail_timeout=0; } upstream gunicorn_server{ server 127.0.0.1:5000 fail_timeout=0; } server{ server_name 127.0.0.1; listen 443; location / { proxy_set_header X-Forwarded-Host $host; proxy_set_header X-Forwarded-Server $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_pass http://tomcat_server; proxy_set_header X-Forwarded-Proto https; proxy_redirect off; proxy_connect_timeout 240; proxy_send_timeout 240; proxy_read_timeout 240; } location /test{ return 402; } location /weixin { return 402; } location @proxy_to_app { proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_redirect off; proxy_pass http://gunicorn_server; } } } egrep æ˜¯ grep çš„æ‰©å±•ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ -E ä½¿ç”¨æ‰©å±•åŠŸèƒ½ã€‚å°±è¿™æ ·ï¼Œä½ å°±å¯ä»¥å¾—åˆ°ä¸€ä»½å¾ˆâ€œå¹²å‡€â€çš„é…ç½®æ–‡ä»¶äº†ã€‚\n5 å°ç»“ åœ¨ä»¥å‰ grep æ˜¯ hacker å·¥å…·ç®±é‡Œé¢å®¡æŸ¥æºä»£ç å¿…ä¸å¯å°‘çš„å·¥å…·ä¹‹ä¸€ï¼Œä½†æ˜¯éšç€æŠ€æœ¯çš„å‘å±•ï¼Œä¼¼ä¹å¯¹æ¯”å…¶ä»–åŒç±»å‹çš„å·¥å…·ï¼Œ grep çš„æ€§èƒ½å·²ç»éš¾å°½äººæ„ï¼Œç‰¹åˆ«æ˜¯å¯¹æ¯” ag è¿™ä¸ªæœç´¢ç¥å™¨ï¼›\nè™½è¯´å¾ˆå¤šäººéƒ½å·²ç»è½¬ç§»åˆ°äº† ag é˜µè¥ï¼Œä½†æ˜¯å› ä¸º grep è¢«å¹¿æ³›é¢„è£…åˆ°å„ç±»çš„Linux/Unix æœºå™¨ï¼Œæ‰€ä»¥ grep è¿˜æ˜¯ä½¿ç”¨å¾—å¾ˆå¹¿æ³›æ»´ã€‚\næ›´å¤š grep çš„ç”¨æ³•å°±éœ€è¦æŸ¥è¯¢æ‰‹å†Œäº†ï¼š\n1 man grep Enjoy Shell :)\nå…¬å·åŒæ­¥æ›´æ–°ï¼Œæ¬¢è¿å…³æ³¨ğŸ‘» ","wordCount":"2709","inLanguage":"zh","image":"https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2017-03-13T00:00:00-07:00","dateModified":"2025-01-09T17:37:12-08:00","author":{"@type":"Person","name":"Ramsay Leung"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ramsayleung.github.io/zh/post/2017/grep/"},"publisher":{"@type":"Organization","name":"è èæ²¹ä¸å¤©å…‰å¢Ÿ","logo":{"@type":"ImageObject","url":"https://ramsayleung.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ramsayleung.github.io/zh/ accesskey=h title="Home (Alt + H)"><img src=https://ramsayleung.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://ramsayleung.github.io/en/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li class=dropdown><a href=https://ramsayleung.github.io/zh/categories/ title="ç³»åˆ— "><span>ç³»åˆ— â–¾</span></a><div class="menu-more-content dropdown-content"><a href=https://ramsayleung.github.io/zh/categories/%E5%B1%A5%E8%BF%B9%E4%B8%8E%E6%B2%89%E6%80%9D/ title=å±¥è¿¹ä¸æ²‰æ€><span>å±¥è¿¹ä¸æ²‰æ€
</span></a><a href=https://ramsayleung.github.io/zh/categories/%E6%97%85%E5%8A%A0%E7%BB%8F%E5%8E%86 title=æ—…åŠ ç»å†><span>æ—…åŠ ç»å†
</span></a><a href=https://ramsayleung.github.io/zh/categories/%E5%B7%A5%E4%BD%9C%E6%B5%81/ title=æˆ‘çš„å·¥ä½œæµ><span>æˆ‘çš„å·¥ä½œæµ
</span></a><a href=https://ramsayleung.github.io/zh/categories/%E6%B5%8B%E8%AF%95%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6/ title=æµ‹è¯•æŠ€èƒ½è¿›é˜¶><span>æµ‹è¯•æŠ€èƒ½è¿›é˜¶
</span></a><a href=https://ramsayleung.github.io/zh/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E8%BD%AF%E6%8A%80%E8%83%BD%E6%8C%87%E5%8C%97/ title=è½¯ä»¶å·¥ç¨‹å¸ˆçš„è½¯æŠ€èƒ½æŒ‡åŒ—><span>è½¯ä»¶å·¥ç¨‹å¸ˆçš„è½¯æŠ€èƒ½æŒ‡åŒ—
</span></a><a href=https://ramsayleung.github.io/zh/categories/%E8%AF%BB%E4%B9%A6%E6%84%9F%E6%82%9F/ title=è¯»ä¹¦æ„Ÿæ‚Ÿ><span>è¯»ä¹¦æ„Ÿæ‚Ÿ</span></a></div></li><li><a href=https://ramsayleung.github.io/zh/archives/ title=å½’æ¡£><span>å½’æ¡£</span></a></li><li><a href=https://ramsayleung.github.io/zh/search/ title=æœç´¢><span>æœç´¢</span></a></li><li><a href=https://ramsayleung.github.io/zh/tags/ title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://ramsayleung.github.io/zh/about_me_zh/ title=å…³äº><span>å…³äº</span></a></li><li><a href=https://ramsayleung.github.io/zh/index.xml title=RSS><span>RSS</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ramsayleung.github.io/zh/>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://ramsayleung.github.io/zh/post/>Posts</a></div><h1 class="post-title entry-hint-parent">Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep</h1><div class=post-description>an introduction about grep</div><div class=post-quote><blockquote><p>æœ€çº¯ç²¹ã€æœ€æŠ½è±¡çš„è®¾è®¡éš¾é¢˜å°±æ˜¯è®¾è®¡æ¡¥æ¢ã€‚ä½ é¢å¯¹çš„é—®é¢˜æ˜¯: å¦‚ä½•ç”¨æœ€å°‘çš„ææ–™, è·¨è¶Šç»™å®šçš„è·ç¦»ã€‚</p><cite>â€” ä¿ç½—.æ ¼é›·æ±‰å§† (çŸ¥åé»‘å®¢ ç¡…è°·ç‰›äºº)</cite></blockquote></div><hr class=post-separator><div class=post-meta><span title='2017-03-13 00:00:00 -0700 -0700'>ä¸‰æœˆ 13, 2017</span>&nbsp;Â·&nbsp;6 åˆ†é’Ÿ&nbsp;Â·&nbsp;2709 å­—&nbsp;|&nbsp;<a href=https://github.com/ramsayleung/ramsayleung.github.io/blob/master/content/post/2017/grep.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#åŸºæœ¬ç”¨æ³•><span class=section-num>1</span> åŸºæœ¬ç”¨æ³•</a><ul><li><a href=#åŸºç¡€ç”¨æ³•><span class=section-num>1.1</span> åŸºç¡€ç”¨æ³•</a></li><li><a href=#ç»“åˆæ­£åˆ™è¡¨è¾¾å¼><span class=section-num>1.2</span> ç»“åˆæ­£åˆ™è¡¨è¾¾å¼</a></li><li><a href=#ç»Ÿè®¡å‡ºç°çš„æ¬¡æ•°><span class=section-num>1.3</span> ç»Ÿè®¡å‡ºç°çš„æ¬¡æ•°</a></li><li><a href=#å¿½ç•¥å¤§å°å†™><span class=section-num>1.4</span> å¿½ç•¥å¤§å°å†™</a></li></ul></li><li><a href=#æœç´¢å¤šä¸ªæ–‡ä»¶><span class=section-num>2</span> æœç´¢å¤šä¸ªæ–‡ä»¶</a><ul><li><a href=#é€’å½’æœç´¢><span class=section-num>2.1</span> é€’å½’æœç´¢</a></li></ul></li><li><a href=#åœ¨æ ‡å‡†è¾“å…¥æœç´¢><span class=section-num>3</span> åœ¨æ ‡å‡†è¾“å…¥æœç´¢</a></li><li><a href=#åå‘æœç´¢><span class=section-num>4</span> åå‘æœç´¢</a></li><li><a href=#å°ç»“><span class=section-num>5</span> å°ç»“</a></li></ul></nav></div></details></div><div class=post-content><p>æ–‡æœ¬ä¸‰å‰‘å®¢ä¹‹ Grep</p><blockquote><p>grep - print lines matching a pattern</p></blockquote><p>ä»Šå¤©æˆ‘æƒ³èŠèŠ <strong>grep</strong> è¿™ä¸ªå‘½ä»¤ï¼›æ®è¯´ï¼Œæœ‰Unix/Linux çš„åœ°æ–¹å°±ä¼šæœ‰ <strong>grep</strong>, è¿™ä¸ªå¯èƒ½æ˜¯å®‰è£…å¾—æœ€å¹¿æ³›çš„å‘½ä»¤ä¹‹ä¸€ï¼›é‚£ä¹ˆ <strong>grep</strong> æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„å‘¢ï¼Ÿ</p><p>grep å…¶å®æ˜¯ç”¨æ¥åœ¨æ–‡ä»¶ä¸­æœç´¢ç‰¹å®šå†…å®¹æˆ–è€…æ¨¡å¼çš„å·¥å…·(é…åˆæ­£åˆ™è¡¨è¾¾å¼â€œé£Ÿç”¨â€ï¼Œå‘³é“æ›´ä½³ :))ç°åœ¨å°±æ¥ä¸€èµ·çœ‹çœ‹*grep* çš„ç”¨æ³•</p><h2 id=åŸºæœ¬ç”¨æ³•><span class=section-num>1</span> åŸºæœ¬ç”¨æ³•<a hidden class=anchor aria-hidden=true href=#åŸºæœ¬ç”¨æ³•>#</a></h2><h3 id=åŸºç¡€ç”¨æ³•><span class=section-num>1.1</span> åŸºç¡€ç”¨æ³•<a hidden class=anchor aria-hidden=true href=#åŸºç¡€ç”¨æ³•>#</a></h3><p>ç°åœ¨å‡è®¾æœ‰ä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ–‡ä»¶(åŒåŸè®°å¼€å¤´)tinytale.txt,å†…å®¹å¦‚ä¸‹</p><blockquote><p>it was the best of times it was the worst of times
it was the age of wisdom it was age of foolishness
it was the epoch of belief it was the epoch of incredulity
it was the season of light it was the season of darkness
IT WAS THE SPRING OF HOPE IT WAS THE WINTER OF DESPAIRE</p></blockquote><p>ç°åœ¨å¼€å§‹ä»‹ç» <strong>grep</strong> çš„åŸºæœ¬ç”¨æ³•ï¼š <strong>grep</strong> çš„åŸºæœ¬ç”¨æ³•å¾ˆç®€å•çš„ï¼Œå‡è®¾æˆ‘æƒ³è¦æœç´¢å•è¯ <strong>darkness</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>grep darkness /tmp/tinytale.txt
</span></span></code></pre></td></tr></table></div></div><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>it was the season of light it was the season of darkness
</span></span></code></pre></td></tr></table></div></div><h3 id=ç»“åˆæ­£åˆ™è¡¨è¾¾å¼><span class=section-num>1.2</span> ç»“åˆæ­£åˆ™è¡¨è¾¾å¼<a hidden class=anchor aria-hidden=true href=#ç»“åˆæ­£åˆ™è¡¨è¾¾å¼>#</a></h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ <strong>grep</strong> æ˜¯å¼€å¯æ­£åˆ™è¡¨è¾¾å¼çš„æ¨¡å¼çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç›´æ¥åœ¨æ–‡ä»¶æœç´¢ä¸­ä½¿ç”¨
æ­£åˆ™è¡¨è¾¾å¼ã€‚ç°åœ¨åœ¨æ–‡ä»¶ä¸­æœç´¢ä»¥å­—æ¯ <strong>e</strong> å¼€å¤´åæ¥ä¸‰ä¸ªå­—ç¬¦ï¼Œç„¶åä»¥ <strong>h</strong> ç»“å°¾çš„å•è¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>grep <span class=s2>&#34;e...h&#34;</span> /tmp/tinytale.txt
</span></span></code></pre></td></tr></table></div></div><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>it was the epoch of belief it was the epoch of incredulity
</span></span></code></pre></td></tr></table></div></div></blockquote><p>å¯ä»¥çœ‹åˆ°ï¼Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…äº† <strong>epoch</strong> è¿™ä¸ªå•è¯ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„å¨åŠ›æ— ä¸ä¼¦æ¯”çš„ï¼ŒæŠŠ <strong>grep*å’Œæ­£åˆ™è¡¨è¾¾å¼ç»“åˆèµ·æ¥å¯ä»¥æ›´å¥½åœ°å‘æŒ¥ *grep</strong> è¿™ä¸ªå·¥å…·çš„æ½œåŠ›ï¼›è€Œæœ¬æ–‡ä¸»è¦æ˜¯ä»‹ç» <strong>grep</strong>, æ›´å¤šæœ‰å…³æ­£åˆ™è¡¨è¾¾å¼çš„ç”¨æ³•ä¸ç»†è®²äº†</p><h3 id=ç»Ÿè®¡å‡ºç°çš„æ¬¡æ•°><span class=section-num>1.3</span> ç»Ÿè®¡å‡ºç°çš„æ¬¡æ•°<a hidden class=anchor aria-hidden=true href=#ç»Ÿè®¡å‡ºç°çš„æ¬¡æ•°>#</a></h3><p>æœ‰æ—¶ï¼Œå¦‚æœä½ éœ€è¦ç»Ÿè®¡æŸç§æ¨¡å¼æˆ–è€…æŸä¸ªå•è¯å‡ºç°çš„ä¸ªæ•°ï¼Œä½ ä¼šå‘ç° <strong>grep</strong> éå¸¸æœ‰ç”¨ï¼›</p><p>è¦å®ç°è¯¥åŠŸèƒ½ï¼Œåªéœ€ç»™ <strong>grep</strong> æ·»åŠ  <strong>-c</strong> å‚æ•°ï¼›ä¾‹å¦‚ç»Ÿè®¡å•è¯ <strong>the</strong> å‡ºç°çš„ä¸ªæ•°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>grep -c the /tmp/tinytale.txt
</span></span></code></pre></td></tr></table></div></div><p>ç»“æœè¾“å‡ºå¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>4
</span></span></code></pre></td></tr></table></div></div><p>æ–‡æœ¬ä¸­åŒ…å«4ä¸ª <strong>the</strong></p><h3 id=å¿½ç•¥å¤§å°å†™><span class=section-num>1.4</span> å¿½ç•¥å¤§å°å†™<a hidden class=anchor aria-hidden=true href=#å¿½ç•¥å¤§å°å†™>#</a></h3><p>å‰é¢æåˆ°ï¼Œ <strong>grep</strong> é»˜è®¤æ˜¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥æœç´¢æ–‡ä»¶çš„ï¼Œæ‰€ä»¥ <strong>grep</strong> æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼›</p><p>å¦‚æœä½ æƒ³ä¿®æ”¹ <strong>grep</strong> çš„é»˜è®¤è¡Œä¸ºæ¥å¿½ç•¥å¤§å°å†™ï¼Œä½ å¯ä»¥æ·»åŠ  <strong>-i</strong> å‚æ•°</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>grep -i the /tmp/tinytale.txt
</span></span></code></pre></td></tr></table></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>it was the best of times it was the worst of times
</span></span><span class=line><span class=cl>it was the age of wisdom it was age of foolishness
</span></span><span class=line><span class=cl>it was the epoch of belief it was the epoch of incredulity
</span></span><span class=line><span class=cl>it was the season of light it was the season of darkness
</span></span><span class=line><span class=cl>IT WAS THE SPRING OF HOPE IT WAS THE WINTER OF DESPAIRE
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥å‘ç° <strong>THE</strong> ä¹Ÿæ˜¯å¯ä»¥è¢« grep æœç´¢åˆ°çš„ï¼›ä½†æ˜¯å¦‚æœæ²¡æœ‰æ·»åŠ  <strong>-i</strong> ,ä½ åªä¼šçœ‹åˆ°4è¡Œè¾“å‡ºã€‚</p><p>å½“ç„¶ä½ å¯ä»¥åœ¨æ­£åˆ™è¡¨è¾¾å¼é‡Œé¢æ·»åŠ å¿½ç•¥å¤§å°å†™çš„æ¨¡å¼ï¼Œåªæ˜¯ç›´æ¥æ·»åŠ  <strong>-i</strong> ä¼šç®€å•å¾ˆå¤šã€‚</p><h2 id=æœç´¢å¤šä¸ªæ–‡ä»¶><span class=section-num>2</span> æœç´¢å¤šä¸ªæ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#æœç´¢å¤šä¸ªæ–‡ä»¶>#</a></h2><p>ä¸Šé¢æœç´¢çš„éƒ½åªæ˜¯å•ä¸ªæ–‡ä»¶ï¼Œè€Œ grep å¯ä»¥è®©ä½ åŒæ—¶æœç´¢å¤šä¸ªæ–‡ä»¶ï¼›ç°åœ¨å°±æ¥çœ‹çœ‹æ€ä¹ˆæœç´¢å¤šä¸ªæ–‡ä»¶å§ã€‚</p><p>ä¸‹é¢ä¸¤ç§å†™æ³•ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æˆ‘ä¸ªäººæ¨å´‡ç¬¬ä¸€ç§ï¼Œå› ä¸ºå¯ä»¥è¾“å…¥æ›´å°‘ä¸€äº›å†…å®¹ :)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>grep belief /tmp/<span class=o>{</span>tinytale.txt,tale.txt<span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>grep belief /tmp/tinytale.txt /tmp/tale.txt
</span></span></code></pre></td></tr></table></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>tinytale.txt:it was the epoch of belief it was the epoch of incredulity
</span></span><span class=line><span class=cl>tale.txt:it was the epoch of belief it was the epoch of incredulity
</span></span><span class=line><span class=cl>tale.txt:pains of by rearing her in the belief that her father was dead
</span></span><span class=line><span class=cl>tale.txt:this was no passive belief but an active weapon which they flashed
</span></span><span class=line><span class=cl>tale.txt:belief in solomon deducting a mere trifle for this slight mistake
</span></span><span class=line><span class=cl>tale.txt:you will bear testimony to what i have said and to your belief in it
</span></span><span class=line><span class=cl>tale.txt:herself into the show of a belief that they would soon be reunited
</span></span></code></pre></td></tr></table></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œ <strong>grep</strong> æŠŠåŒ¹é…åˆ°å•è¯çš„é‚£ä¸€è¡Œå†…å®¹å’Œå¯¹åº”çš„æ–‡ä»¶éƒ½æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œä½ å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°çœ‹åˆ°æœç´¢ç»“æœï¼Œå¹¶çŸ¥é“åŒ¹é…å•è¯çš„æ¥æºã€‚</p><p>å¦‚æœä½ ä¹Ÿåƒæˆ‘è¿™æ ·ï¼Œä¸æƒ³è¾“å…¥é‚£ä¹ˆå¤šçš„å†…å®¹ï¼Œä½ å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ‰€æœ‰çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>grep belief /tmp/*.txt
</span></span></code></pre></td></tr></table></div></div><p>è¾“å‡ºç»“æœä¹Ÿä¼šè·Ÿä¸Šé¢ä¸€è‡´ (å‡è®¾ä½  <strong><em>tmp</em></strong> ç›®å½•ä¸‹åªæœ‰ä¸¤ä¸ªæ–‡æœ¬æ–‡ä»¶); æˆ‘å‘Šè¯‰*grep* æœç´¢*/tmp* ä¸‹æ‰€æœ‰çš„ <strong>.txt</strong> æ–‡ä»¶ã€‚</p><h3 id=é€’å½’æœç´¢><span class=section-num>2.1</span> é€’å½’æœç´¢<a hidden class=anchor aria-hidden=true href=#é€’å½’æœç´¢>#</a></h3><p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>grep</strong> é€’å½’æœç´¢ç›®å½•ï¼›ä½ åªéœ€åœ¨æŒ‡å®šç›®å½•åï¼Œæ·»åŠ  <strong>-R</strong> , <strong>grep</strong> å°±ä¼š
é€’å½’æœç´¢æŒ‡å®šç›®å½•çš„æ‰€æœ‰å­ç›®å½•ã€‚æˆ‘å·²ç»æŠŠå½“å‰ç›®å½•åˆ‡æ¢åˆ° <strong>/tmp</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>grep -R <span class=s2>&#34;belief&#34;</span> .
</span></span></code></pre></td></tr></table></div></div><p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>./tale.txt:it was the epoch of belief it was the epoch of incredulity
</span></span><span class=line><span class=cl>./tale.txt:pains of by rearing her in the belief that her father was dead
</span></span><span class=line><span class=cl>./tale.txt:this was no passive belief but an active weapon which they flashed
</span></span><span class=line><span class=cl>./tale.txt:belief in solomon deducting a mere trifle for this slight mistake
</span></span><span class=line><span class=cl>./tale.txt:you will bear testimony to what i have said and to your belief in it
</span></span><span class=line><span class=cl>./tale.txt:herself into the show of a belief that they would soon be reunited
</span></span><span class=line><span class=cl>./tinytale.txt:it was the epoch of belief it was the epoch of incredulity
</span></span></code></pre></td></tr></table></div></div><p>ç»“æœå±•ç¤ºäº†ä¸€ç³»åˆ—åœ¨å½“å‰ç›®å½•å’Œå­ç›®å½•åŒ¹é… <strong>belief</strong> çš„æ–‡ä»¶ã€‚æ­¤å¤–ä½ ä¹Ÿå¯ä»¥æ’é™¤æ‰æŸäº›ä½ 
ä¸éœ€è¦æœç´¢çš„æ–‡ä»¶ï¼Œä¾‹å¦‚æœ‰ä¸€ä¸ª <strong>foo.xml</strong> çš„æ–‡ä»¶ï¼Œé‡Œé¢ä¹Ÿå¯èƒ½ä¼šæœ‰ <strong>belief</strong> è¿™ä¸ªå•è¯ï¼Œ
ä½†æ˜¯ä½ å°±æ˜¯ä¸æƒ³æœç´¢è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…å…¨éƒ¨çš„ <strong>.xml</strong> æ–‡ä»¶ï¼Œä½ å¯ä»¥è¿™ä¹ˆç©ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>grep -R --exclude<span class=o>=</span><span class=s2>&#34;*.xml&#34;</span> <span class=s2>&#34;belief&#34;</span> .
</span></span></code></pre></td></tr></table></div></div><h2 id=åœ¨æ ‡å‡†è¾“å…¥æœç´¢><span class=section-num>3</span> åœ¨æ ‡å‡†è¾“å…¥æœç´¢<a hidden class=anchor aria-hidden=true href=#åœ¨æ ‡å‡†è¾“å…¥æœç´¢>#</a></h2><p><strong>grep</strong> ä¹Ÿæ˜¯è¿‡æ»¤å™¨ï¼Œæ‰€ä»¥ <strong>grep</strong> è‡ªç„¶è€Œç„¶å…·æœ‰å¤„ç†æ ‡å‡†è¾“å…¥è¾“å‡ºçš„èƒ½åŠ›äº†ï¼›å¤„ç†å…¶ä»–å‘½ä»¤çš„è¾“å‡ºç»“æœä¹Ÿæ˜¯ <strong>grep</strong> éå¸¸å¸¸ç”¨çš„åœºæ™¯ä¹‹ä¸€ã€‚å‡è®¾ä½ ç°åœ¨çš„ <strong>vim</strong> çªç„¶å¡é¡¿ï¼ŒæŒ‚äº†:),ä½ æƒ³è¦ <strong>kill</strong> æ‰ <strong>vim</strong> çš„è¿›ç¨‹ï¼Œä½ å¯ä»¥ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>ps -e<span class=p>|</span>grep vim
</span></span></code></pre></td></tr></table></div></div><p>ç»“æœè¾“å‡ºå¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>samray   21939     1  0 19:42 ?        00:00:00 gvim
</span></span></code></pre></td></tr></table></div></div><p>å…¶ä¸­ç¬¬ä¸€æ¡è®°å½•å°±æ˜¯ä½ æƒ³è¦æœç´¢çš„è¿›ç¨‹äº†ï¼Œä½ è¿è¡Œ <strong>kill 21939</strong> å°±å¯ä»¥æ€æ‰ vim çš„è¿›ç¨‹äº†ï¼›å› ä¸ºæˆ‘ç³»ç»Ÿçš„æ˜¯å›¾å‹åŒ–ç•Œé¢çš„ vim, æ‰€ä»¥æ˜¯ gvim.</p><hr><p>æ­£å¦‚æˆ‘ä¹‹å‰çš„æ–‡ç« æåˆ°çš„é‚£æ ·ï¼Œå•çº¯çš„è¿‡æ»¤å™¨çš„ç”¨å¤„ä¼¼ä¹ä¸å¤§ï¼Œä½†æ˜¯å¦‚æœç»“åˆèµ·æ¥å°±ä¼šå¨åŠ›æ— ç©·è‡³äºï¼Œå¦‚ä½•ç»“åˆï¼Œå°±éœ€è¦æ…¢æ…¢æ¢ç´¢äº†ã€‚</p><h2 id=åå‘æœç´¢><span class=section-num>4</span> åå‘æœç´¢<a hidden class=anchor aria-hidden=true href=#åå‘æœç´¢>#</a></h2><p>ç°åœ¨æ‰§è¡Œçš„æœç´¢éƒ½æ˜¯åŒ¹é…æœç´¢ï¼Œå³å°†åŒ¹é…çš„å†…å®¹æ˜¾ç¤ºå‡ºæ¥ï¼Œè€Œ <strong>grep</strong> è¿˜æœ‰åå‘æœç´¢çš„åŠŸèƒ½ (invert Searches)å°±æ˜¯å°†ä¸åŒ…å«æœ‰æŒ‡å®šæ¨¡å¼çš„å†…å®¹æ˜¾ç¤ºå‡ºæ¥ã€‚</p><p>è¯¥åŠŸèƒ½åœ¨ç”¨æ¥ä¿®æ”¹æœ‰å¾ˆå¤šæ³¨é‡Šçš„é…ç½®æ–‡ä»¶æ—¶ç‰¹åˆ«æœ‰ç”¨ï¼›ä¾‹å¦‚å¸¸ç”¨çš„æœåŠ¡å™¨è½¯ä»¶ <strong>nginx</strong> çš„é…ç½®æ–‡ä»¶æ˜¯é»˜è®¤æ˜¯å«æœ‰å¾ˆå¤šæ³¨é‡Šçš„ï¼Œå¦‚ä¸‹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cfg data-lang=cfg><span class=line><span class=cl><span class=c1>#user www-data;</span>
</span></span><span class=line><span class=cl><span class=na>worker_processes auto;</span>
</span></span><span class=line><span class=cl><span class=na>pid /run/nginx.pid;</span>
</span></span><span class=line><span class=cl><span class=na>include /etc/nginx/modules-enabled/*.conf;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>events {</span>
</span></span><span class=line><span class=cl><span class=na>worker_connections 1024;</span>
</span></span><span class=line><span class=cl><span class=c1># multi_accept on;</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>http {</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>##</span>
</span></span><span class=line><span class=cl><span class=c1># Basic Settings</span>
</span></span><span class=line><span class=cl><span class=c1>##</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>sendfile on;</span>
</span></span><span class=line><span class=cl><span class=na>tcp_nopush on;</span>
</span></span><span class=line><span class=cl><span class=na>tcp_nodelay on;</span>
</span></span><span class=line><span class=cl><span class=na>keepalive_timeout 65;</span>
</span></span><span class=line><span class=cl><span class=na>types_hash_max_size 2048;</span>
</span></span><span class=line><span class=cl><span class=c1># server_tokens off;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># server_names_hash_bucket_size 64;</span>
</span></span><span class=line><span class=cl><span class=c1># server_name_in_redirect off;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>include /etc/nginx/mime.types;</span>
</span></span><span class=line><span class=cl><span class=na>default_type application/octet-stream;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>##</span>
</span></span><span class=line><span class=cl><span class=c1># SSL Settings</span>
</span></span><span class=line><span class=cl><span class=c1>##</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # Dropping SSLv3, ref: POODLE</span>
</span></span><span class=line><span class=cl><span class=na>ssl_prefer_server_ciphers on;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>##</span>
</span></span><span class=line><span class=cl><span class=c1># Logging Settings</span>
</span></span><span class=line><span class=cl><span class=c1>##</span>
</span></span><span class=line><span class=cl><span class=na>log_format main &#39;$remote_addr - $remote_user [$time_local] &#34;$request&#34; $status $bytes_sent &#34;$http_referer&#34; &#34;$http_user_agent&#34; &#34;$gzip_ratio&#34;&#39;;</span>
</span></span><span class=line><span class=cl><span class=na>access_log /var/log/nginx/access.log;</span>
</span></span><span class=line><span class=cl><span class=na>error_log /var/log/nginx/error.log;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>##</span>
</span></span><span class=line><span class=cl><span class=c1># Gzip Settings</span>
</span></span><span class=line><span class=cl><span class=c1>##</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>gzip on;</span>
</span></span><span class=line><span class=cl><span class=na>gzip_disable &#34;msie6&#34;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># gzip_vary on;</span>
</span></span><span class=line><span class=cl><span class=c1># gzip_proxied any;</span>
</span></span><span class=line><span class=cl><span class=c1># gzip_comp_level 6;</span>
</span></span><span class=line><span class=cl><span class=c1># gzip_buffers 16 8k;</span>
</span></span><span class=line><span class=cl><span class=c1># gzip_http_version 1.1;</span>
</span></span><span class=line><span class=cl><span class=c1># gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>##</span>
</span></span><span class=line><span class=cl><span class=c1># Virtual Host Configs</span>
</span></span><span class=line><span class=cl><span class=c1>##</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>include /etc/nginx/conf.d/*.conf;</span>
</span></span><span class=line><span class=cl><span class=na>include /etc/nginx/sites-enabled/*;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>ignore_invalid_headers on;</span>
</span></span><span class=line><span class=cl><span class=na>client_header_timeout 240;</span>
</span></span><span class=line><span class=cl><span class=na>client_body_timeout 240;</span>
</span></span><span class=line><span class=cl><span class=na>send_timeout 240;</span>
</span></span><span class=line><span class=cl><span class=na>client_max_body_size 100m;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_buffer_size 128k;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_buffers 8 128k;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>upstream tomcat_server{</span>
</span></span><span class=line><span class=cl><span class=na>server 127.0.0.1:8080 fail_timeout</span><span class=o>=</span><span class=s>0;</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>upstream gunicorn_server{</span>
</span></span><span class=line><span class=cl><span class=na>server 127.0.0.1:5000 fail_timeout</span><span class=o>=</span><span class=s>0;</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl><span class=na>server{</span>
</span></span><span class=line><span class=cl><span class=na>server_name 127.0.0.1;</span>
</span></span><span class=line><span class=cl><span class=na>listen 443;</span>
</span></span><span class=line><span class=cl><span class=c1># ssl on;</span>
</span></span><span class=line><span class=cl><span class=c1># ssl_certificate /etc/letsencrypt/live/samray.ren/fullchain.pem;</span>
</span></span><span class=line><span class=cl><span class=c1># ssl_certificate_key /etc/letsencrypt/live/samray.ren/privkey.pem;</span>
</span></span><span class=line><span class=cl><span class=na>location / {</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Forward SSL so that Tomcat knows what to do</span>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header X-Forwarded-Host $host;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header X-Forwarded-Server $host;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_pass http://tomcat_server;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header X-Forwarded-Proto https;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>proxy_redirect off;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_connect_timeout      240;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_send_timeout         240;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_read_timeout         240;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>location /test{</span>
</span></span><span class=line><span class=cl><span class=na>return 402;</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>location /weixin {</span>
</span></span><span class=line><span class=cl><span class=c1># try_files $uri @proxy_to_app;</span>
</span></span><span class=line><span class=cl><span class=na>return 402;</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl><span class=na>location @proxy_to_app {</span>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header Host $http_host;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_redirect off;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_pass http://gunicorn_server;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#mail {</span>
</span></span><span class=line><span class=cl><span class=c1>#	# See sample authentication script at:</span>
</span></span><span class=line><span class=cl><span class=c1>#	# http://wiki.nginx.org/ImapAuthenticateWithApachePhpScript</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1>#	# auth_http localhost/auth.php;</span>
</span></span><span class=line><span class=cl><span class=c1>#	# pop3_capabilities &#34;TOP&#34; &#34;USER&#34;;</span>
</span></span><span class=line><span class=cl><span class=c1>#	# imap_capabilities &#34;IMAP4rev1&#34; &#34;UIDPLUS&#34;;</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1>#	server {</span>
</span></span><span class=line><span class=cl><span class=c1>#		listen     localhost:110;</span>
</span></span><span class=line><span class=cl><span class=c1>#		protocol   pop3;</span>
</span></span><span class=line><span class=cl><span class=c1>#		proxy      on;</span>
</span></span><span class=line><span class=cl><span class=c1>#	}</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1>#	server {</span>
</span></span><span class=line><span class=cl><span class=c1>#		listen     localhost:143;</span>
</span></span><span class=line><span class=cl><span class=c1>#		protocol   imap;</span>
</span></span><span class=line><span class=cl><span class=c1>#		proxy      on;</span>
</span></span><span class=line><span class=cl><span class=c1>#	}</span>
</span></span><span class=line><span class=cl><span class=c1>#}</span>
</span></span></code></pre></td></tr></table></div></div><p>é‡Œé¢å®åœ¨æœ‰å¤ªå¤šçš„æ³¨é‡Šäº†ï¼Œè™½è¯´æ˜¯å¾ˆå¥½çš„å‚è€ƒï¼Œä½†æ˜¯çœ‹å¤šäº†ä¼šæ„Ÿè§‰å¾ˆç¢çœ¼ï¼Œæ‰€ä»¥ä½ å¸Œæœ›å¯ä»¥æœ‰ä¸€ä»½æ²¡æœ‰æ³¨é‡Šçš„é…ç½®æ–‡ä»¶ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ <strong>grep</strong> å’Œå‚æ•° <strong>-v</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>egrep -v <span class=s2>&#34;#|^</span>$<span class=s2>&#34;</span> /etc/nginx/nginx.conf &gt;/tmp/nging.conf
</span></span></code></pre></td></tr></table></div></div><p>ç»“æœå¦‚ä¸‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cfg data-lang=cfg><span class=line><span class=cl><span class=na>worker_processes auto;</span>
</span></span><span class=line><span class=cl><span class=na>pid /run/nginx.pid;</span>
</span></span><span class=line><span class=cl><span class=na>include /etc/nginx/modules-enabled/*.conf;</span>
</span></span><span class=line><span class=cl><span class=na>events {</span>
</span></span><span class=line><span class=cl><span class=na>worker_connections 1024;</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl><span class=na>http {</span>
</span></span><span class=line><span class=cl><span class=na>sendfile on;</span>
</span></span><span class=line><span class=cl><span class=na>tcp_nopush on;</span>
</span></span><span class=line><span class=cl><span class=na>tcp_nodelay on;</span>
</span></span><span class=line><span class=cl><span class=na>keepalive_timeout 65;</span>
</span></span><span class=line><span class=cl><span class=na>types_hash_max_size 2048;</span>
</span></span><span class=line><span class=cl><span class=na>include /etc/nginx/mime.types;</span>
</span></span><span class=line><span class=cl><span class=na>default_type application/octet-stream;</span>
</span></span><span class=line><span class=cl><span class=na>ssl_prefer_server_ciphers on;</span>
</span></span><span class=line><span class=cl><span class=na>log_format main &#39;$remote_addr - $remote_user [$time_local] &#34;$request&#34; $status $bytes_sent &#34;$http_referer&#34; &#34;$http_user_agent&#34; &#34;$gzip_ratio&#34;&#39;;</span>
</span></span><span class=line><span class=cl><span class=na>access_log /var/log/nginx/access.log;</span>
</span></span><span class=line><span class=cl><span class=na>error_log /var/log/nginx/error.log;</span>
</span></span><span class=line><span class=cl><span class=na>gzip on;</span>
</span></span><span class=line><span class=cl><span class=na>gzip_disable &#34;msie6&#34;;</span>
</span></span><span class=line><span class=cl><span class=na>include /etc/nginx/conf.d/*.conf;</span>
</span></span><span class=line><span class=cl><span class=na>include /etc/nginx/sites-enabled/*;</span>
</span></span><span class=line><span class=cl><span class=na>ignore_invalid_headers on;</span>
</span></span><span class=line><span class=cl><span class=na>client_header_timeout 240;</span>
</span></span><span class=line><span class=cl><span class=na>client_body_timeout 240;</span>
</span></span><span class=line><span class=cl><span class=na>send_timeout 240;</span>
</span></span><span class=line><span class=cl><span class=na>client_max_body_size 100m;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_buffer_size 128k;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_buffers 8 128k;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>upstream tomcat_server{</span>
</span></span><span class=line><span class=cl><span class=na>server 127.0.0.1:8080 fail_timeout</span><span class=o>=</span><span class=s>0;</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>upstream gunicorn_server{</span>
</span></span><span class=line><span class=cl><span class=na>server 127.0.0.1:5000 fail_timeout</span><span class=o>=</span><span class=s>0;</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl><span class=na>server{</span>
</span></span><span class=line><span class=cl><span class=na>server_name 127.0.0.1;</span>
</span></span><span class=line><span class=cl><span class=na>listen 443;</span>
</span></span><span class=line><span class=cl><span class=na>location / {</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header X-Forwarded-Host $host;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header X-Forwarded-Server $host;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_pass http://tomcat_server;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header X-Forwarded-Proto https;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_redirect off;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_connect_timeout      240;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_send_timeout         240;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_read_timeout         240;</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl><span class=na>location /test{</span>
</span></span><span class=line><span class=cl><span class=na>return 402;</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl><span class=na>location /weixin {</span>
</span></span><span class=line><span class=cl><span class=na>return 402;</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl><span class=na>location @proxy_to_app {</span>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_set_header Host $http_host;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_redirect off;</span>
</span></span><span class=line><span class=cl><span class=na>proxy_pass http://gunicorn_server;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span><span class=line><span class=cl><span class=na>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>egrep</strong> æ˜¯ <strong>grep</strong> çš„æ‰©å±•ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ <strong>-E</strong> ä½¿ç”¨æ‰©å±•åŠŸèƒ½ã€‚å°±è¿™æ ·ï¼Œä½ å°±å¯ä»¥å¾—åˆ°ä¸€ä»½å¾ˆâ€œå¹²å‡€â€çš„é…ç½®æ–‡ä»¶äº†ã€‚</p><h2 id=å°ç»“><span class=section-num>5</span> å°ç»“<a hidden class=anchor aria-hidden=true href=#å°ç»“>#</a></h2><p>åœ¨ä»¥å‰ <strong>grep</strong> æ˜¯ <strong>hacker</strong> å·¥å…·ç®±é‡Œé¢å®¡æŸ¥æºä»£ç å¿…ä¸å¯å°‘çš„å·¥å…·ä¹‹ä¸€ï¼Œä½†æ˜¯éšç€æŠ€æœ¯çš„å‘å±•ï¼Œä¼¼ä¹å¯¹æ¯”å…¶ä»–åŒç±»å‹çš„å·¥å…·ï¼Œ <strong>grep</strong> çš„æ€§èƒ½å·²ç»éš¾å°½äººæ„ï¼Œç‰¹åˆ«æ˜¯å¯¹æ¯” <strong>ag</strong> è¿™ä¸ªæœç´¢ç¥å™¨ï¼›</p><p>è™½è¯´å¾ˆå¤šäººéƒ½å·²ç»è½¬ç§»åˆ°äº† <strong>ag</strong> é˜µè¥ï¼Œä½†æ˜¯å› ä¸º <strong>grep</strong> è¢«å¹¿æ³›é¢„è£…åˆ°å„ç±»çš„Linux/Unix æœºå™¨ï¼Œæ‰€ä»¥ <strong>grep</strong> è¿˜æ˜¯ä½¿ç”¨å¾—å¾ˆå¹¿æ³›æ»´ã€‚</p><p>æ›´å¤š <strong>grep</strong> çš„ç”¨æ³•å°±éœ€è¦æŸ¥è¯¢æ‰‹å†Œäº†ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>man grep
</span></span></code></pre></td></tr></table></div></div><p>Enjoy Shell :)</p><div center class=qr-container><img src=/ox-hugo/qrcode_gh_e06d750e626f_1.jpg alt=qrcode_gh_e06d750e626f_1.jpg width=160px height=160px center=t class=qr-container>
å…¬å·åŒæ­¥æ›´æ–°ï¼Œæ¬¢è¿å…³æ³¨ğŸ‘»</div></div><footer class=post-footer><ul class=post-tags><li><a href=https://ramsayleung.github.io/zh/tags/shell/>Shell</a></li><li><a href=https://ramsayleung.github.io/zh/tags/linux/>Linux</a></li><li><a href=https://ramsayleung.github.io/zh/tags/command_line/>Command_line</a></li></ul><nav class=paginav><a class=prev href=https://ramsayleung.github.io/zh/post/2017/port_scanner/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>Pythonå¤šçº¿ç¨‹ç«¯å£æ‰«æå™¨</span>
</a><a class=next href=https://ramsayleung.github.io/zh/post/2017/java8_file_io/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>Javaè¯»å†™æ–‡ä»¶å°ç»“</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep on x" href="https://x.com/intent/tweet/?text=Linux%2fUnix%20Shell%20%e4%ba%8c%e4%b8%89%e4%ba%8b%e4%b9%8b%e8%bf%87%e6%bb%a4%e5%99%a8grep&amp;url=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2017%2fgrep%2f&amp;hashtags=shell%2clinux%2ccommand_line"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2017%2fgrep%2f&amp;title=Linux%2fUnix%20Shell%20%e4%ba%8c%e4%b8%89%e4%ba%8b%e4%b9%8b%e8%bf%87%e6%bb%a4%e5%99%a8grep&amp;summary=Linux%2fUnix%20Shell%20%e4%ba%8c%e4%b8%89%e4%ba%8b%e4%b9%8b%e8%bf%87%e6%bb%a4%e5%99%a8grep&amp;source=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2017%2fgrep%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep on reddit" href="https://reddit.com/submit?url=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2017%2fgrep%2f&title=Linux%2fUnix%20Shell%20%e4%ba%8c%e4%b8%89%e4%ba%8b%e4%b9%8b%e8%bf%87%e6%bb%a4%e5%99%a8grep"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2017%2fgrep%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep on whatsapp" href="https://api.whatsapp.com/send?text=Linux%2fUnix%20Shell%20%e4%ba%8c%e4%b8%89%e4%ba%8b%e4%b9%8b%e8%bf%87%e6%bb%a4%e5%99%a8grep%20-%20https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2017%2fgrep%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep on telegram" href="https://telegram.me/share/url?text=Linux%2fUnix%20Shell%20%e4%ba%8c%e4%b8%89%e4%ba%8b%e4%b9%8b%e8%bf%87%e6%bb%a4%e5%99%a8grep&amp;url=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2017%2fgrep%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Linux/Unix Shell äºŒä¸‰äº‹ä¹‹è¿‡æ»¤å™¨grep on ycombinator" href="https://news.ycombinator.com/submitlink?t=Linux%2fUnix%20Shell%20%e4%ba%8c%e4%b8%89%e4%ba%8b%e4%b9%8b%e8%bf%87%e6%bb%a4%e5%99%a8grep&u=https%3a%2f%2framsayleung.github.io%2fzh%2fpost%2f2017%2fgrep%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><section><h2>Comments</h2><div id=comments-giscus></div></section><script type=text/javascript>function getCurrentTheme(){return document.documentElement.getAttribute("data-theme")||document.body.classList.contains("dark")?"dark":"light"}function setGiscusTheme(e=!1){const s=e?"dark":"light";var n,t=document.querySelector(".giscus-frame");t&&(n=new URL(t.src),n.searchParams.set("theme",s),t.src=n.toString())}function loadComment(e=!1){const n="zh"=="zh",t=document.getElementById("comments-giscus");if(t!==null&&!t.hasAttribute("data-giscus-loaded")){console.log("Initial giscus load");const s=document.createElement("script");s.setAttribute("src","https://giscus.app/client.js"),s.setAttribute("data-repo","ramsayleung/comment"),s.setAttribute("data-repo-id","MDEwOlJlcG9zaXRvcnkzMDk2NjQ1NDk="),s.setAttribute("data-category","General"),s.setAttribute("data-category-id","DIC_kwDOEnUbJc4Cltnz"),s.setAttribute("data-mapping","pathname"),s.setAttribute("data-strict","0"),s.setAttribute("data-reactions-enabled","1"),s.setAttribute("data-emit-metadata","0"),s.setAttribute("data-input-position","bottom"),s.setAttribute("data-theme",e?"dark":"light"),s.setAttribute("crossorigin","anonymous"),s.setAttribute("data-lang",n?"zh-CN":"en"),s.setAttribute("async","true"),t.appendChild(s),t.setAttribute("data-giscus-loaded","true")}}let currentTheme=getCurrentTheme();loadComment(currentTheme==="dark");const themeObserver=new MutationObserver(e=>{e.forEach(e=>{if(e.type==="attributes"&&e.attributeName==="class"){const e=getCurrentTheme();e!==currentTheme&&(currentTheme=e,setGiscusTheme(currentTheme==="dark"))}})});themeObserver.observe(document.body,{attributes:!0,attributeFilter:["class"]})</script></article></main><footer class=footer><span>See this site&rsquo;s source code <a href=https://github.com/ramsayleung/ramsayleung.github.io>here</a>, licensed under GPLv3 Â·</span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>