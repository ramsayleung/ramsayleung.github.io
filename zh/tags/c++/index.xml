<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>C&#43;&#43; on è èæ²¹ä¸å¤©å…‰å¢Ÿ</title>
    <link>https://ramsayleung.github.io/zh/tags/c&#43;&#43;/</link>
    <description>Recent content in C&#43;&#43; on è èæ²¹ä¸å¤©å…‰å¢Ÿ</description>
    <image>
      <title>è èæ²¹ä¸å¤©å…‰å¢Ÿ</title>
      <url>https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://ramsayleung.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- 0.146.7</generator>
    <language>zh</language>
    <copyright>See this site&amp;rsquo;s source code here, licensed under GPLv3 Â·</copyright>
    <lastBuildDate>Thu, 09 Jan 2025 20:05:50 -0800</lastBuildDate>
    <atom:link href="https://ramsayleung.github.io/zh/tags/c++/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Rustæ¨¡æ‹ŸC&#43;&#43;çš„å‡½æ•°é‡è½½</title>
      <link>https://ramsayleung.github.io/zh/post/2024/rust%E6%A8%A1%E6%8B%9Fc&#43;&#43;%E7%9A%84%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD/</link>
      <pubDate>Fri, 30 Aug 2024 22:23:00 -0700</pubDate>
      <guid>https://ramsayleung.github.io/zh/post/2024/rust%E6%A8%A1%E6%8B%9Fc&#43;&#43;%E7%9A%84%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD/</guid>
      <description>&lt;h2 id=&#34;å‡½æ•°é‡è½½--function-overloading&#34;&gt;&lt;span class=&#34;section-num&#34;&gt;1&lt;/span&gt; å‡½æ•°é‡è½½(function overloading)&lt;/h2&gt;
&lt;p&gt;æ‰€è°“çš„å‡½æ•°é‡è½½ï¼ŒæŒ‡çš„æ˜¯æŸäº›è¯­è¨€æ”¯æŒåˆ›å»ºå‡½æ•°åç›¸åŒï¼Œä½†å‡½æ•°ç­¾åä¸åŒçš„å¤šä¸ªå‡½æ•°ï¼Œæ‰€è°“çš„å‡½æ•°ç­¾åï¼Œæ—¢æŒ‡å‚æ•°ç±»å‹ï¼Œä¹ŸæŒ‡å‚æ•°çš„æ•°é‡ã€‚ &lt;br/&gt;&lt;/p&gt;</description>
      <content:encoded><![CDATA[<h2 id="å‡½æ•°é‡è½½--function-overloading"><span class="section-num">1</span> å‡½æ•°é‡è½½(function overloading)</h2>
<p>æ‰€è°“çš„å‡½æ•°é‡è½½ï¼ŒæŒ‡çš„æ˜¯æŸäº›è¯­è¨€æ”¯æŒåˆ›å»ºå‡½æ•°åç›¸åŒï¼Œä½†å‡½æ•°ç­¾åä¸åŒçš„å¤šä¸ªå‡½æ•°ï¼Œæ‰€è°“çš„å‡½æ•°ç­¾åï¼Œæ—¢æŒ‡å‚æ•°ç±»å‹ï¼Œä¹ŸæŒ‡å‚æ•°çš„æ•°é‡ã€‚ <br/></p>
<p>å¦‚C++ï¼ŒJavaéƒ½æ˜¯æ”¯æŒå‡½æ•°é‡è½½çš„ï¼Œè€ŒRustæ˜¯ä¸æ”¯æŒå‡½æ•°é‡è½½çš„, ä¸ªäººçŒœæµ‹å¯èƒ½æ˜¯Rustæœ€åˆçš„è®¾è®¡è€…è®¤ä¸ºå‡½æ•°é‡è½½å¯èƒ½ä¼šå¯¼è‡´å¢åŠ ä»£ç ç†è§£éš¾åº¦ï¼Œå°¤å…¶æ˜¯åœ¨C++é‡Œé¢ï¼Œéšå¼ç±»å‹è½¬æ¢å åŠ å‡½æ•°é‡è½½ï¼Œå¯èƒ½çœ‹ä»£ç éƒ½çœ‹ä¸å‡ºå®é™…è°ƒç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„å‡½æ•°ã€‚ <br/></p>
<h2 id="rustç‰ˆæœ¬çš„å‡½æ•°é‡è½½"><span class="section-num">2</span> Rustç‰ˆæœ¬çš„å‡½æ•°é‡è½½</h2>
<p>ä½†æ˜¯æˆ‘ä¸ªäººè§‰å¾—å‡½æ•°é‡è½½åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯å¾ˆæ–¹ä¾¿ï¼Œä¹Ÿä¸éœ€è¦ä¸ºç›¸åŒçš„å‡½æ•°æƒ³ä¸åŒçš„åå­—ï¼Œæ¯•ç«Ÿå‘½åæ˜¯ç¼–ç¨‹æœ€éš¾çš„é—®é¢˜ä¹‹ä¸€ã€‚ <br/>
ä»Šå¤©é‡è¯» Programming Rust, 2nd Editionå…³äº <code>Into</code> è¿™ä¸ªtrait çš„åŠŸèƒ½çš„æ—¶å€™ï¼Œçªç„¶æ„è¯†åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ <code>Into</code> æ¨¡æ‹Ÿå‡ºéƒ¨åˆ†çš„å‡½æ•°é‡è½½åŠŸèƒ½ã€‚ <br/></p>
<p>ä¸ºä»€ä¹ˆè¯´æ˜¯ã€Œéƒ¨åˆ†ã€å‘¢ï¼Œå› ä¸ºå‰æ–‡æåˆ°ï¼Œæ‰€è°“çš„å‡½æ•°é‡è½½æ˜¯æŒ‡å¤šä¸ªåŒåä½†å‡½æ•°ç­¾åä¸ä¸€æ ·çš„å‡½æ•°ï¼Œè€ŒRustèƒ½æ¨¡æ‹Ÿçš„å°±æ˜¯å‚æ•°ç±»å‹ä¸ä¸€æ ·ï¼Œä½†æ˜¯å‚æ•°æ•°é‡ä¸€è‡´çš„é‡è½½å‡½æ•°ã€‚ <br/></p>
<p>å‡è®¾æˆ‘ä»¬æƒ³å®ç°è‡ªå·±çš„ <code>ping</code> å‘½å, å…¥å‚å¯ä»¥æ˜¯ <a href="https://doc.rust-lang.org/std/net/struct.Ipv4Addr.html"><code>Ipv4Addr</code></a> è¿™ä¸ª struct, ipv4çš„åœ°å€ä¹Ÿå¯ä»¥ä½¿ç”¨2è¿›åˆ¶æ¥è¡¨ç¤º, åˆæˆ–è€…å¯ä»¥ä½¿ç”¨ u32 æ¥è¡¨ç¤ºï¼Œæ¯•ç«Ÿåªæœ‰32ä½ã€‚ <br/></p>
<p>å¦‚æœç”¨ C++, æˆ‘ä»¬å¯ä»¥å†™3ä¸ªé‡è½½å‡½æ•°ï¼Œå…¥å‚åˆ†åˆ«æ˜¯, <code>Ipv4Addr</code>, <code>bitset</code> å’Œ <code>uint32</code>. åœ¨ Rust, æˆ‘ä»¬ä¹Ÿå®ç°ç±»ä¼¼çš„å‡½æ•°ï¼š <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">net</span>::<span class="n">Ipv4Addr</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">fn</span> <span class="nf">ping</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span><span class="p">(</span><span class="n">address</span>: <span class="nc">A</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">std</span>::<span class="n">io</span>::<span class="nb">Result</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">where</span><span class="w"> </span><span class="n">A</span>: <span class="nb">Into</span><span class="o">&lt;</span><span class="n">Ipv4Addr</span><span class="o">&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">ipv4_address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">address</span><span class="p">.</span><span class="n">into</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="o">..</span><span class="p">.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢å‡½æ•°çš„å…¥å‚å¹¶ä¸æ˜¯ <code>Ipv4Addr</code>, è€Œæ˜¯ <code>Into&lt;Ipv4Addr&gt;</code> ï¼Œè¿™å°±æ˜¯æ„å‘³ç€ï¼Œæ‰€æœ‰å®ç°äº† <code>Into&lt;Ipv4Addr&gt;</code> è¿™ä¸ª trait çš„ç±»å‹éƒ½å¯ä»¥æ˜¯ <code>ping</code> çš„å…¥å‚ï¼Œè€Œæ°å¥½ <code>u32</code> å’Œ <code>[u8; 4]</code> éƒ½å®ç°äº† <code>Into&lt;Ipv4Addr&gt;</code> ï¼Œæ‰€ä»¥ä¸‹é¢çš„è°ƒç”¨éƒ½æ˜¯ç¼–è¯‘é€šè¿‡çš„ï¼š <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{:?}</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">ping</span><span class="p">(</span><span class="n">Ipv4Addr</span>::<span class="n">new</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w"> </span><span class="mi">68</span><span class="p">,</span><span class="w"> </span><span class="mi">141</span><span class="p">)));</span><span class="w"> </span><span class="c1">// pass an Ipv4Addr
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{:?}</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">ping</span><span class="p">([</span><span class="mi">66</span><span class="p">,</span><span class="w"> </span><span class="mi">146</span><span class="p">,</span><span class="w"> </span><span class="mi">219</span><span class="p">,</span><span class="w"> </span><span class="mi">98</span><span class="p">]));</span><span class="w">             </span><span class="c1">// pass a [u8; 4]
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="fm">println!</span><span class="p">(</span><span class="s">&#34;</span><span class="si">{:?}</span><span class="s">&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">ping</span><span class="p">(</span><span class="mh">0xd076eb94_</span><span class="k">u32</span><span class="p">));</span><span class="w">                 </span><span class="c1">// pass a u32
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å½“ç„¶ï¼Œå¦‚æœä½ å®ç°äº† <code>impl From&lt;u32&gt; for Ipv4Addr</code>, Rust ç¼–è¯‘å™¨ä¹Ÿä¼šè´´å¿ƒåœ°å¸®ä½ æŠŠåå‘çš„ <code>Into&lt;Ipv4Addr&gt;</code> ä¹Ÿå®ç°æ‰ã€‚ <br/></p>
<h2 id="é™åˆ¶"><span class="section-num">3</span> é™åˆ¶</h2>
<p>çœ‹å®Œä¸Šé¢çš„å‡½æ•°å®ç°ï¼Œæœ‰ç»éªŒçš„æœ‹å‹å¯èƒ½å°±ä¼šå‘ç°äº†ï¼ŒRustç‰ˆæœ¬çš„å‡½æ•°é‡è½½é™åˆ¶æ¯”C++çš„è¦å¤šã€‚ <br/></p>
<p>åœ¨C++ç‰ˆæœ¬çš„å‡½æ•°é‡è½½ä¸­ï¼š <br/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c++" data-lang="c++"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">func1</span><span class="p">(</span><span class="n">Type1</span> <span class="n">foo</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">func1</span><span class="p">(</span><span class="n">Type2</span> <span class="n">bar</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å‚æ•°ç±»å‹ <code>Type1</code> å’Œ <code>Type2</code> å¹¶ä¸éœ€è¦å­˜åœ¨ä»»ä½•å…³ç³»ï¼Œä½†æ˜¯åœ¨ Rust ç‰ˆæœ¬ä¸­ï¼Œéœ€è¦ä¸¤ä¸ªç±»å‹ä¹‹é—´æ”¯æŒç›¸äº’è½¬æ¢ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£æˆ Rust çš„ã€Œå‡½æ•°é‡è½½ã€æœ¬è´¨å°±æ˜¯é€šè¿‡æ˜¾ç¤ºç±»å‹è½¬æ¢æ¥å®ç°çš„ã€‚ <br/></p>
<p>æ¯•ç«Ÿ Rust è®¾è®¡åˆè¡·ä¹‹ä¸€å°±æ˜¯æ”¯æŒå¼ºç±»å‹ï¼Œå°±å‡½æ•°é‡è½½è€Œè¨€ï¼Œç»ˆå½’èŠèƒœäºæ— å•¦ã€‚ <br/></p>
<h2 id="å‚è€ƒ"><span class="section-num">4</span> å‚è€ƒ</h2>
<ul>
<li><a href="https://www.oreilly.com/library/view/programming-rust-2nd/9781492052586/">Programming Rust, 2nd Edition</a> <br/></li>
</ul>
<div center class="qr-container">
<img src="/ox-hugo/qrcode_gh_e06d750e626f_1.jpg" alt="qrcode_gh_e06d750e626f_1.jpg" width="160px" height="160px" center="t" class="qr-container" />
å…¬å·åŒæ­¥æ›´æ–°ï¼Œæ¬¢è¿å…³æ³¨ğŸ‘»
</div>
]]></content:encoded>
    </item>
  </channel>
</rss>
